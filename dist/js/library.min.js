Odette.definition(this,function(e,t,n){"use strict";function r(e,t){return this}var i,o=window,u=o.document,a="",s=" ",c="-",f=".",l=",",d="/",h="_",v=":",p=h+h,m=d+d,g="px",y=0+g,w="id",b="display",A="destroy",x="before",k="change",E="changing",T=x+v,C=k+v,S=T+A,M=A+"ing",O="toString",D="toJSON",N="prototype",I="constructor",L="current",j="previous",R="exports",B="application",P="name",V="type",H="finished",U="selector",q="element",W="child",F="none",_="hidden",z="target",G="origin",J="reset",Q="attributes",X="data",Y="parent",K="length",Z="object",ee="string",te="number",ne="boolean",re="function",ie="index",oe=ie+"Of",ue="window",ae="document",se="stack",ce="start",fe="stop",le="class",de=le+"Name",he="top",ve="left",pe="right",me="bottom",ge="width",ye=p+"elid"+p,we="height",be="item",Ae="innerHeight",xe="innerWidth",ke="dispatchEvent",Ee="http",Te=Ee+"s",Ce=p+I+p,Se="location",Me="extend",Oe="style",De="body",Ne=!0,Ie=!1,Le=1/0,je=32767,Re=-je-1,Be=2147483647,Pe=null,Ve=Function,He=Array,Ue=String,qe=Number,We=Object,$e=Ve[I],Fe="[object ",_e=(Ue[N],We[N],He[N],Ve[N],qe.MAX_VALUE),ze=qe.MIN_VALUE,Ge=(qe.MAX_SAFE_INTEGER,qe.MIN_SAFE_INTEGER,{}),Je=We.keys,Qe=We[N].toString,Xe=!{toString:Pe}.propertyIsEnumerable(O),Ye=function(){},Ke=function(e,t,n,r){if(!e)return-1;for(var i,o=n||e[K],u=t+(r?0:-1),a=r?-1:1;(u+=a)<o;)if(i=e[u],i!==i)return u;return-1},Ze=function(e,t,n,r,i){var o,u,a;if(!e)return-1;if(t!==t)return Ke(e,n,r,i);for(o=(n||0)-1,u=r||e[K],a=i?-1:1;(o+=a)<u;)if(e[o]===t)return o;return-1},et=function(e,t,n,r,i){var o,u=n||0,a=r||e[K]-1,s=Be>=a?Ne:Ie;if(t!==t)return Ke(e,u,a,i);if(s)for(;a>=u;){if(o=u+a>>1,e[o]===t)return o;e[o]<t?u=o+1:a=o-1}else for(;a>=u;){if(o=(u+a)/2|0,e[o]===t)return o;e[o]<t?u=o+1:a=o-1}return-1},tt=function(e,t,n,r,i){return(n===Ne&&e&&e[K]>100?et:Ze)(e,t,n,r,i)},nt=function(e){return e==Pe?a:e+a},rt=function(e){return(gt(e)?JSON.stringify(e):dt(e)?e.toString():e)+a},it=function(e,t,n,r){var i=Yt(t||function(e,t){return e>t},r);return e.sort(function(e,t){var r=i(e,t);return ft(r)&&(r=Le),r===Ne&&(r=1),r===Ie&&(r=-1),n?-1*r:r})},ot=function(e,t,n,r,i){var o=n||function(e,t){return e[t]};return it(e,function(e,n){return o(e,t)>o(n,t)},r,i)},ut=function(e,t,n){var r=Ie;return n?-1!==Ze(e,t):(e&&dt(e.hasOwnProperty)&&(r=e.hasOwnProperty(t)),r)},at=function(e){return e&&e[Ce]&&e[Ce][I]||e[I]},st=function(e,t){var n=t;return ut(n,I)&&(n=n[I]),e instanceof n},ct=function(e,t){var n=t||function(){return Ne};return function(t){return typeof t===e&&n(t)}},ft=function(e){return e!==e},lt=function(e){return e===e},dt=ct(re),ht=ct(ne),vt=function(e){return mt(e)&&e===Math.round(e)},pt=ct(ee),mt=ct(te,lt),gt=ct(Z,function(e){return!!e}),yt=function(e){return e===Pe},wt=function(e){return e===i},bt=function(e){return function(){return!e.apply(this,arguments)}},At=o.isFinite,xt=function(e){return mt(e)&&At(e)},kt=function(e){return!(!e||e!==e[ue])},Et=He.isArray,Tt=function(e){return!cn(e)[K]},Ct=function(e){for(var t=0,n={},r=cn(e),i=r[K];i>t;t++)n[e[r[t]]]=r[t];return n},St=function(e,t){var n=Wn[K],r=e[I],i=dt(r)&&r[N]||ObjProto,o=I;for(ut(e,o)&&!contains(t,o)&&t.push(o);n--;)o=Wn[n],o in e&&e[o]!==i[o]&&!contains(t,o)&&t.push(o)},Mt=function(){return+new Date},Ot=Mt(),Dt=function(){return Mt()-Ot},Nt=window.performance,It=Nt?(Nt.now=Nt.now||Nt.webkitNow||Nt.msNow||Nt.oNow||Nt.mozNow||Dt)&&Nt:{now:Dt,offset:Ot},Lt=function(){var e=Ie,t=arguments,n=t[K],r=1,i=t[0];for(i===Ne&&(e=Ne,i=t[1],r=2),i=i||{};n>r;r++)Bt(i,t[r],e);return i},jt=function(e,t,n){return dt(e)?e.apply(t,n):e},Rt=function(e,t){return function(){var n=this,r=n[I].fn[e],i=qn(arguments);return Lt(Ne,jt(r,n,i),jt(t,n,i))}},Bt=function(e,t,n){for(var r,o,u=0,a=cn(t),s=a[K];s>u;u++)r=a[u],t[r]!==i&&(o=t[r],n&&gt(t[r])?(gt(e[r])||(e[r]=Pn(t[r])),Bt(e[r],t[r],n)):e[r]=o);return e},Pt=function(e){var t=[];return en(e,function(e){t.push(e)}),t},Vt=function(e){var t=[];return Zt(e,function(e,n){Zt(e,function(e,r){var i=t[r];t[r]||(i=t[r]=[]),i[n]=e})}),t},Ht=function(e,t){var n={};return t?Zt(e,function(e,r){n[e]=t[r]}):Zt(e,function(e,t){n[e[0]]=e[1]}),n},Ut=Math.pow(2,53)-1,qt=function(e){var t=!!e&&e[K];return Et(e)||(kt(e)?Ie:mt(t)&&!pt(e)&&t>=0&&Ut>=t&&!dt(e))},Wt=function(e,t,n){var r=cn(e),i=Yt(t,n);return{keys:r,handler:function(t,n,r){return i(e[t],t,e)}}},$t=function(e){return function(t,n,r,i){var o,u=t,a=u,s=n,c=s,f=r,l=i;return u?(qt(u)||(o=Wt(a,s,f),c=o.handler,a=o.keys,f=Pe),e(a,c,f,l)):u}},Ft=function(e){return function(t,n,r,i){for(var o,u,a=qt(t)?t:cn(t),s=a[K],c=Yt(n,r),f=i||(e>0?0:s-1);f>=0&&s>f;f+=e)if(o=f,t!==a&&(o=a[f]),u=t[o],c(u,o,t))return u}},_t=Ft(1),zt=Ft(-1),Gt=function(e){return-1!==e&&e===e&&e!==i&&e!==Pe&&e!==Ie&&e!==Ne},Jt=_t,Qt=zt,Xt=function(e,t){return arguments[K]<3?Yt(e,t):Kt(e,qn(arguments).slice(1))},Yt=function(e,t){return t?e.bind(t):e},Kt=function(e,t){return e.bind.apply(e,t)},Zt=function(e,t,n,r){var i,o,u,a,s,c;if(e){if(s=0,a=e[K],c=a%8,u=parseInt(a/8,10),0>r&&(s=a-1),i=r||1,o=Yt(t,n),c>0)do o(e[s],s,e),s+=i;while(--c>0);if(u)do o(e[s],s,e),s+=i,o(e[s],s,e),s+=i,o(e[s],s,e),s+=i,o(e[s],s,e),s+=i,o(e[s],s,e),s+=i,o(e[s],s,e),s+=i,o(e[s],s,e),s+=i,o(e[s],s,e),s+=i;while(--u>0);return e}},en=$t(Zt),tn=function(e){return function(t,n,r){return e(t,n,arguments[K]<3?Pe:r,-1)}},nn=tn(Zt),rn=tn(en),on=function(e){var t,n=e+a;return n=n.trim(),n===Ie+a&&(t=Ie),n===Ne+a&&(t=Ne),t===i&&(t=e),t},un=function(e){return parseFloat(e)||0},an=function(e){return parseInt(e,10)||0},sn=function(e){var t,n=[];for(t in e)n.push(t);return Xe&&St(e,n),n},cn=function(e){var t,n=[];if(!e||!gt(e)&&!dt(e))return n;if(Je)return Je(e);for(t in e)ut(e,t)&&n.push(t);return Xe&&St(e,n),n},fn=function(e,t){var n,r,i,o,u,a=this,s=pt(e);if(e===Ie)return Lt(a[N],t),a;s||(t=e),o=ut(t,I),t&&o&&(r=t[I]),s?(i=a,r&&(i=r),r=new $e("parent","return function "+e+"(){return parent.apply(this,arguments);}")(i)):r=r||new $e("parent","return "+a.toString())(a),r[Me]=fn;var c=function(){this[I]=r};return c[N]=a[N],r[N]=new c,t&&Lt(r[N],t),n=I+v+e,s&&(r[N][n]?Er(I+"s with names cannot extend constructors with the same name"):r[N][n]=r),u=r,r=ln(u,a),u[N][Ce]=r,r},ln=function(e,t){var n=function(t,n,r,i,o,u){return t instanceof e?t:new e(t,n,r,i,o,u)};return n.isInstance=e.isInstance=function(t){return st(t,e)},n.fn=e.fn=e[N].fn=e[N],n[I]=e,n[Me]=e[Me]=Xt(fn,e),t&&(n["super"]=e["super"]=e[N]["super"]=t),n},dn=function(e){var t=Ne;return function(){return t?(t=Ie,e.apply(this,arguments)):void 0}},hn=function(e,t,n,r){var o,u,s,c,f,l,d;if(e===t)return 0!==e||1/e===1/t;if(e===Pe||e===i||t===i||t===Pe)return e===t;if(o=Qe.call(e),o!==Qe.call(t))return Ie;switch(o){case Fe+"RegExp]":case Fe+"String]":return a+e===a+t;case Fe+"Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case Fe+"Date]":case Fe+"Boolean]":return+e===+t}if(u=o===Fe+"Array]",!u){if(!gt(e)||!gt(t))return Ie;if(s=e[I],c=t[I],s!==c&&!(dt(s)&&s instanceof s&&dt(c)&&c instanceof c)&&I in e&&I in t)return Ie}for(f=n[K];f--;)if(n[f]===e)return r[f]===t;if(n.push(e),r.push(t),u){if(f=e[K],f!==t[K])return Ie;for(;f--;)if(!hn(e[f],t[f],n,r))return Ie}else{if(l=cn(e),f=l[K],cn(t)[K]!==f)return Ie;for(;f--;)if(d=l[f],!ut(t,d)||!hn(e[d],t[d],n,r))return Ie}return n.pop(),r.pop(),Ne},vn=function(e,t){return hn(e,t,[],[])},pn=function(e){return Vn(e,function(e){return e})},mn=function(e){return Ln(rt(e))},gn=function(e,t,n){var r={},i=Et(e),o=dt(t);return en(e,function(u,a){i?!o||n?r[u]=t:r[u]=t(u,a):r[a]=t(e[a],a)}),r},yn=function(e){return Lt(jr,e)},wn=function(e){return function(t){return e(t)}},bn={first:wn},An=function(){var e=[];return e.concat.apply(e,Vn(arguments,wn(qn)))},xn=function(){return yr(arguments,function(e,t){return Zt(t,function(t){-1===Ze(e,t)&&e.push(t)}),e},[])},kn=function(e,t){var n=e[K],r=t%n,i=e.splice(r);return e.unshift.apply(e,i),e},En=function(e,t){var n=e[K],r=t%n,i=e.splice(0,n-r);return e.push.apply(e,i),e},Tn=function(e,t){var n=cn(t),r=Object(e);return!Jt(n,function(e){return t[e]===r[e]&&e in r?void 0:Ne})},Cn=function(e){return function(t){return Tn(t,e)}},Sn=function(e,t,n){var r=qt(e),i=Yt(t,n),o=0;return yr(e,function(e,t,n,u){return o++,i(t,n,u)&&(r?e.push(t):e[n]=t),e},r?[]:{})},Mn=function(e,t){return Sn(e,Cn(t))},On=function(e,t){return Jt(e,Cn(t))},Dn=function(e,t){return Qt(e,Cn(t))},Nn=function(e,t){return Sn(e,bt(Cn(t)))},In={"true":Ne,"false":Ie,"null":Pe,undefined:i},Ln=function(e){var t,n,r,i=e;return pt(i)?(i=t=i.trim(),(n=i[K])?("{"===i[0]&&"}"===i[n-1]||"["===i[0]&&"]"===i[n-1])&&(i=Tr(function(){return JSON.parse(i)},function(){return i}))!==t?i:(r=+i,ft(r)?ut(In,i)?In[i]:"function"===i.slice(0,8)?new $e("return "+i)():i:r):i):i},jn=function(e){var t=e.toString(),n=t.split("{");return t=n.shift(),(t=n.join("{")).slice(0,t[K]-1)},Rn=function(e,t){return"with("+(t||"this")+"){\n"+e+"\n}"},Bn=function(e,t,n){var r=t;dt(t)&&(r=jn(t));var i=new $e("string",Rn('	eval("(function (){"+string+"}());");'));i.call(e,'"use strict";\n'+r)},Pn=function(e){return!gt(e)||qt(e)?[]:{}},Vn=function(e,t,n){var r=Pn(e),i=Yt(t,n);return e?en(e,function(t,n){r[n]=i(t,n,e)})&&r:r},Hn=function(e){return 1===e[K]?[e[0]]:He.apply(Pe,e)},Un=function(e){return e?yr(e,function(e,t){e.push(t)},[]):[]},qn=function(e,t){return qt(e)?Et(e)?e.slice(0):Hn(e):pt(e)?e.split(pt(t)?t:l):[e]},Wn=qn("valueOf,isPrototypeOf,"+O+",propertyIsEnumerable,hasOwnProperty,toLocaleString"),$n=function(e,t,n){var r=!!t;return yr(e,function(e,t){var i;return qt(t)?(i=r?$n(t,r,n):t,e.concat(i)):(n&&n(t),e.push(t),e)},[])},Fn=function(e,t,n){return $n(qt(e)?e:Un(e),t,n)},_n=function(e,t){var n=[];return n.concat.apply(n,Vn(e,t))},zn=function(e,t,n){return e===e&&(n!==i&&(e=n>=e?e:n),t!==i&&(e=e>=t?e:t)),e},Gn=function(e){return zn(e,MIN_SAFE_VALUE,MAX_SAFE_VALUE)},Jn=function(e){return _e>e&&e>ze},Qn=function(e){var t=e%1;return e===e?t?e-t:e:0},Xn=function(e,t){var n;return Qn((n=+e)==e?t?n:Gn(n):0)},Yn=function(e){return mt(e)&&Jn(e)},Kn=function(e,t,n){var r;return function(){var i=this,o=arguments,u=n&&!r,a=function(){r=Pe,n||e.apply(i,o)};return clearTimeout(r),r=setTimeout(a,t),u&&e.apply(i,o),r}},Zn=function(e,t,n){var r,i;return t||(t=250),function(){var o=n||this,u=Mt(),a=arguments;r&&r+t>u?(clearTimeout(i),i=setTimeout(function(){r=u,e.apply(o,a)},t)):(r=u,e.apply(o,a))}},er=function(e,t,n){var r;return function(){var t=n||this,i=qn(arguments);return clearTimeout(r),r=setTimeout(function(){e.apply(t,i)})}},tr=function(e){var t=e.url,n=[];return gt(e)?(en(e.query,function(e,t){e!==i&&(e=encodeURIComponent(rt(e)),n.push(t+"="+e))}),n[K]&&(t+="?"),t+=n.join("&"),e.hash&&(e.hash=gt(e.hash)?encodeURI(rt(e.hash)):hash,t+="#"+e.hash)):t=e,t},nr=function(e,t,n){var r,i,o=at(e);n=n||1;do i=o[N],r=i[t],o=at(i);while(--n>0&&o&&xt(n));return r},rr=function(){var e="crypto"in o&&"getRandomValues"in crypto,t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n,r,u;return e&&(n=o.crypto.getRandomValues(new Uint32Array(1)),n===i&&(e=Ie)),e||(n=[Math.floor(1e10*Math.random())]),n=n[0],r=n%16,u="x"===t?r:3&r|8,u.toString(16)});return e?t:"SF"+t},ir=function(e){return function(t,n){var r=this;return ur(t,n,e,r),r}},or=function(e,t,n,r){var i,o=gt(e),u=Xt(n,r);return o&&(i=cn(e)),function(n,r,a,s,c,f){o?Zt(i,function(t){u(t,e[t],n,r,a,s,c,f)}):u(e,t,n,r,a,s,c,f)}},ur=function(e,t,n,r){var i,o=r?Xt(n,r):n;Et(e)?Zt(e,function(e){o(e,t)}):(i=gt(e)?e:Ie)?en(i,ar(o)):o(e,t)},ar=function(e){return function(t,n,r){return e(n,t,r)}},sr=function(e,t,n){var r;return mt(t)||(t=1),r=Math.pow(n||10,t),parseInt(r*e,10)/r},cr=function(e,t,n){return e==Pe?e:dt(e[t])?e[t](n):gt(e)?e[t]:e},fr=function(e,t,n){return Zt(e,function(e){e[t](n)})},lr=function(e,t){return Zt(e,function(e){e(t)})},dr=function(e,t,n,r,i){return Zt(e,function(e){Tr(function(){e[t](n)},r,i)})},hr=function(e,t,n){return Vn(e,function(e){return cr(e,t,n)})},vr=function(e,t,n){return Zt(e,function(e){cr(e,t,n)},Pe,-1)},pr=Math,mr=function(e){return function(t){return pr[e].apply(pr,t)}},gr=function(e){var t=function(t,n,r,o,u,a){for(var s,c;u>=0&&a>u;u+=e)c=o?o[u]:u,s=n(r,t[c],c,t),s!==i&&(r=s);return r};return function(n,r,i,o){var u=!qt(n)&&cn(n),a=(u||n)[K],s=e>0?0:a-1;return arguments[K]<3&&(i=n[u?u[s]:s],s+=e),t(n,r,i,u,s,a)}},yr=gr(1),wr=gr(-1),br=function(e,t){return yr(e,function(n,r,i){return t(r,i,e)&&n.push(r),n},[])},Ar=o.console||{},xr=Ar.log||Ye,kr=Lt(gn(qn("trace,warn,log,dir,error,clear,table,profile,profileEnd,time,timeEnd,timeStamp"),function(e){var t=Ar[e]||xr;return function(){t&&t.apply&&t.apply(Ar,arguments);"trace"!==e&&"error"!==e&&Ar.trace&&Ar.trace()}}),{exception:function(e){throw new Error(e)},assert:function(e,t){e||Er(t)}}),Er=kr.exception,Tr=function(t,n,r){var i,o=Pe;try{i=t()}catch(u){o=u,e.logWrappedErrors&&kr.error(u),i=n?n(u,i):i}finally{i=r?r(o,i):i}return i},Cr=function(e,t){return t===i?!e:!!t},Sr=function(e){return function(){return e}},Mr=Sr["true"]=Sr(Ne),Or=Sr["false"]=Sr(Ie),Dr=Sr.array=function(){return[]},Nr=Sr.object=function(){return{}},Ir=(Sr.first=function(e){return e},function(e,t){return function(){return t.call(this,e.apply(this,arguments))}}),Lr={number:mt,string:pt,object:gt,nan:ft,"int":vt,array:Et,"function":dt,"boolean":ht,"null":yt,length:Yn,validInteger:Jn,arrayLike:qt,instance:st},jr=e._={is:Lr,blockWrapper:Rn,unwrapBlock:jn,passes:bn,performance:It,constructorWrapper:ln,stringifyQuery:tr,intendedApi:ir,intendedObject:ur,intendedIteration:or,parseDecimal:un,flatten:Fn,gather:_n,isInt:vt,reverseParams:ar,isArrayLike:qt,isInstance:st,hasEnumBug:Xe,roundFloat:sr,factories:Ge,cloneJSON:mn,toBoolean:on,stringify:rt,values:Pt,zip:Vt,object:Ht,wraptry:Tr,toString:nt,throttle:Zn,debounce:Kn,defer:er,protoProperty:nr,protoProp:nr,sortedIndexOf:et,indexOfNaN:Ke,toInteger:Xn,indexOf:Ze,toArray:qn,isEqual:vn,isArray:Et,isEmpty:Tt,returns:Sr,isBoolean:ht,invert:Ct,extend:Lt,superExtend:Rt,noop:Ye,toggle:Cr,reduce:yr,foldl:yr,foldr:wr,now:Mt,some:br,map:Vn,result:cr,isUndefined:wt,isFunction:dt,isObject:gt,isNumber:mt,isFinite:xt,isString:pt,isNull:yt,isNaN:ft,notNaN:lt,eachProxy:$t,publicize:yn,allKeys:sn,evaluate:Bn,parse:Ln,merge:Bt,clone:pn,bind:Xt,bindTo:Yt,bindWith:Kt,duff:Zt,duffRight:nn,eachRight:rn,iterates:Wt,sort:it,sortBy:ot,wrap:gn,uuid:rr,keys:cn,once:dn,each:en,flows:Ir,baseClamp:zn,has:ut,negate:bt,pI:an,createPredicateIndexFinder:Ft,findIndex:_t,findLastIndex:zt,validKey:Gt,find:Jt,findLast:Qt,console:kr,min:mr("min"),max:mr("max"),arrayLikeToArray:Hn,objectToArray:Un,BIG_INTEGER:je,NEGATIVE_BIG_INTEGER:Re,math:gn(qn("E,LN2,LN10,LOG2E,LOG10E,PI,SQRT1_2,SQRT2,abs,acos,acosh,asin,asinh,atan,atan2,atanh,cbrt,ceil,clz32,cos,cosh,exp,expm1,floor,fround,hypot,imul,log,log1p,log2,log10,pow,random,round,sign,sin,sinh,sqrt,tan,tanh,trunc"),function(e){return Math[e]})};e.logWrappedErrors=Ne,Ge.Extendable=ln(r,We),e.shims=function(e){var t=function(){function e(e){return 10>e?"0"+e:e}function t(e){return c.lastIndex=0,c.test(e)?'"'+e.replace(c,function(e){var t=f[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function n(e,r){var s,c,f,l,d,h=o,v=r[e];switch(v&&"object"==typeof v&&"function"==typeof v.toJSON&&(v=v.toJSON(e)),"function"==typeof a&&(v=a.call(r,e,v)),typeof v){case"string":return t(v);case"number":return xt(v)?String(v):"null";case"boolean":case"null":return String(v);case"object":if(!v)return"null";if(o+=u,d=[],"[object Array]"===Object[N].toString.apply(v)){for(l=v[i],s=0;l>s;s+=1)d[s]=n(s,v)||"null";return f=0===d[i]?"[]":o?"[\n"+o+d.join(",\n"+o)+"\n"+h+"]":"["+d.join(",")+"]",o=h,f}if(a&&"object"==typeof a)for(l=a[i],s=0;l>s;s+=1)"string"==typeof a[s]&&(c=a[s],f=n(c,v),f&&d.push(t(c)+(o?": ":":")+f));else for(c in v)Object[N].hasOwnProperty.call(v,c)&&(f=n(c,v),f&&d.push(t(c)+(o?": ":":")+f));return f=0===d[i]?"{}":o?"{\n"+o+d.join(",\n"+o)+"\n"+h+"}":"{"+d.join(",")+"}",o=h,f}}var r=this,i="length";if(r.performance=r.performance||{},r.performance.now=function(){var e=r.performance;return e.now||e.mozNow||e.msNow||e.oNow||e.webkitNow||function(){return(new Date).getTime()}}(),!JSON){"function"!=typeof Date[N].toJSON&&(Date[N].toJSON=function(t){return xt(this.valueOf())?this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"Z":null},String[N].toJSON=Number[N].toJSON=Boolean[N].toJSON=function(e){return this.valueOf()});var o,u,a,s=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,c=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,r){var s;if(o="",u="","number"==typeof r)for(s=0;r>s;s+=1)u+=" ";else"string"==typeof r&&(u=r);if(a=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t[i]))throw new Error("JSON.stringify");return n("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(e,t){function n(e,r){var i,o,u=e[r];if(u&&"object"==typeof u)for(i in u)Object[N].hasOwnProperty.call(u,i)&&(o=n(u,i),void 0!==o?u[i]=o:delete u[i]);return t.call(e,r,u)}var r;if(e=String(e),s.lastIndex=0,s.test(e)&&(e=e.replace(s,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return r=Function[N].constructor("("+e+")"),"function"==typeof t?n({"":r},""):r;throw new SyntaxError("JSON.parse")})}Function[N].bind||(Function[N].bind=function(e){if("function"!=typeof this)throw new TypeError("Function[PROTOTYPE].bind - what is trying to be bound is not callable");var t=Array[N].slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r?this:e,t.concat(Array[N].slice.call(arguments)))};return this[N]&&(r[N]=this[N]),i[N]=new r,i}),r.matchMedia=r.matchMedia||function(){var e=r.styleMedia||r.media;if(!e){var t=document.createElement("style"),n=document.getElementsByTagName("script")[0],i=null;t.type="text/css",t.id="matchmediajs-test",n.parentNode.insertBefore(t,n),i="getComputedStyle"in r&&r.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var n="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=n:t.textContent=n,"1px"===i.width}}}return function(t){return t=t||"all",{matches:e.matchMedium(t),media:t}}}()};t.call(e)},e.shims(o);var Rr=function(e){var t={};return function(n){return ut(t,n)||(t[n]=e(n)),t[n]}},Br=function(e,t){var n={};return function(r,i){var o;return i=i||t,(o=n[i]=n[i]||Rr(e(i)))(r)}},Pr=jr.extend(gn(qn("toLowerCase,toUpperCase,trim"),function(e){return Rr(function(t){return t[e]()})}),gn(qn("match,search"),function(e){return Br(function(t){return function(n){return n[e](t)}})})),Vr=function(e){return function(){var t=qn(arguments),n=this;return Vn(t[0],function(r){return t[0]=r,e.apply(n,t)})}},Hr=function(e,t,n){var r=e.slice(t[K]),i=r[0];return n&&(i=r[0].toLowerCase()),r=i+r.slice(1)},Ur=Vr(Hr),qr=function(e,t,n,r){var o=t+e;return n!==i&&(o=t+(r||c)+e,o=n?Fr(o,r):zr(o,r)),o},Wr=Vr(qr),$r=function(){var e={};return function(t){var n=e[t];return n||(e[t]=n=new Function[I]("return "+t)),n()}}(),Fr=Br(function(e){return function(t){var n,r,i;if(pt(t)){for(t[0]===e&&(t=t.slice(1)),r=t.split(e),n=r[K]-1;n>=1;n--)r[n]&&(r[n]=_r(r[n]));i=r.join(a)}return i}},c),_r=Rr(function(e){return e[0].toUpperCase()+e.slice(1)}),zr=Br(function(e){return function(t){return t.replace(/([a-z])([A-Z])/g,"$1"+e+"$2").replace(/[A-Z]/g,function(e){return e.toLowerCase()})}},c),Gr=function(e){return zr(e,"_")},Jr=function(e){return zr(e,c)},Qr=Br(function(e){var t={},n={},r=[],i=qn(e);i.sort(function(e,i){var o=e[K],u=i[K],a=jr.max([-1,jr.min([1,o-u])]);return n[e]=n[i]=Ne,t[o]||(t[o]=Ne,r.push(o)),t[u]||(t[u]=Ne,r.push(u)),-1*(0===a?e>i?-1:1:a)});return r.sort(function(e,t){return-1*jr.max([-1,jr.min([1,e-t])])}),function(e){for(var t,i=0,o=(e+a).trim(),u=o[K];r[i];){if(r[i]<u&&(t=o.substr(u-r[i],u),n[t]))return t;i++}return Ie}}),Xr=qn("px,em,rem,ex,in,cm,%,vh,vw,pc,pt,mm,vmax,vmin"),Yr=function(e){return Qr(e,Xr)},Kr=Rr(function(e){var t=!1,n=e.split(m)[K];return(0===e.indexOf(Ee)&&n>=2||0===e.indexOf(m)&&2===n)&&(t=!0),t}),Zr=(Rr(function(e){var t=!1,n=str.split(m);n[K],n.shift();return t}),Rr(function(e){var t=a,n=Ze(e,"#")+1;return n&&(t=e.slice(n)),t})),ei=function(e,t){var n=Zr(e);return t?n:Ln(n)},ti=function(e,t,n){return e[n||0]===t},ni=ti,ri=function(e){var t,n,r,i,u,s=0,c=o.decodeURIComponent;for(e||(e=o[Se].search),r=e.slice(1).split("&"),t={};s<r[K];s++)n=r[s].split("="),n[0]&&(n[K]<2&&n[PUSH](a),i=n[1],i=c(i),"'"!==i[0]&&'"'!==i[0]||(i=i.slice(1,i[K]-1)),i===Ne+a&&(i=Ne),i===Ie+a&&(i=Ie),pt(i)&&(u=+i,u==i&&u+a===i&&(i=u)),t[c(n[0])]=i);return t},ii=function(e){return e.toString=function(){return e.href},e.replace=function(t){var n=si(t);return n.previous=e,n},e},oi=Rr(function(e){var t;return e?(pt(e)||(e=e.referrer),pt(e)&&(e+=d,t=e.match(/^https?:\/\/.*?\//im),t&&(t=t[0].slice(0,t[0][K]-1))),t||a):a}),ui=[Ee,Te].concat(qn("file,about,javascript,ws,tel")),ai={"http:":Ne,"https:":Ne},si=function(e,t,n){var r,i,o,u,s,c,l,h=n||window,p=e||a,m=a,g=a,y=a,w=a,b=a,A=a,x=Ze(p,"?")+1,k={},E=ui[K],T=p.split(v),C=h.location.protocol,S=T[K]-1&&(s=T.shift()),M=(S&&Jt(ui,function(e){return e===s})||C.slice(0,C[K]-1))+v;if(x?(m=p.slice(x-1),g=Zr(m)):g=Zr(p),x&&(m=m.split(g).join(a),k=ri(m),p=p.slice(0,x-1)),p[0]===d&&p[1]===d)M=h.location.protocol;else{for(;E--&&!M;)p.slice(0,ui[E][K])===ui[E]&&(M=ui[E]);M||(M=Ee)}if(T=p.split(v),T[K]-1){for(s=T.shift(),l=T.join(v).split(d);!y;)y=l.shift();u=y.split(v),A=u.shift(),b=u[K]?u[0]:a,r=T.shift(),p=T.join(v).slice(y[K])}else y=h.location.host,b=h.location.port,A=h.location.hostname;return c=h.location.pathname.slice(1),p[0]===d&&p[1]!==d&&(p=p.slice(1),c=a),p[0]===f&&(p=p.slice(2)),w=d+c+p,o=M+(ai[M]?d+d:a)+A+(b?v+b:a),i=o+w+(m||a)+(g||a),ii({passed:e,port:b,hostname:A,pathname:w,search:m.slice(1),host:y,hash:g.slice(1),href:i,protocol:M.slice(0,M[K]),origin:o,searchObject:k})},ci=60,fi=7,li=30,di=24,hi=1e3,vi=365,pi=hi*ci,mi=pi*ci,gi=mi*di,yi=mi*fi,wi=mi*li,bi=gi*vi,Ai={ms:1,secs:hi,s:hi,mins:pi,hrs:mi,days:gi,wks:yi,mnths:wi,yrs:bi},xi=[],ki=yr(Ai,function(e,t,n){return xi.push(n),e[n]=function(e){return e*t},e},{}),Ei=qn("sunday,monday,tuesday,wednesday,thursday,friday,saturday"),Ti=qn("january,feburary,march,april,may,june,july,august,september,october,november,december"),Ci=gn(Ti,Ne),Si=gn(Ti,function(e,t){return t}),Mi=Rr(function(e){var t=0;return Zt(qn(e+a),function(e){var n=e,r=Qr(n,xi),i=+n.split(r||a).join(a),o=ki[r];i===i&&(o&&(i=o(i)),t+=i)}),t}),Oi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},Di=Ct(Oi),Ni=function(e){var t=function(t){return e[t]},n="(?:"+cn(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=e==Pe?a:a+e,r.test(e)?e.replace(i,t):e}},Ii=Ni(Oi),Li=Ni(Di);jr.publicize({escape:Ii,unescape:Li,monthIndex:Si,monthHash:Ci,months:Ti,weekdays:Ei,customUnits:Qr,cacheable:Rr,categoricallyCacheable:Br,deprefix:Hr,deprefixAll:Ur,prefix:qr,prefixAll:Wr,capitalize:_r,spinalCase:Jr,kebabCase:Jr,camelCase:Fr,snakeCase:Gr,reference:oi,string:Pr,units:Yr,baseUnitList:Xr,isHttp:Kr,parseHash:ei,parseUrl:si,parseSearch:ri,parseObject:$r,time:Mi,startsWith:ni,itemIs:ti});var ji="Status",Ri="statuses",Bi={creation:{},destruction:{}},Pi=Sr(Pe),Nr=function(){return{}},Vi=function(e,t,n){return n},Hi=function(e,t){return function(n,r,i){return this.directive(e)[t](n,r,i)}},Ui=function(e,t){return function(n){var r=this,i=r.directive(e);return Zt(n,i[t],i),r}},qi=function(e,t,n){var r=dt(n);return function(i,o,u,a,s,c){var f=this;return f[e]?f[e][t](i,o,u,a,s,c):r?n(f):n}},Wi=function(e,t,n){var r;!pt(e)&&Er("directives must be registered with a string for a name")||!dt(t)&&Er("directives must be registered with at least a create function");return Bi.creation[e]=(r=Bi.creation[e])||t,Bi.destruction[e]=Bi.destruction[e]||n,!r},$i=function(t,n,r,i){var o=i||Vi,u=r||Vi;Bi.creation[t]||Er("directives must exist before they can be extended");return e.defineDirective(n,function(e,n,r){var i=new Bi.creation[t](e,n,r);return new u(e,n,i)},function(e,n,r){var i=Bi.destruction[t](e,n,r);return o(e,n,i)})},Fi=(Ge.Directive=Ge.Extendable.extend("Directive",{mark:Hi(ji,"mark"),unmark:Hi(ji,"unmark"),remark:Hi(ji,"remark"),is:qi(ji,"is",Ie),directive:function(e){var t,n,r=this;return(n=r[e])?n:(t=r["directive:creation:"+e]||Bi.creation[e]||Nr,r[e]=new t(r,e),r[e])},directiveDestruction:function(e){var t=(Bi.destruction[e]||Pi)(this[e],this,e);return delete this[e],t}}),Ge.Status=Ge.Directive.extend(ji,{constructor:function(){return this[Ri]={},this},has:function(e){return this[Ri][e]!==i},mark:function(e){var t=this[Ri][e];return this[Ri][e]=Ne,t!==Ne},unmark:function(e){var t=this[Ri][e];return this[Ri][e]=Ie,t!==Ie},remark:function(e,t){var n=this,r=n[Ri][e],o=n[Ri][e]=t===i?!n[Ri][e]:!!t;return r!==o},is:function(e){return!!this[Ri][e]},isNot:function(e){return!this[Ri][e]}}));Wi(ji,Fi[I]),e.defineDirective=Wi,e.extendDirective=$i,jr.publicize({directives:{parody:Hi,checkParody:qi,iterate:Ui}});var _i="Collection",zi="reversed",Gi="Registry",Ji="delimited",Qi="StringManager",Xi="Sorted"+_i;e.scope(function(e){var t="object must not be null or "+i,n="objects in sorted collections must have either a number or string for their valueOf result",r="list cannot be modified while it is being iterated over",o=function(e){return function(e,t,n,r,i){var o=0;return Zt(t,function(t){o+=u(e,t,n,r,i)}),o===e[K]}},u=function(e,t,n,r,i){var o=Ze(e,t,n,r,i);return o+1&&f(e,o),o+=1,!!o},c=o(u),f=function(e,t){return e.splice(t,1)[0]},l=function(e,t,n,r,i){var o=0,u=Ze(e,t,n,r,i);return-1===u&&(o=e.push(t)),!!o},d=o(l),h=function(e,t,n){var r=e[K];return e.splice(n||0,0,t),r!==e[K]},p=function(e,t,n){var r=n||Ye,i=[],o=t||0,u=mt(o),a=qt(o);return 0>o&&(u=!1),e[K]?(u?(i=[e[o]],r(i[0])):a?Zt(o,function(t){var n=e[t];i.push(n),r(n)}):(i=[e[0]],r(i[0])),i):i},m=function(e,t,n,r){var i,o,u;for(t==Pe&&(t=e||0,e=0),xt(e)&&mt(e)||(e=0),n=+n||1,i=Math.max(Math.ceil((t-e)/n),0)+(+r||0),o=[],u=0;i>u;)o[u]=e,u++,e+=n;return o},g=function(e,t,n,r,i){var o,u,a,s;if(r>=i||!mt(r)||!mt(i)||!xt(r)||!xt(i))return e;for(s=n||this,o=Yt(t,s),i=Math.abs(i),a=r;i>a;)u=Pe,e[K]>a&&(u=e[a]),o(u,a,e),a++;return e},y=function(e,t,n,r){return g(e,t,n,0,r)},b=function(e,t,n,r){return g(e,t,n,r,e[K])},A=function(e,t,n,r){for(var i,o,u,a=n||0,s=r||e[K]-1;s>=a;)if(i=(a+s)/2|0,o=e[i],t>o)a=i+1;else{if(!(o>t))return i;s=i-1}return u=~~s},x=function(e,t){return function(){return new this[Ce](e.apply(t||this,arguments))}},k=Ge[Gi]=Ge.Directive.extend(Gi,{constructor:function(){return this.reset(),this},get:function(e,t){var n=this.register[e];return n&&n[t]},keep:function(e,t,n){var r=this.register,o=r[e]=r[e]||{};return n===i?delete o[t]:o[t]=n,this},ungroup:function(e){return this.group(e,{})},group:function(e,t){var n=this.register;return n[e]=t||n[e]||{},n[e]},swap:function(e,t,n){var r=this.get(e,t);return this.keep(e,t,n),r},drop:function(e,t){return this.swap(e,t)},reset:function(e,t){var n=this.register;return this.register=e||{},n}}),E=qn("eq,where,whereNot,map,results,filter,cycle,uncycle,flatten,gather"),T={each:Zt,duff:Zt,forEach:Zt,eachCall:fr,eachCallTry:dr,eachRight:nn,duffRight:nn,forEachRight:nn,eachCallRight:vr},C=(cn(T),qn("add")),S=qn("insertAt,remove,removeAt"),M=qn("pop,shift,splice"),O=qn("reverse"),L=qn("push,unshift"),j=qn("join"),R=qn("count,countTo,countFrom,merge"),B=qn("foldr,foldl,reduce"),P=qn("find,findLast,findWhere,findLastWhere"),V=qn("indexOf"),H=B.concat(P),U=function(e){return function(t,n,r,i,o,u){var a,s=this;return++s.iterating,a=e(s,t,n,r,i,o,u),--s.iterating,a}},q=Lt({seeker:function(e,t){var n=this,r=Yt(e,t);return nn(n.toArray(),function(e,t,i){r(e,t,i)&&n.removeAt(t)})},slice:function(e,t){return new F(this.toArray().slice(e,t))}},gn(j,function(e){return function(t){return this.toArray()[e](t)}}),gn(V.concat(C),function(e){return function(t,n,r,i,o){var u=this;return jr[e](u.toArray(),t,n,r,i,o)}}),gn(L,function(e){return function(t){var n=Et(t)?t:arguments,r=this.toArray();return r[e].apply(r,n)}}),gn(M,function(e){return function(t,n,i,o,u,a){var s=this;return s.iterating?Er(r):s.toArray()[e](t,n,i,o,u,a)}}),gn(S,function(e){return function(t,n,i,o,u){var a=this;return a.iterating?Er(r):jr[e](a.toArray(),t,n,i,o,u)}}),gn(O,function(e){return function(){var t=this;return t.remark(zi,!t.is(zi)),t.toArray()[e](),t}}),gn(T,function(e){return U(function(t,n,r){var i=t.toArray(),o=n,u=arguments[K]>1?r:t;return e(i,o,u),t})}),gn(R,function(e){return U(function(t,n,r,i){return jr[e](t.toArray(),n,t,r,i),t})}),gn(E,function(e){return U(function(t,n,r,i){return new F[I](jr[e](t.toArray(),n,r,i))})}),gn(H,function(e){return U(function(t,n,r,i){return jr[e](t.toArray(),n,r,i)})})),W=jr.publicize({eachCall:fr,eachCallRight:vr,filter:Sn,matches:Cn,results:hr,add:l,removeAll:c,addAll:d,insertAt:h,removeAt:f,remove:u,cycle:kn,uncycle:En,concat:An,where:Mn,findWhere:On,findLastWhere:Dn,range:m,count:g,countTo:y,countFrom:b,whereNot:Nn,eachRight:rn,duffRight:nn,flatten:Fn,eq:p}),$=function(){return this.items},F=Ge[_i]=Ge.Directive.extend(_i,Lt({get:Hi(Gi,"get"),keep:Hi(Gi,"keep"),drop:Hi(Gi,"drop"),swap:Hi(Gi,"swap"),constructor:function(e){return this.reset(e),this},call:function(e){return this.each(function(t){t(e)}),this},obliteration:function(e,t){return nn(this.toArray(),e,t===i?this:t),this},empty:function(){return this.reset(),this.directive(Gi).reset(),this},reset:function(e){var t=this;t.toArray()||[];return t.iterating=t.iterating?Er(r):0,t.items=e==Pe?[]:F.isInstance(e)?e.toArray().slice(0):qn(e),t.unmark(zi),t},toArray:$,unwrap:$,length:function(){return this.toArray()[K]},first:function(){return this.toArray()[0]},last:function(){var e=this.toArray();return e[e[K]-1]},item:function(e){return this.toArray()[e||0]},has:function(e){return-1!==this.indexOf(e)},sort:function(e){var t=this;return it(t.toArray(),e,t.is(zi),t),t},sortBy:function(e,t){var n=this;return ot(n.toArray(),e,t,n.is(zi),n),n},toString:function(){return rt(this.toArray())},toJSON:function(){return hr(this.toArray(),D)},copy:function(){return this.items.slice(0)},range:x(m),concat:x(function(){var e=this.toArray();return e.concat.apply(e,Vn(arguments,function(e){return F(e).toArray()}))})},q)),_=(e.defineDirective(_i,function(){return new F[I]}),e.defineDirective(_i,function(){return F()}),Ge.SortedCollection=F.extend(Xi,{constructor:function(e,t){var n=this;return n[I+v+_i](),e&&!t&&n.load(qt(e)?e:[e]),n},reverse:function(){var e=this;return e.remark(zi,!e.is(zi)),e.sort(),e},closestIndex:function(e){return A(this.toArray(),e)},closest:function(e){var t,n=this.toArray();return-1===(t=A(n,e))?i:n[t]},validIDType:function(e){return mt(e)||pt(e)},indexOf:function(e,t,n){return tt(this.toArray(),e,Ne)},load:function(e){var t=this;return Et(e)?Zt(e,t.add,t):t.add(e),t},add:function(e){var r,i=this,o=(e==Pe&&Er(t),e&&e.valueOf()),u=(r=i[Gi])&&i.get(w,o);return u?Ie:(W=!i.validIDType(o)&&Er(n),i.insertAt(e,i.closestIndex(o)+1),(r||i.directive(Gi)).keep(w,o,e),Ne)},remove:function(e,n){var r=this,o=(e==Pe&&Er(t),e&&e.valueOf());return e==Pe||r.get(w,o)==Pe?Ie:(r.removeAt(n===i?r.indexOf(e):n),r.drop(w,o),Ne)},pop:function(){var e=this,t=e[K]();return t?e.remove(e.last(),t-1):void 0},shift:function(){return this.remove(this.first(),0)}})),z=Ge.StringObject=Ge.Extendable.extend("StringObject",{constructor:function(e,t){var n=this;return n.value=e,n.parent=t,n.isValid(Ne),n},toggle:function(e){this.isValid(Cr(this.isValid(),e))},isValid:function(e){var t=this;return arguments[K]?(t.valid!==e&&(t.parent.increment(),
t.valid=e),t):t.valid},valueOf:function(){return this.value},toString:function(){var e=this,t=e.value,n=e.parent;return n.indexer===i?t:e.isValid()?(t=n.indexer?n.delimiter+t:t,++n.indexer,t):(e.parent.drop(w,t),e.parent.removeAt(n.indexer),a)}});Ge[Qi]=_.extend(Qi,{Child:z,add:function(e){var t=this,n=t.get(w,e);return e&&(n?n.isValid(Ne):(n=new t.Child(e,t),t.toArray().push(n),t.keep(w,e,n))),n},emptyCollection:F[I][N].empty,empty:function(){var e=this;return e.emptyCollection(),e.current(a),e},increment:function(){var e=this;return e.changeCounter=e.changeCounter||0,e.changeCounter++,e},decrement:function(){var e=this;return e.changeCounter=e.changeCounter||0,e.changeCounter--,e},remove:function(e){var t=this,n=t.get(w,e);return e&&n&&n.isValid(Ie),t},toggle:function(e,t){var n=Ne,r=this,o=r.get(w,e);o||(n=Ie,o=r.add(e)),t===i?n&&o.toggle():o.toggle(t)},join:function(e){var t,n,r,o=this,u=(e||a)+a,s=o.directive(Gi);return o.changeCounter=o.changeCounter||0,o.changeCounter&&(o.changeCounter=0,s.group(Ji,{})),(r=s.get(Ji,u))!==i?r:(t=o.toArray().slice(0),o.indexer=0,o.delimiter=u,n=t.join(a),o.current(u,n),delete o.indexer,delete o.delimiter,n)},generate:function(e){var t,n=a,r=this,i=e;return r.changeCounter=r.changeCounter||0,!r.changeCounter&&(t=r.current(i))?t:(r.current(i,n=r.join(i)),n)},current:function(e,t){var n,r=this;return 1===arguments[K]?(n=r.get(Ji,e))===i?r.join(e):n:(r.keep(Ji,e,t),r)},ensure:function(e,t){var n=this,r=e,o=t===i?s:t,u=Et(r),a=u?r.join(o):r;return n.current(o)===a?n:(n.load(u?r:pt(r)?r.split(o):Ie),n.current(o,a),n)},refill:function(e){var t=this,n=e;return t.empty(),n&&t.load(n),t.increment(),t}});e.defineDirective(Gi,k[I])});var Yi=Ge[_i],Ki=Ge.Directive.extend("Messenger",{constructor:function(){var e=this;return Ge.Directive[I].apply(this,arguments),hash={},e.request=function(e,t,n){return hash[e]&&hash[e](t)},e.reply=function(t,n,r){return ur(t,n,function(e,t){hash[e]=Xt(dt(t)?t:Sr(t),Pe)}),e},e.destroy=function(){hash=i},e}});e.defineDirective("Messenger",Ki);var Zi="Events",ke="dispatchEvent",eo="EventManager",to="stopListening",no="talkerId",ro="listeningTo",io="l",oo="handlers";e.scope(function(e){var t=function(e,t){var n=pt(t)?e[t]:t;!dt(n)&&Er("handler must be a function or a string with a method on the originating object");return n},n=function(e,t,n,r,i,o){return Zt(qn(n,s),function(n){o(e,t,t.make(n,r,e),i)})},r=function(e,t,r,i){return function(o,u){var a,s,c=Ne,f=this;return o?t&&!u?f:(a=qn(arguments),ur(a[t],a[t+1],function(o,u,l){s=s||f.directive(eo),c&&l&&a.splice(t,t+1,Pe),a[t]=o,a[t+1]=u,c=Ie,a[K]<r&&i(f,a),n(f,s,o,u,a,e)}),f):f}},i=function(e,t){return function(n){return vn(t,n[G].get(e))}},o=function(e,t){t.fn=function(n){n&&t.comparator(n)&&(t.triggersOnce&&e.detach(t),t.runner(n))}},u=function(e,t){return function(){var n,r,u,c,l,d,h,p,m=this,g={};return arguments[0]?(u=qn(arguments),c=e,r=u.slice(e),l=r[0],n=r[gt(l)?2:3]||m,e&&!u[0]?g:(d=m.directive(eo),p=e?u[0].directive(eo):d,ur(l,r[1],function(c,l,y){var w=c.split(s)[0],b=h||Xt(r[y?1:2],n||m),A=dt(l)?l:i(w,l),x=k+v+w,E=m,T=p.make(x,b,m);e+2<u[K]&&u.push(n),e&&a(m,d,T,u[0]),T.comparator=A,T.triggersOnce=!!t,T.runner=b,f(E,p,T,[r[0],r[2],r[3]],o),g[w]=b}),g)):g}},a=function(e,t,n,r){var i=m(e,r),o=r.directive(eo);o[oo]=o[oo]||{};return i.count++,n.listening=i,o},c=function(e,t){var n=t.fn||t.handler;t.fn=dn(function(r){return e.detach(t),n.apply(this,arguments)})},f=function(e,n,r,i,o){r.context=r.context||i[2],r.handler=t(e,r.handler),n.attach(r.name,r,o)},l=function(e,t,n,r){f(e,t,n,r,c)},d=function(e){return function(t,n){n[K]===e&&n.push(t)}},h=d(2),p=d(3),m=function(t,n){var r,i=t.directive(eo),o=n.directive(eo),u=o[no],a=i[ro];return u&&(r=a[u])?r:(u=i[no]=i[no]||e.counter(io),r=a[u]={talker:n,talkerId:u,listeningTo:a,count:0})},g=function(e,n,r,i,o){var u=i[0],s=a(e,n,r,u);r.handler=t(e,r.handler),f(u,s,r,i.slice(1),o)},y=function(e,t,n,r){g(e,t,n,r,c)},b="c";Ge[Zi]=Ge.Directive.extend(Zi,{initialize:Ye,bubble:Hi(eo,"bubble"),on:r(f,0,3,h),once:r(l,0,3,h),listenTo:r(g,1,4,p),listenToOnce:r(y,1,4,p),watch:u(0),watchOnce:u(0,1),watchOther:u(1),watchOtherOnce:u(1,1),request:Hi("Messenger","request"),reply:Hi("Messenger","reply"),when:Hi("Linguistics","when"),constructor:function(t){var n=this;return Lt(n,t),n[b+w]=n[b+w]||e.counter(b),n.on(cr(n,"events")),n.initialize(t),n},off:function(e,t,r){var i,o,u=this,a=e,s=u[eo];if(s)return i=gt(a)?t:r,arguments[K]?a?ur(a,t,function(e,t){n(u,s,e,t,[],function(e,t,n){var r=s[oo][n.name];return r&&s.seekAndDestroy(r,n.handler,i)})}):en(s[oo],function(e,n){s.seekAndDestroy(e,t,i)}):(o=s[se].last(),o&&s.detach(o)),u},stopListening:function(e,t,n){var r,i,o,u,a=0,s=this,c=s[eo];return c?(r=c[ro],(i=e&&!(u=e[eo]))?s:(o=e?[u[no]]:cn(r),Zt(o,function(e){var i=r[e];i&&i.talker.off(t,n),a=a||i&&i[e]?1:0}),a||Jt(e?cn(r):o,function(e,t){return r[e]})||(c[ro]={}),s)):s},dispatchEvents:function(e){var t=this;return Zt(qn(e,s),t.dispatchStack,t)&&t},dispatchStack:function(e){return this[ke](e)},dispatchEvent:function(e,t,n){var r,i,o,u=this,a=u[eo];if(a&&a.has(e)&&!a.running[e]&&!a.queued[e]&&(i=a.validate(e,t,n)))return Et(i)&&(e=i[0],t=i[1],n=i[2]),r=a.create(u,t,e,n),o=a.dispatch(e,r)}})});var uo=_r(W+"ren"),ao=W+"Options",so=W+Zi;e.scope(function(e){var t=(Ge.Events,Ge.Collection,"sort"),n="added",r="unwrap",o="removed",u="stopListening",a="_delegatedParentEvents",s="_parentDelgatedChildEvents",c=function(e,t){return L(e,t)},f=function(e,t){var n,r=cr(e,so);t&&r&&(n=t.directive(eo),n[s]=r,e.listenTo(t,r))},l=function(e,t){var n;t&&e[u]&&(n=t[eo])&&n[s]&&(e[u](t,t[s]),n[s]=i)},d=function(e,t){var n,r=t[Y],i=cr(t,Y+"Events");r&&i&&(n=t.directive(eo),n[a]=i,t.listenTo(r,i))},h=function(e,t){var n;t[u]&&(n=t[eo])&&n[a]&&(t[u](e,t[a]),n[a]=i)},p="Syncer",m=function(e,t,n){var r=e.toJSON();return Ge.HTTP({url:t,type:n,data:e.stringifyPosts?e.stringify(r):r})},g=Ge.Directive.extend(p,jr.extend({createType:"POST",updateType:"PUT",fetchType:"GET",deleteType:"DELETE",parse:Ln,stringify:rt,constructor:function(e){return this[z]=e,this}},gn(["destroy","fetch","update","create"],m,Ne))),y=(e.defineDirective(p,g[I]),Ge[uo]=Yi.extend(uo,{constructor:function(e){return this[z]=e,this[I+v+_i](),this},attach:function(e){var t=this,r=t[z],i=e[ke]&&e[ke](T+n);return t.detach(e),t.addToHash(e),d(r,e),f(r,e),i=e[ke]&&e[ke](n),e},detach:function(e){var t,n=this;return(t=e[Y])?(e[ke](T+o),h(t,e),l(t,e),n.removeFromHash(e),delete e[Y],e[ke](o),Ne):Ie},addToHash:function(e){var t=this,n=t[z];e[Y]=n,t.add(e),t.keep(w,e.id,e),t.keep("cid",e.cid,e)},removeFromHash:function(e){var t=this;e&&(t.remove(e),t.drop(w,e.id),t.drop("cid",e.cid))},save:function(){},fetch:function(){}})),b=function(){return{add:[],remove:[],update:[]}},x=Ge.Parent=Ge.Events.extend("Parent",{Child:Ne,childOptions:Ye,parentEvents:Ye,childEvents:Ye,childConstructor:function(){return this.Child===Ne?this.__constructor__:this.Child||x},isChildType:function(e){return st(e,this.childConstructor())},diff:function(e,t){var r=this,i=e,u=t||{},a=r.directive(uo),s=b(),c=Yi(i.add).foldl(function(e,t){var n=r.isChildType(t),i=r.childConstructor(),o=n?t:new i(t,u.shared),s=a.get(w,o.id);s?(s.set(n?t[D]():t),e.update.push(s)):(a.attach(o),e.add.push(o))},i.remove?Yi(i.remove).foldl(function(e,t){var n,r=t&&t[Y];r&&(n=r[uo],n&&n.detach(t)&&e.remove.push(t))},s):s);return u.silent?c:(c.remove.length&&r[ke](W+v+o,c),c.add.length&&r[ke](W+v+n,c),(c.add.length||c.remove.length)&&r[ke](C+W+v+"count",c),c)},add:function(e,t){var n=this,i=(n.directive(uo),Lt(cr(n,ao),t||{})),o=Yi(e);return o[K]()?Yi(n.diff({add:o},{shared:i}).add):o[r]()},remove:function(e){var t,n=this,r=e;return r==Pe?(n=n[Y],n.remove(this)):(!gt(r)&&(t=n.directive(uo))&&(r=t.get(w,r)),r&&gt(r)?Yi(n.diff({remove:(r&&Yi.isInstance(r)?r.toArray():qn(r)).slice(0)}).remove):b())},sort:function(e){var n,r,i,o,u=this;return(n=u[uo])?(r=e||u.comparator,pt(r)&&(o="!"===r[0],i=r,o&&(i=r.slice(1)),r=function(e,t){var n,r=e.get(i),u=t.get(i);return n=o?u-r:r-u}),n[t](r),u[ke](t),u):u},destroy:function(){var e,t=this;return t.is(M)||t[ke](S),e=t[Y]&&t[Y].remove(t),t[ke](A),t.stopListening(),t}}),O=0,N=function(e,t){return e.id=t===i?++O:t,O},L=Ge.Model=Ge.Parent.extend("Model",{unset:function(e){var t=this[X];if(!t)return Ie;var n=t.unset(e);return this.modified([e]),n},get:qi(X,"get"),escape:function(e){return Ii(this.get(e))},keys:qi(X,"keys",Dr),values:qi(X,"values",Dr),has:qi(X,"has",Ie),idAttribute:Sr("id"),constructor:function(e,t){var n=this;return n.reset(e),this[I+v+Zi](t),n},defaults:function(){return{}},reset:function(e){var t,n,r=this,i=Ln(e)||{},o=r.defaults(i),u=Lt(o,i),a=r.idAttribute(u),s=(N(r,u[a]),cn(u));return(n=r.is(J))&&r[ke](T+J),(n||s[K])&&(t=r.directive(X),t[J](u)),r.mark(J),n&&r[ke](J,u),r},destroy:function(){return x.fn.destroy.call(this),delete this.id,this},set:function(e,t){var n,r=[],i=this,o=i.directive(X);return ur(e,t,function(e,t){o.set(e,t)&&!o.changing[name]&&(n=n||i.directive(eo),r.push(e))}),i.modified(r),i},modified:function(e){var t,n=this;return e[K]?(t=n.directive(X),n.digest(function(){Zt(e,function(e){var r=C+e;t.changing[e];t.changing[e]=Ne,n[ke](r),t.changing[e]=Ie})}),n):n},digest:function(e){var t=this,n=t.directive(X);n.increment(),e(),n.decrement(),n["static"]()&&(t[ke](k,n[E]),n.finish())},toJSON:function(){return this.clone()},clone:qi(X,"clone",function(){return{}}),valueOf:function(){return this.id},toString:function(){return rt(this)}});e.defineDirective(uo,y[I]),c[I]=L[I]});var co=(Ge.Model,"actions"),fo="propagation",lo="Stopped",ho="defaultPrevented",vo=fo+"Halted",po=fo+lo,mo="immediate"+_r(fo)+lo;e.scope(function(e){var t=e._,n=t.factories,r=1,o=n.Collection,u=0,s=function(){return this.id},c="passedData",f=n.ObjectEvent=n.Directive.extend("ObjectEvent",{constructor:function(e,t,n,r,i){var o=this;return o.unmark(vo),o.unmark(po),o.unmark(mo),o[G]=t,o[P]=n,o[V]=n.split(v)[0],o.timestamp=Mt(),o.timeStamp=i||o.timestamp,o[c]={},o.data(e),r&&Lt(o,r),o},toJSON:function(){return this.data()},isStopped:function(){return this.is(po)||this.is(mo)},data:function(e){return arguments[K]?this.set(e):this[c]},get:function(e){return this[c][e]},set:function(e){var t=this;return t[c]=gt(e)?e:{},t},stopImmediatePropagation:function(){this.stopPropagation(),this.mark(mo),this.mark(vo)},stopPropagation:function(){this.mark(po)},preventDefault:function(){this[ho]=Ne},defaultIsPrevented:function(){return this[ho]},action:function(e){var t=this;return t.directive(co).push(e),t},finished:function(){var e,t=this;t.mark(H),t.defaultIsPrevented()||(e=t[co])&&e.call(t)}});n.EventsDirective=n.Directive.extend("EventsDirective",{cancelled:t.noop,validate:Sr(Ne),constructor:function(e){var t=this;return t.target=e,t.listenId="l"+ ++u,t.handlers={},t.listeningTo={},t.running={},t.queued={},t.stack=o(),t.removeQueue=o(),t.proxyStack=o(),t.proxyStack.unmark("dirty"),t},attach:function(e,t,n){var i,u=this,a=u[oo];t.id=++r,t.valueOf=s,t.context=t.context||t.origin,n&&dt(n)&&n(u,t),t.fn=Xt(t.fn||t.handler,t.context),i=a[e]=a[e]||o(),i[P]=e,t.list=i,u.add(i,t)},create:function(e,t,n,r){return f(t,e,n,r)},make:function(e,t,n){return{disabled:Ie,namespace:e&&e.split&&e.split(v)[0],name:e,handler:t,origin:n}},seekAndDestroy:function(e,t,n){for(var r,i=this,o=e.toArray(),u=o[K]-1;u>=0;u--)r=o[u],r.disabled||t&&r.handler!==t||n&&r.context!==n||i.detach(r,u)},nextBubble:function(e){return e.parent},bubble:function(e,t,n){for(var r,i=this,o=i.target,u=[o],a=o;a;)r=a,a=i.nextBubble(r,u),a&&u.push(a),r===a&&Er("bubbling discerners must return a different object each time it is run");return Zt(u,function(r){r[ke](e,t,n)}),o},add:function(e,t){e.push([t])},remove:function(e,t,n){e.removeAt(t,n)},detachCurrent:function(){return this.detach(this[se].last())},detach:function(e,t){var n,r=this,o=e.listening,u=e.list;e.disabled=Ne;return e.removed?Ne:(e.removed=Ne,r.remove(u,e,t),e.list=i,r.wipe(u),o&&(o.count--,o.count||(n=o.listeningTo,delete n[o[no]])),Ne)},wipe:function(e){return e[K]()?Ie:(this.scrub(e),Ne)},scrub:function(e){e.scrubbed=Ne,delete this[oo][e[P]]},reset:function(){return en(this.handlers,this.scrub,this)},queue:function(e,t,n){return e.toArray().push(t)},unQueue:function(e,t,n){return e.pop()},has:function(e){return!!(this.handlers[e]&&this.handlers[e][K]()||this.proxyStack[K]())},dispatch:function(e,t){var n,r,i,o=0,u=this,a=u[se],s=u[oo],c=s[e],f=u.running,l=f[e],d=t.is(po),h=u.proxyStack;if(l)return Er("cannot stack events coming from the same object");if(!d&&c&&c[K]()){for(f[e]=Ne,n=u.subset(c.toArray(),t),r=n[K];r>o&&!d;o++)i=n[o],!i.disabled&&u.queue(a,i,t)&&(i.fn(t),u.unQueue(a,i,t)),d=!!t.is(vo);return d?u.cancelled(a,t):h.eachCall("run",t),t.finished(),f[e]=!!l,t.returnValue}},subset:function(e){return e.slice(0)},addBus:function(e,t,n,r){var i,o=this,u=o.proxyStack;return(i=u.get(e))||(o.target===t&&Er("bus target cannot be the same as delegated target"),i={prefix:n||a,target:t,filter:r||Mr,run:function(e){this.filter(e)&&this.target[ke](this.prefix?this.prefix+e.name:e.name,e)}},u.push(i),u.keep(w,e,i)),this},removeBus:function(e){var t=this,n=t.proxyStack;return(bus=n.get(e))&&(n.remove(bus),n.drop(w,e),bus.filter=Or),!!bus}});e.defineDirective(eo,n.EventsDirective[I])}),e.scope(function(e){var t="counter",n=Ge.DataDirective=Ge.Directive.extend("DataDirective",{constructor:function(){var e=this;return e[L]={},e.previous={},e[E]={},e[t]=0,e},set:function(e,t){var n=this,r=n[L];return vn(r[e],t)?Ie:(n.previous[e]=r[e],n[L][e]=t,Ne)},get:function(e){return this[L][e]},clone:function(){return pn(this[L])},unset:function(e){var t=this[L],n=t[e];return delete t[e]&&n!==i},reset:function(e){return this[L]=e||{},this},increment:function(){return this[t]+=1,this},decrement:function(){return this[t]-=1,this},"static":function(){return!this[t]},finish:function(){return this[j]={},this[E]={},this},reach:function(e){var t,n=this,r=n[L];return Zt(qn(e,f),function(e,n,i){var o=n===i[K];t=e,o||(r=gt(r[e])?r[e]:{})})&&(pt(t)?i:r[t])},has:function(e){return this[L][e]!==i},each:function(e){return en(this[L],e,this)}});e.defineDirective(X,n[I])}),e.scope(function(e){var t="success",n="registered",r="state",i="every",o="failures",u="counter",a="groupIndex",s="Linguistics",c=function(e){return function(t){return vn(t,e)}},f=function(e){return function(t){return t>e}},l=function(e){return function(t){return e>t}},d=function(e){return function(t){var n=this;return n[e].push(Xt(t,n)),n}},h=function(e,t){return function(){var n=this;return Zt(arguments,function(r){n.add(r,e,t)}),n}},v=h(Ne),p=function(e,t,n,r){var i=Xt(n,e),o=r?jr.negate(i):i;return{key:t,context:e,handler:n,fn:o}},m=function(){this.stopListening()},g=Ge.Linguistics=Ge.Events.extend(s,{then:d(t),always:d(i),otherwise:d(o),is:h(),isnt:v,isNot:v,isGreaterThan:h(Ie,f),isLessThan:h(Ie,l),isNotGreaterThan:h(Ne,f),isNotLessThan:h(Ne,l),constructor:function(e){var r=this;return r.origin=e,r[u]=0,r[a]=-1,r[n]={},r.logic=new Yi[I],r[t]=new Yi[I],r[o]=new Yi[I],r[i]=new Yi[I],r.group(),r.listenTo(r.origin,{change:"apply",destroy:m}),this},when:function(e){return this[Y]?this[Y].when(e):Er("this sequencer has been destroyed")},and:function(e){var t=this;return t[L]=e,t.bind(e),t},or:function(e){return this.group(),this.and(e),this},group:function(){var e=this;return++e[a],e.logic.push({index:e[a],list:new Yi[I]}),e},increment:function(){++this[u]},bind:function(e){var t=this,r=t[n];r[e]||(r[e]=Ne,this.listenTo(this.origin,C+e,t.increment))},unbind:function(e){var t=this,r=t[n];r[e]&&(r[e]=Ie,this[to](this.origin,C+e,t.increment))},value:function(e,t){return dt(e)?e:t(e)},add:function(e,t,n){var r=this,i=r[L],o=r.value(e,n||c),u=p(r,i,o,t);return r.logic.item(r[a]).list.push(u),r},check:function(){var e=this;return!(!e[u]||!e.logic.find(function(t){return!t.list.find(function(t){return!t.fn(e.origin.get(t.key))})}))},restart:function(){return this[u]=0,this},handle:function(e,t){var n=this;n[e]&&n[e].call(t);return n},run:function(){var e=this;e[r]?e.handle(t):e.handle(o),e.handle(i)},apply:function(){var e=this,t=e.check();return e.restart(),e[r]!==t&&(e[r]=t,e.run()),e}}),y=s+"Manager",w=Ge[y]=Ge.Model.extend(y,{when:function(e){var t=new g[I](this.target);return this.add(t),t.and(e)},constructor:function(e){return this.target=e,this}});e.defineDirective(s,w[I])});e.scope(function(e){var t=e._,n=t.factories,r="failure",i="success",o="pending",u="state",a="catch",s="always",c="reason",f="fulfilled",l="settled",d="rejected",h="emptying",v=(_r(a),"allStates"),p="stashedArgument",m="stashedHandlers",g="listening",y=t.flatten,w=t.bind,b=t.isString,A=t.intendedObject,x=(t.duff,t.each,t.extend),k=t.toArray,E=t.isFunction,C=(t.foldl,t.result),S=t.wraptry,M=(t.indexOf,function(e,t){var n,r,i,o=[],u=e[p],s=e[m],c=s[K],f=function(){return n.key===a?(o.push(n),void(r&&l(r))):void(t[n.key]&&n.fn(u))},l=function(e){r=e,i=Ne;var t=o.slice(0);o=[],dr(t,"fn",r)};if(s&&s[K]){for(e.mark(h);s[0]&&--c>=0;)n=s.shift(),S(f,l);i&&l(r),e.unmark(h)}return e}),O='promise cannot resolve to an unknown or invalid ("", false, null, 0, etc.) state. Please check your resolution tree as well as your resolveAs method input',D=function(e,t,n){var o=t,u=C(e,v),a={},s=2===arguments[K]?ut(e,p)?e[p]:e[c]:n,f=[];b(o)||Er(O);do a[o]?o=Ie:(o===i&&(U(e,Ne),e[p]=s),o===r&&(U(e,Ie),e[c]=s),u[o]?a[o]?o=Ie:(a[o]=Ne,f.push(o),o=u[o]):Er(1+O));while(b(o));return f[K]?M(e,a,s):Er(O)},L=function(e){return this[e]||(this[e]=function(){return this.handle(e,k(arguments))}),this},j=function(){var e,t=Ne,n=this,o=n.directive(_i),u=[],a=o.find(function(n){return e=e||n.is(d),t=t&&n.is(l),u.push(n[p]),e});return e?n.resolveAs(r,a[c]):t&&n.resolveAs(i,u),n},R=function(){var e,t=this,n=t.directive(_i);return(e=n.find(function(e){return e.is(l)}))&&t.resolveAs(e[u],e[p]),t},B={success:s,failure:s,"catch":Ne,always:Ne},P=function(e,t){var n=e.directive(_i);y(t,Ne,function(t){e.isChildType(t)&&(n.add(t),n.keep("cid",t.cid,t))})},V=function(e,t){var n=w(t,e),r=e.directive(_i);r.each(function(e){r.get(g,e.cid)||(r.keep(g,e.cid,Ne),e.always(function(){n()}))})},H=function(e){return function(){var t=this;return t[u]!==o?t:(P(t,k(arguments)),V(t,e),t.Collection.length()||t.resolve(),t)}},U=function(e,t){e.remark(f,t),e.remark(d,!t)},q=n.Events,W=function(e){return e&&e[i]&&e[r]&&e[s]&&e[a]},$=n.Promise=t.Promise=q.extend("Promise",{addHandler:L,fulfillKey:"success",rejectKey:"reject",auxiliaryStates:Sr(Ie),constructor:function(e){var t=this;return t.state=o,t[m]=[],t[c]=Ie,q[I].call(t),A(x({},B,C(t,"associativeStates")),Pe,L,t),e&&e(w(t.fulfill,t),w(t.reject,t),w(t.resolveAs,t)),t},isChildType:W,allStates:function(){return x({},B,C(this,"auxiliaryStates"))},resolveAs:function(e,t){var n,i=t,o=e,u=this;return u.is(l)?u:(u.mark(l),u.state=o||r,o=u.state,u[ke](T+"resolve"),n=D(u,o,i),u)},fulfill:function(e){return this.resolveAs(i,e)},resolve:function(e){return this.fulfill(e)},reject:function(e){return this.resolveAs(r,e)},when:function(){return this.all(arguments)},thenable:function(){return $.apply(Pe,arguments)},then:function(e,t){var n=this,o=n.__constructor__(),u=function(u){return function(a){var s,c;s=u?e(a):t(a),c=s,n.isChildType(c)?c.always(function(e){o.resolveAs(c.state,e)}):o.resolveAs(u?i:r,a)}};return n.success(u(Ne)).failure(u()),o},toJSON:function(){return{}},toString:function(){return JSON.stringify(this)},all:H(j),race:H(R),stash:ir(function(e,t){var n=this,r=n[m];y(E(t)?[t]:t,Ne,function(t){E(t)&&r.push({key:e,fn:w(t,n),handler:t})})}),handle:ir(function(e,t){var n=this,r=(n[p],t);n.stash(e,r),n.is(l)&&D(n,n[u])})}),F=$[I][N],_=(F.addHandler(i).addHandler(r).addHandler(s).addHandler(a),$()),z=function(e){return function(){var t=$();return t[e].apply(t,arguments)}};e.extend({dependency:w(_.all,_)}),$.all=z("all"),$.race=z("race"),t.publicize({isPromise:W})});var go=jr.Promise;e.scope(function(e){var t=e._,n=t.factories,r="items",o=t.extend,u=t.isObject,a=t.removeAt,s={}.toString;n.Associator=n.Directive.extend("Associator",{get:function(t,n){var o,a,s=this,c={},f=u(t),l=s.sameType(t,f),d=(l[r]=l[r]||[],l[ye]=l[ye]||{}),h=l[X]=l[X]||[];return f?t&&l.readData?(a=t[ye]=t[ye]||e.counter(),a&&(c=d[a]=d[a]||{})):(o=l[r][oe](t),o!==i&&-1!==o||(o=l[r][K],l[r].push(t),h[o]=c),c=h[o]):(l[ye][t]=l[ye][t]||{},c=l[ye][t]),c.target=t,c},set:function(e,t,n){var r=this.get(e,n);return o(r,t||{}),r},remove:function(e){var n,i=this.sameType(e);i.readData?(n=e[ye],delete i[ye][n]):(n=t[oe](i[r],e),-1!==n&&(a(i[X],n),a(i[r],n)))},sameType:function(e,t){var n=this,r=t===i?u(e):t,o=s.call(e),a=e&&e.window===e,c=a?"[object global]":o.toLowerCase(),f=n[c]=n[c]||{},l=c[oe]("global"),d=-1===c[oe](ue);return-1===l&&d&&r&&(f.readData=Ne),f}})}),e.scope(function(e){var t="catch",n="error",r="status",u="failure",s="success",c="readyState",f=o.XDomainRequest,l=jr.stringifyQuery,d="GET",h="progress",p=qn(d+",POST,PUT,DELETE,HEAD,TRACE,OPTIONS,CONNECT"),m=qn(h+",timeout,abort,"+n),g=function(){},y={progress:g,timeout:g,abort:g,error:g},w=function(e){var t=0,n=e.options.requestObject;Zt(m,function(r){r===h?n["on"+r]=function(n){if(n){var r=n.loaded/n.total;t++,e[ke](h,{percent:r||t/(t+1),counter:t},{originalEvent:n})}}:n["on"+r]=function(t){y[r](e,r,t)}})},b=function(e,n,r){return function(){return Tr(function(){return e.send.apply(e,n)},function(e){r.resolveAs(t,e,e.message)})}},A="status:2xx",x="status:3xx",k="status:4xx",E="status:5xx",T=Ge.HTTP=go.extend("HTTP",{parse:Ln,constructor:function(e){var t,n,r,i=this,o="onreadystatechange",u=new XMLHttpRequest;return wt(f)||(u=new f,o="onload"),gt(e)||(e=e||a,r=d,n=e.toUpperCase(),-1!==Ze(p,n)?r=n:t=e,e={url:t||a,type:r}),i.options=jr.extend({async:Ne,method:o,type:r,requestObject:u,withCredentials:Ne},e),go[I].call(i,function(){var e=i.options.type,t=i.options.url,n=[],r=i.options.data;return gt(t)&&!Et(t)&&(t=l(t)),t&&e?(i.attachResponseHandler(),Tr(function(){u.open(e,t,i.options.async)}),r&&n.push(rt(r)),i.headers(i.options.headers),w(i),void setTimeout(b(u,n,i))):Er("http object must have a url and a type")}),i},status:function(e,t){return this.handle(r+v+e,t)},headers:function(e){var t=this,n=t.requestObject;return en(e,function(e,t){n.setRequestHeader(t,e)}),t},auxiliaryStates:function(){return{"status:0":u,"status:2xx":s,"status:200":A,"status:202":A,"status:204":A,"status:205":A,"status:3xx":s,"status:302":x,"status:304":x,"status:4xx":u,"status:400":k,"status:401":k,"status:403":k,"status:404":k,"status:405":k,"status:406":k,timeout:k,"status:408":"timeout","status:5xx":u,"status:500":E,"status:502":E,"status:505":E,"status:511":E,abort:u}},attachResponseHandler:function(){var e=this,t=e.options.requestObject,n=Ie,o=e.options.method,u=function(t){var u,a,s,f=this;f&&!n&&(u=f[r],s=f.responseText,("onload"===o||"onreadystatechange"===o&&4===f[c])&&(a=cr(e,"allStates"),s=e.options.preventParse?s:e.parse(s),n=Ne,e.resolveAs(r+v+(f[r]===i?200:f[r]),s)))};return t[o]||(t[o]=u),e}});jr.foldl(p,function(e,t){var n=t;n=n.toLowerCase(),e[n]=function(e,n){return T(jr.extend({type:t,url:e},n))}},T)}),e.scope(function(e){var t=e._,n=t.factories,r=n.Model,o=(n.Collection,"module"),u=_r(o),a=ce+"ed",c="initialized",l=c+v+"sub"+o,d="defined",h="that module has not been "+d+" yet",p={start:function(e){var t=this;return t.is(a)||(t.mark(a),t[ke](ce,e)),t},stop:function(e){var t=this;return t.is(a)&&(t.unmark(a),t[ke](fe,e)),t},toggle:function(e){var t=this;return t.is(a)?t[fe](e):t[ce](e),t},restart:function(e){var t=this;return t.is(a)&&t[fe](e),t[ce](e),t}},m=(n.Startable=n.Model.extend("Startable",p),function(e){this.startWithParent&&this[ce](e)}),g=function(e){this.stopWithParent&&this[fe](e)},y=function(e,t){var n=[];return Zt(t,function(t){var r=e.module(t);r.is(c)&&n.push(r[R])}),n[K]===t[K]?n:Ie},b=t.Promise,A={module:function(t,n,r){var i,o,u,a,s,h=this,v=t,p=v.split(f),m=h.directive(uo).get(t),g=function(){m.mark(d),m[Y].bubble(l)};if(m){if(h=m[Y],!r)return m;p=[m.id]}else for(;p.length>1;)h=h.module(p[0]),p.shift();return s=h.directive(uo),v=p.join(f),m=s.get(w,v),m||(o=h.globalname?h.globalname.split(f):[],o.push(v),u=o.join(f),a=Lt({},cr(h,ao)||{},{application:e,parent:h,id:v,globalname:u}),h===e?(m=x({},a),s.add(m),s.keep(w,v,m)):m=h.add({},a).item(0),e[uo].keep(w,u,m)),(kt(n)||dt(n)||dt(r))&&(m[R]=m[R]||{},m.mark(c),i=m.run(n,r),i&&b.fn.isChildType(i)?i.success(g):g()),m},createArguments:function(e){var t=this;return[t].concat(t[B].createArguments(e))},run:function(e,t){var n,r=this,o=kt(e)?t:e,u=o===e?window:e;return dt(o)&&(n=o.apply(r,r.createArguments(u))),n===i?r:n},publicize:ir(function(e,t){this[R][e]=t}),constructor:function(e,t){var n=this;return n.startWithParent=Ne,n.stopWithParent=Ne,n[R]={},r[I].apply(n,arguments),n.listenTo(n[Y],{start:m,stop:g}),n},topLevel:function(){return!this[B]||this[B]===this[Y]},require:function(e,t){return this.application.require(this.globalname+f+e,t)}},x=n.Module=n.Model.extend(u,Lt({},p,A));e.extend(Lt({},n.Directive[I][N],n.Events[I][N],n.Parent[I][N],p,A,{createArguments:function(e){var t=this,n=t._,r=e[ae][ye],i=t.directive(Qu).documents,o=i.get(w,r);return o||(o=t.global.definition(t.VERSION,e)),[t,n,n&&n.factories,o,o.factories,o.$]},require:function(e,t){var n,r,i,o,u=this;return dt(t)?(n=b(),i=qn(e,s),Et(i)&&i[K]?(i=i.slice(0),n.success(Xt(t,u)),(o=y(u,i))?n.fulfill(o):u.on(l,function(){(o=y(u,i))&&(u.off(),n.fulfill(o))}),n):n):(r=u.module(e),r.is(d)?r[R]:Er(h))}}));delete e.fn});var yo="attached",wo="iframe",bo="localName",Ao="childNodes",xo="fragment",ko="nodeType",Eo="parentNode",Q="Attributes",To="DomManager",Co=A+"ed",So="custom",Mo="removing",Oo="accessable",Do=So+"Listener",No="Child",Io="append"+No,Lo="remove",jo="html",Ro="innerHTML",Bo="text",Po="innerText",Vo="outerHTML",Ho="registeredAs",Uo="attributeChange",qo="attributesChanging",Wo="delegateCount",$o="captureCount",Fo="is",_o=le+c+P,zo="fontSize",Go="defaultView",Jo="div",Qo="["+Fo+"]",Xo=o.devicePixelRatio||1,Yo=qn("type,href,className,height,width,id,tabIndex,title,alt"),Ko=gn(Yo,Ne),Zo=function(e){return"["+Fo+'="'+e+'"]'},eu=function(e,t){var n;return e&&qu(e)?(n=e[bo].toLowerCase(),t?n===t.toLowerCase():n):Ie},tu=function(e,t,n){n===Ie||n==Pe?pu(e,t):e.setAttribute(t,(n===Ne?a:rt(n))+a)},nu=function(e,t){return _r(q)+c+t[ye]+c+e},ru=function(e,t){return'<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="user-scalable=no,width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">'+e+"</head><body>"+t+"</body></html>"},iu=function(e){return function(t){return t[Eo]===e}},ou=function(e,t){var n=t.registeredElements;return n[e]===Ne?e:Zo(e)},uu=function(e,t){return Vn(qn(e,s),function(e){return e.replace(/^(\S*?)([\.|\#|\[])/i,function(e){var n=e,r=n[K]-1;return r?ou(n.slice(0,r),t)+n.slice(r):n})}).join(s)},au=function(e,t){return qu(e[t])?[e[t]]:[]},su={body:Ne,head:Ne},cu=function(e,t){return yr(e,function(e,n,r,i){return t(n,r,i)&&e.push(n),e},[])},fu=function(e,t,n){var r,i,o=e,u=t,a=(Sr.first,n.owner);return n&&n===a&&su[o]?au(u,"body"):(n&&">"===o[0]&&(r=Ne,o=n.queryString()+o),o=uu(o,a),i=u.querySelectorAll(o),r?cu(i,iu(u)):qn(i))},lu=function(e,t,n){var r,i;return t&&e&&1===e[ko]?(i=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector)?i.call(e,t):(r=e[Eo],r||(r=createElement(Jo,ensure(e.ownerDocument,Ne)),r[Io](e)),-1!==Ze(fu(t,r,n),e)):Ie},du=function(e,t){var n=e.getAttribute(t);return vu(n)},hu=function(e){var t=+e;return e[K]&&t==e?t:e},vu=function(e){var t=e;return t===a?Ne:t==Pe?Ie:hu(t)},pu=function(e,t){e.removeAttribute(t)},mu={preventUnCamel:Ie,read:du,write:tu,remove:pu},gu=function(e,t){return t&&e.appendChild&&e.appendChild(t)},yu=function(e,t){e&&(t?gu(t,e):e.parentNode&&e.parentNode.removeChild(e))},wu=function(e,t){return e[t]},bu=function(e,t,n){return n==Pe?Au(e,t):void(e[t]=n)},Au=function(e,t){e[t]=Pe},xu={preventUnCamel:Ne,read:wu,write:bu,remove:Au},ku=function(e){var t={tagName:eu(e),comment:Ie,text:Ie};return Zt(e.attributes,function(e){var n=t.attributes=t.attributes||{};n[Fr(e[bo])]=e.nodeValue}),t},Eu=function(e){return{tag:Ie,comment:Ne,text:Ie,content:e}},Tu=function(e){return{tag:Ie,comment:Ie,text:Ne,content:e}},Cu=function(e,t,n){return t&&e.insertBefore&&e.insertBefore(t,n)},Su=function(e,t,n){var r;gt(n)?Cu(e,t,n):mt(n)?(r=e[Ao],n=r[K]>n?r[n]:Ie,n?Cu(e,t,n):gu(e,t)):n||gu(e,t)},Mu=function(e,t,n){var r=t[bo];n?(e.attrsA[r]=Ne,e.accessB[r]=t.nodeValue):(e.attrsA[r]=Ne,e.accessA[r]=t.nodeValue),e.hash[r]||(e.hash[r]=Ne,e.list.push(r))},Ou=function(e){return"text"===e?3:1},Du=function(e){return e[ye]&&mu.read(e,"is")!==Ie},Nu=function(e,t,n,r){var o,u,a=e.attributes,s=a.length,c=(o=cn(t[1])).length,f=yr({length:Math.max(s,c)},function(e,n,r){var i;e.aLength>r&&Mu(e,a[r]),e.bLength>r&&(i=o[r],Mu(e,{localName:i,nodeValue:t[1][i]},Ne))},{list:[],hash:{},attrsA:{},accessA:{},attrsB:{},accessB:{},aLength:s,bLength:c});e[ye];Zt(f.list,function(e){f.accessA[e]!==f.accessB[e]&&(u=u||{},u[e]=f.accessB[e]===i?Pe:f.accessB[e])}),u&&n.updating.push(function(){var t,n;en(u,function(e,t){Ko[t]&&(delete u[t],n=n||{},n[t]=e)}),Du(e)?(t=r.returnsManager(e),cn(u)[K]&&t.attr(u),n&&t.prop(n)):(en(u,function(t,n){mu.write(e,Jr(n),t)}),en(n,function(t,n){xu.write(e,Jr(n),t)}))})},Iu=function(e,t,n,r,i){var o,u=e[2],a=e[3],s=r||0,c=i||0;a&&(o=qn(a.group),a.key&&(t.ids[a.key]={virtual:e,level:s,index:c,group:o[K]?o:Pe,el:n[a.key]})),Zt(u,function(e,r){Iu(e,t,n,s+1,r)})},Lu=function(e,t,n,r){return pt(t[2])?(e.innerHTML!==t[2]&&r.updating.push(function(){Du(e)?n.returnsManager(e).html(t[2]):e.innerHTML=t[2]}),Ne):void 0},ju=function(e,t,n,r,i){var o=u.createDocumentFragment();return Zt(e,function(e){n.deltas.create(e,o,i)}),{parent:t,el:o,index:r}},Ru=function(e,t){return jr.filter(e,function(e){var n=e[3];return n&&n.key?!t[n.key]:Ne})},Bu=function(e,t,n,r,i,o,u){var a=e.childNodes,s=t[2];o.mutations,o.keys;if(Lu(e,t,u,o))return o;var c,f,l,d=a&&a[K],h=s&&s[K],v=Math.max(d,h),p=0,m=0;if(!s||mt(s))return o;for(;v>m&&!c;m++){if(m>=d)return o.inserting.push(ju(Ru(qn(s).slice(m),n),e,u,m,o.keys)),o;if(t[2]&&r(t)){if(m>=h)return l=Ne,o.removing.push.apply(o.removing,qn(a).slice(m)),o;f=Vu(a[m],s[m],n,r,i,m,o,u,e),f===Ie&&(o.removing.push(e),o.inserting.push(ju([t],e,u,m+p,o.keys)))}}return o},Pu=function(e){var t={removing:[],updating:[],inserting:[],mutations:{remove:function(){return t.removing[K]?(e.$(t.removing).remove(),Ne):void 0},update:function(){Zt(t.updating,function(e){e()})},insert:function(){if(t.inserting[K]){t.inserting.sort(function(e,t){return e.index>t.index?1:-1});for(var n,r,o,u=[],a=t.inserting.slice(0);a[K];)n=a.shift(),r===i?(r=n.index,o={index:n.index,el:e.createDocumentFragment(),parent:n.parent},u.push(o),gu(o.el,n.el)):n.parent===o.parent&&r+1===n.index?(gu(o.el,n.el),r=n.index):(a.unshift(n),r=i);return Zt(u,function(t,n,r){e.returnsManager(t.parent).insertAt(t.el,t.index)}),Ne}}},keys:{},ids:{},group:{},futureTree:{},futureHash:{}};return t},Vu=function(e,t,n,r,i,o,u,a,s){var c,f,l,d=!u,h=e,v=t,p=o||0,m=s,g=u||Pu(a),y=r||Mr,w=(g.keys,g.mutations,i||0),b=n||{},A=(v[K],v[3]),x=eu(h);if(d&&Iu(v,g,b),x===v[0]&&h.nodeType===Ou(v[0])){if(A&&(f=A.key)){if(c=b[f],l=g.ids[f],!c)return g.inserting.push(ju([v],m,a,p,g.keys)),g;if(c===h)g.keys[f]=c;else{if(l.virtual[0]!==x)return g.removing.push(h),g.inserting.push(ju([v],m,a,p,g.keys)),g.keys[f]=h,g;g.removing.push(h),l.parent=m,g.inserting.push(l),h=g.keys[f]=c}}return Nu(h,v,g,a),Bu(h,v,b,y,w+1,g,a)}return d&&Er("at least the first node must match tagName and nodeType"),Ie},Hu=function(e,t,n){var r,i,o,u=t||Ye;return r=ku(e),r.attributes&&r.attributes.is&&r.attributes.dataRenderer?{selfSufficient:Ne}:u(e,r)?(i=e.childNodes,(o=i[K])?(r.children=yr(i,function(e,t){qu(t)?e.push(Hu(t,u,n)):3===t.nodeType?e.push(Tu(t.textContent)):n&&(8===t.nodeType?e.push(Eu(t.textContent)):e.push({err:Ne}))},[]),r):r):r},Uu=function(e,t){return t.is(ae)&&t.element().createDocumentFragment();
},qu=function(e){return!(!e||!mt(e[ko])||e[ko]!==e.ELEMENT_NODE)},Wu=function(e){return e&&mt(e[ko])&&e[ko]===e.DOCUMENT_NODE},$u=function(e){return e&&e[ko]===u.DOCUMENT_FRAGMENT_NODE},Fu=function(e){return kt(e)||qu(e)||Wu(e)||$u(e)},_u=function(e){return qn(e.children||e.childNodes)},zu=Ge.Associator();e.scope(function(e){var t=function(e,t){var n;return n=t===Ne?zu.get(e):t.data.get(e),n[To]||(n[To]=Cr(e,n,t)),n[To]},n=function(e,t){var n,r,i=(Lt({},t),e),o=dt(i);return o?n=i:(r=i.trim(),";"!==r[r[K]-1]&&(r+=";"),r=i,n=Tr(function(){return new $e("helpers","_",Rn(r))})),function(e,t){return n.call(e,t,jr)}},r=function(e,t,r){var i,o,u=r.templates=r.templates||Yi();return dt(e)?n(e,r.templateSettings):(i=u.get(w,e))?i:(o=t||r.$("#"+e).html(),i=n(o,r.templateSettings),i.id=e,u.push(i),u.keep(w,e,i),i)},d=function(e){var t=e||o;return kt(t)?t:t&&t[Go]?t[Go]:t.ownerGlobal?t.ownerGlobal:Xr(t).parent(ue)[be](0)||o},h=function(e,t){var n=d(t).getComputedStyle(e);return n?n:d(e).getComputedStyle(e)||pn(e[Oe])||{}},p=h(u[De],o),m=/^key/,x=/^(?:mouse|pointer|contextmenu)|click/,E=/^device/,T=/^webkitmouseforce/,C=o.Image,S=(function(){var e=4,t=Ne,n=[],r=function(r){return function(){e--,r(),e||(Zt(n,function(e){e(t)}),n=[])}};return Zt(["UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA","UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==","UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==","UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"],function(e){var n=new C;n.onload=r(Ye),n.onerror=r(function(){t=Ie}),n.src="data:image/webp;base64,"+e}),function(r){e&&t?n.push(r):r(t)}}(),function(e,t){var n=new C;return e=tr(e),t&&(n.onload=function(n){t.apply(this,[e,n])}),n.src=e,n}),M=Ie,O=function(e,t){var n=t||e;return function(e){var t=e.element(),r=M;M=Ne,oe[n]&&dt(t[n])?t[n]():e[ke](n),M=r}},L=function(e,t){var n=e||t,r=O(n,t);return function(e,t,i){var o=this;return dt(e)||dt(t)?o.on(n,e,t,i):r(o),o}},j=qn("abort,afterprint,beforeprint,blocked,cached,canplay,canplaythrough,change,chargingchange,chargingtimechange,checking,close,complete,dischargingtimechange,DOMContentLoaded,downloading,durationchange,emptied,ended,error,fullscreenchange,fullscreenerror,input,invalid,languagechange,levelchange,loadeddata,loadedmetadata,message,noupdate,obsolete,offline,online,open,pagehide,pageshow,paste,pause,pointerlockchange,pointerlockerror,play,playing,ratechange,reset,seeked,seeking,stalled,storage,submit,success,suspend,timeupdate,updateready,upgradeneeded,versionchange,visibilitychange"),R=qn("SVGAbort,SVGError,SVGLoad,SVGResize,SVGScroll,SVGUnload,SVGZoom,volumechange,waiting"),B=qn("keydown,keypress,keyup"),P=qn("gamepadconnected,gamepadisconnected"),V=qn("compositionend,compositionstart,compositionupdate,drag,dragend,dragenter,dragleave,dragover,dragstart,drop"),H=qn("click,contextmenu,dblclick,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup,show,wheel"),U=qn("touchcancel,touchend,touchenter,touchleave,touchmove,touchstart"),W=qn("devicemotion,deviceorientation,deviceproximity,devicelight"),G=qn("blur,focus"),J=qn("beginEvent,endEvent,repeatEvent"),X=qn("animationend,animationiteration,animationstart,transitionend"),Y=qn("audioprocess,complete"),Z=qn("abort,error,hashchange,load,orientationchange,readystatechange,resize,scroll,select,unload,beforeunload"),ee=qn("abort,error,load,loadend,loadstart,popstate,progress,timeout"),te=xn(j,R,B,V,P,H,U,W,G,J,X,Y,Z,ee),ne=qn("-o-,-ms-,-moz-,-webkit-,mso-,-xv-,-atsc-,-wap-,-khtml-,-apple-,prince-,-ah-,-hp-,-ro-,-rim-,-tc-"),re=qn("a,abbr,address,area,article,aside,audio,b,base,bdi,bdo,blockquote,body,br,button,canvas,caption,cite,code,col,colgroup,data,datalist,dd,del,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hr,html,i,iframe,img,input,ins,kbd,keygen,label,legend,li,link,main,map,mark,meta,meter,nav,noscript,object,ol,optgroup,option,output,p,param,pre,progress,q,rb,rp,rt,rtc,ruby,s,samp,script,section,select,small,source,span,strong,style,sub,sup,table,tbody,td,template,textarea,tfoot,th,thead,time,title,tr,track,u,ul,var,video,wbr"),ie=gn(re,Ne),oe=gn(te,Ne),se=(gn(ne,Ne),Ge.StringManager),ce=function(e,t,n){var r=wr(e,t);return r.ensure(n===Ne?a:n,s)},fe=function(e,t){var n=e.getBoundingClientRect(),r=h(e,t.element()),i=Re(r.marginTop),o=Re(r.marginLeft),u=Re(r.marginRight),a=Re(r.marginBottom);return{height:n[we]+i+a,width:n[ge]+o+u,top:n[he]-i,left:n[ve]-o,right:n[ve]+n[ge]+u,bottom:n[he]+n[we]+a}},Ee={columnCount:Ne,columns:Ne,fontWeight:Ne,lineHeight:Ne,opacity:Ne,zIndex:Ne,zoom:Ne,animationIterationCount:Ne,boxFlex:Ne,boxFlexGroup:Ne,boxOrdinalGroup:Ne,flex:Ne,flexGrow:Ne,flexPositive:Ne,flexShrink:Ne,flexNegative:Ne,flexOrder:Ne,lineClamp:Ne,order:Ne,orphans:Ne,tabSize:Ne,widows:Ne,fillOpacity:Ne,stopOpacity:Ne,strokeDashoffset:Ne,strokeOpacity:Ne,strokeWidth:Ne},Te={transitionDuration:Ne,animationDuration:Ne,transitionDelay:Ne,animationDelay:Ne},Ce=function(){var e,t,n,r,i,o,u,s,f,l,d=[],h={},v=0,m=function(e,t){-1===Ze(e,o)&&e.push(o)};for(e=0;e<ne[K];e++)l=ne[e][K],l>v&&(v=l);for(n in p){for(r=0,s=a,o=a,u=mt(+n)?p[n]:zr(n),zr(u),Fr(u),f=u,t=0;v>t&&u[t]&&!r;t++)s+=u[t],i=Ze(ne,s),-1!==i&&(o=ne[i],f=u.split(o).join(a),r=1),i=Ze(ne,c+s),-1!==i&&(o=ne[i],f=u.split(s).join(a),r=1);f=Fr(f),d.push(f),h[f]||(h[f]=[]),m(h[f],o)}return h}(),Me=function(e,t){return+t!==+t?t:Te[e]?t+"ms":Ee[e]?t:t+g},Le=function(e,t){var n,r,i={};return qu(e)?(r=h(e,t),n=je(e,t),{borderBottom:+r.borderBottomWidth||0,borderRight:+r.borderRightWidth||0,borderLeft:+r.borderLeftWidth||0,borderTop:+r.borderTopWidth||0,paddingBottom:+r.paddingBottom||0,paddingRight:+r.paddingRight||0,paddingLeft:+r.paddingLeft||0,paddingTop:+r.paddingTop||0,marginBottom:+r.marginBottom||0,marginRight:+r.marginRight||0,marginLeft:+r.marginLeft||0,marginTop:+r.marginTop||0,computedBottom:+r[me]||0,computedRight:+r[pe]||0,computedLeft:+r[ve]||0,computedTop:+r[he]||0,top:n[he]||0,left:n[ve]||0,right:n[pe]||0,bottom:n[me]||0,width:n[ge]||0,height:n[we]||0}):i},je=function(e){var t=qu(e)?e.getBoundingClientRect():{};return{top:t[he]||0,left:t[ve]||0,right:t[pe]||0,bottom:t[me]||0,width:t[ge]||e.clientWidth||0,height:t[we]||e.clientHeight||0}},Re=function(e,t){return+e.split(t||"px").join(a).trim()||0},Be=function(e,t,n){var r,i;return gt(e)?(i=qu(e)?h(e,n):e,r=i[t]):r=e,pt(r)&&(r=Re(r)),r},Ve={":even":function(e,t){return t%2},":odd":function(e,t){return(t+1)%2}},He={"in":function(e,t,n,r){return e/96},vh:function(e,t,n,r){return e/n[Ae]*100},px:function(e,t,n,r){return e},cm:function(e,t,n,r){return e/37.79527559055118},vw:function(e,t,n,r){return e/n[xe]*100},em:function(e,t,n,r){return e/Be(t,zo,n)},mm:function(e,t,n,r){return e/3.779527559055118},vmin:function(e,t,n,r){var i=Math.min(n[Ae],n[xe]);return e/i*100},rem:function(e,t,n,r){return e/Be(n[ae][De][Eo],zo,n)},pt:function(e,t,n,r){return e/1.333333333333333},vmax:function(e,t,n,r){var i=Math.max(n[Ae],n[xe]);return e/i*100},"%":function(e,t,n,r){var i=qu(t)?t[Eo]:t,o=Be(i,r,n);return e/o*100},pc:function(e,t,n,r){return e/16}},Ue={"in":function(e,t,n,r){return 96*e},vh:function(e,t,n,r){return n[Ae]*e/100},px:function(e,t,n,r){return e},cm:function(e,t,n,r){return 37.79527559055118*e},vw:function(e,t,n,r){return n[xe]*e/100},em:function(e,t,n,r){return Be(t,zo)*e},mm:function(e,t,n,r){return 3.779527559055118*e},vmin:function(e,t,n,r){return(Math.min(n[Ae],n[xe])||1)*e/100},rem:function(e,t,n,r){return Be(n[ae][De][Eo],zo)*e},pt:function(e,t,n,r){return 1.333333333333333*e},vmax:function(e,t,n,r){return(Math.max(n[Ae],n[xe])||1)*e/100},"%":function(e,t,n,r){var i=qu(t)?t[Eo]:t,o=Be(i,r);return e*o/100},pc:function(e,t,n,r){return 16*e}},qe=function(e,t,n){var r,i=this,o=(i.view,n||[]),u=e.length>elements.length?(r=e)&&t:(r=t)&&e;return jr.foldl(u,function(e,t,n){var i=r[n],o=t.tagName,u=i.tagName;if(o===u){mu.read(t,"is"),mu.read(i,"is")}}),o},We=(gn([1,3,8],Ne),function(e,t,n,r){var i,o,u,a,s,c=t&&t.element(),f=t&&t.registeredElements,l=n,d=r,h=e;if(gt(h)){if(d=h.children,l=h.attributes,i=Ne,h=h.tagName,e.text)return Fe(e.content,t);if(e.comment)return _e(e.content,t)}return o=f&&f[h],u=o===Ne?h:o,u||Er("custom tag names must be registered before they can be used"),a=c.createElement(u),o&&o!==Ne&&mu.write(a,Fo,h),s=t.returnsManager(a),i||l||d?(l&&s.attr(l),d?(pt(d)?s.html(d):s.append(ar(d,t)),s):s):s}),Fe=function(e,t){return t.element().createTextNode(e)},_e=function(e,t){return t.element().createComment(e)},ze=function(e,t){var n=We(Jo,t);return n.html(e),n.children().remove().toArray()},Je=function(e,t){return ze(e,t)[0]},Qe=function(e,t,n){var r=[];return r.concat.apply(r,n?Vn(n,t):e.map(t))},Xe=function(e,t){return Xr(yr(qn(e,s),function(e,n){var r=We(n,t);return e.push(r),e},[]),Pe,Pe,Pe,t)},Ke=function(e,t){var n,r=e;return $u(r)?n=r:(Xr.isInstance(r)&&(r=r.toArray()),qt(r)||(r=r&&qn(r)),n=t.createDocumentFragment(),Zt(r,function(e){var r,i=t.returnsManager(e),o=i.element();i.is(q)&&!i.is(xo)&&(r=o[Eo],r&&!$u(r)&&Kt([o],t),n[Io](o))})),n},et=function(e){return function(t){var n=this;return t!==i?n.eachCall(e,t)&&n:n.results(e).join(a)}},tt=function(e,t){return it(function(n,r){var i=[],o=n.toArray(),u=t||r;return u?n.duff(function(t){(traversal=t[e](u))&&add(i,traversal)}):i=o,i})},nt=function(e){var t="data-",n=zr(e),r=e.slice(0,5);return t!==r&&(n=t+e),n},it=function(e){return function(t,n,r,i,o){var u=this,a=e(u,t,n,r,i,o),s=new Xr[I](a,Pe,Ne,Pe,u.context.owner);return s._previous=u,s}},ot=function(e,t){var n=je(e),r=n[me],i=n[pe],o=n[ve],u=n[he],a=t.x,s=t.y,c=Ie;return a>o&&i>a&&s>u&&r>s&&(c=Ne),c},at=function(e){return{x:e[ve]+e[ge]/2,y:e[he]+e[we]/2}},st=function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},ct=function(e,t,n){return st(e,t)<st(e,n)},lt=function(e,t,n){var r,i,o,u,a=t.shift();return(pt(t[0])||t[0]==Pe)&&(i=t.shift()),pt(t[0])&&(t[0]=e[t[0]]),dt(t[0])?(r=t.shift(),o=t.shift(),pt(o)?(u=o,o=Ie):o=!!o,u=t.shift(),n(e,a,i,r,o,u),e):this},ht=function(e){return function(){var t,n=this,r=qn(arguments),i=r.shift();return gt(i)?(pt(r[0])&&(t=r.shift()),en(i,function(i,o){lt(n,[o,t,i].concat(r),e)}),n):(r.unshift(i),lt(n,r,e))}},vt=function(e,t,n){return e&&gt(e)&&!kt(e)&&mt(e.AT_TARGET)?e:{data:rt(e),type:n,bubbles:Ie,eventPhase:2,cancelable:Ie,defaultPrevented:Ie,isTrusted:Ie,timeStamp:Mt(),target:t}},yt=function(e){var t=Ie,n=e.eventPhase;return 1===n&&(t=Ne),t},wt=gn({resize:"resize,orientationchange",ready:"DOMContentLoaded",wheel:"wheel,mousewheel",deviceorientation:"deviceorientation,mozOrientation",fullscreenalter:"webkitfullscreenchange,mozfullscreenchange,fullscreenchange,MSFullscreenChange",hover:"mouseenter,mouseleave",forcewillbegin:"mouseforcewillbegin,webkitmouseforcewillbegin",forcechange:"mouseforcechange,webkitmouseforcechange",forcedown:"mouseforcedown,webkitmouseforcedown",forceup:"mouseforceup,webkitmouseforceup",force:"mouseforcewillbegin,webkitmouseforcewillbegin,mouseforcechange,webkitmouseforcechange,mouseforcedown,webkitmouseforcedown,mouseforceup,webkitmouseforceup"},qn),bt=yr(wt,function(e,t,n){return Zt(t,function(t){e[t]=n}),e},{}),At=function(e,t,n){var r=n||[];return function(n){var i=n,o=-1!==Ze(r,i);o||r.push(i),e[i]&&!o?Zt(e[i],At(e,t,r)):t(i,r[0],r.slice(0)),o||r.pop()}},Et=ht(function(e,t,n,r,i,o){return dt(r)?St(e,t,o,n,r,i):e}),Tt=ht(function(e,t,n,r,i,o){var u;return dt(r)&&St(e,t,o,n,u=dn(function(){return Or(e,t,o,n,u,i),r.apply(this,arguments)}),i)}),Ct=ht(function(e,t,n,r,i,o){return dt(r)?Or(e,t,o,n,r,i):e}),St=function(e,t,n,r,i,o){var u,a=e.is(So);return Zt(qn(t,s),At(e.owner.events.expanders,function(t,a,s){u=u||e.directive(eo),oe[t]||e.mark(Do),u.attach(t,{capturing:!!o,origin:e,handler:i,group:n,selector:r,passedName:a,domName:t,domTarget:e,nameStack:s})})),!a&&e.is(Do)&&(Un(e,Ne),e.remark(yo,Gt(e.element(),e.owner))),e},Ot=function(e){return this.insertAt(e,Pe)},Dt=function(e){return this.insertAt(e,0)},Nt=function(e,t,n){var r=this.parent();return Lr.number(t)?this.insertAt(e,t):r.insertAt(e,r.children().indexOf(this))},It=function(e,t,n){var r=this.parent();return Lr.number(t)?this.insertAt(e,t+1):r.insertAt(e,r.children().indexOf(this)+1)},jt=function(e){return function(t,n){return mu[e](this.element(),t,n)}},Rt=function(e,t){var n,r,i,o=a;return t.is(wo)?(Vt(t),n=t.window(),n.is(Oo)&&(i=n.element(),r=i[ae],o=r.body?r.body[Eo].outerHTML:a)):t.is(q)&&(i=t.element(),o=i[e]),o},Bt=function(e,t,n){var r,i,o,u,s,c=t.owner;t.is(wo)?(o=t.window(),Vt(t),o.is(Oo)&&(s=o.element(),i=s[ae],i.open(),i.write(n),i.close(),u=Ne)):t.is(q)&&(s=t.element(),e===Ro&&(r=qn(t.$(Qo))),s[e]=n||a,r[K]&&Kt(r,c),Zt(t.$(Qo,s),c.returnsManager,c))},Pt=function(e){return function(t){var n=this;return t===i?Rt(e,n):(Bt(e,n,t),n)}},Vt=function(e,t){var n,r,i,o;e.remark(wo,e.tagName===wo),e.is(wo)&&(o=t||e.element(),n=o.src,r=o.contentWindow,e.remark("windowReady",!!r),r&&(i=e.owner.returnsManager(r),i.iframe=e,$n(i,r,n),e.cachedContent&&i.is(Oo)&&(e.html(e.cachedContent),e.cachedContent=Pe)))},Ht=Ge.Events[I][N][ke],Ut="runningEvent",Wt=function(e,t,n,r,i){var o=!!r;e.owner.mark(Ut);var u=vt(n,e.element(),t),a=Ht.call(e,t,u,{capturing:o});return e.owner.remark(Ut,i),a},$t={id:Ie,src:Ie,checked:Ie,disabled:Ie,classes:de},Ft={play:"playing",pause:"paused"},_t=qn("blur,focus,focusin,focusout,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error,contextmenu"),zt=_t.concat(jr.keys(Ft),jr.keys($t)),Gt=function(e,t,n){var r,i,o,u=t.returnsManager(e),a=n||u.element();if(r=u.is(yo))return r;if(u.is(ue))return Ne;for(;!i&&a&&a[Eo];){if(o=a[Eo],$u(o))return Ie;if(Wu(o))return Ne;if(o[ye])return Gt(o,t);a=o}return Ie},Qt=function(e,t){return function(n,r){var i=[];Zt(n,function(e){var n=r.returnsManager(e),o=n.is(yo);n.remark(yo,t),t!==o&&n.is(q)&&n.is(Do)&&i.push(n)}),fr(i,ke,e)}},Kt=Qt("detach",Ie),tn=Qt("attach",Ne),nn=function(e,t,n,r){var i,o,u,a=n.element();return!n.is(q)||a[Oe][e]===t&&r?Ie:(u=mu.read(a,Oe),t=""!==t?Me(e,t):t,r?mu.write(a,Oe,(i=yr(u.split(";"),function(n,r,i,u){var a=r.trim(),s=a.split(v),c=s[0].trim(),f=s[1].trim();return c===e&&(o=Ne,f=t+" !important"),n.push([c,f].join(": ")),i!==u[K]-1||o||n.push([e,t+" !important"].join(": ")),n},[]).join("; "))?i+";":i):Zt(Ce[Fr(e)],function(n){a[Oe][n+zr(e)]=t}),mu.read(a,Oe)!==u)},rn={set:function(e,t,n,r){e.refill(t===Ne?[]:t),t===Ie&&e.mark(Mo)},add:function(e,t){Zt(t,e.add,e)},remove:function(e,t){Zt(t,e.remove,e)},toggle:function(e,t,n){Zt(t,function(t){e.toggle(t,n)})},change:function(e,t,n){this.remove(e,t),this.add(e,qn(n,s))}},on=function(e){return function(t,n){var r=e(t,n);return t.is(qo)&&(t.unmark(qo),t[ke](Uo)),r}},un=function(e,t,n,r,i,o,u){var a=e===le?de:e,c=i||zr,f=r,l=f.preventUnCamel?a:c(a),d=l===de||l===_o,h=(d?(f=xu)&&(l=de)&&de:u)||l;return f=Ko[Fr(h)]?xu:mu,function(e,r){var i,u=e.element(),a=f.read(u,l),c=e,d=ce(e,l,a);return"get"===o?(r||(c=a),c):(ur(t,n,function(e,t){var n=o||(t===Ne?"add":t===Ie?Lo:"toggle");rn[n](d,pt(e)?e.split(s):e,t,a)}),d.changeCounter&&(d.is(Mo)?(d.unmark(Mo),f.remove(u,l)):(i=d.generate(s),f.write(u,l,hu(i)))),void(i!==a&&e.is(Do)&&(e.mark(qo),e[ke](Uo+v+h,{previous:a,current:vu(i)}))))}},an=function(e,t,n){return function(r){return function(i,o,u,a,s,c){return r(e(i,o,u,a||n,s,t,c),this)}}},sn=function(e,t,n,r){var i=qn(t,s);return function(t){var n=t.element(),o=wr(t,e),u=r.read(n,e);return o.ensure(u,s),Jt(i,function(e){var t=o.get(w,e);return t?!t.isValid():Ne})}},cn=an(un,"set",mu),fn=an(un,"add",mu),ln=an(un,Lo,mu),hn=an(un,"toggle",mu),vn=an(un,"change",mu),yn=an(un,"get",mu),bn=an(sn,"has",mu),An=function(e,t,n){return function(r){return function(r,o,u){var a,s=this,c=pt(r),f=c?u:o,l=c?o:Pe,d=t||f;return c&&l===i?(s=s.item(0),d.read(s.element(),n(r))):(a={},s.each(on(or(r,l,function(t,r,i,o){var u=a[t]=a[t]||e(t,r,Pe,d,n,gt(r)?Pe:"set");u(i,o)}))),s)}}},kn=An(un,mu,zr),En=An(un,mu,nt),Tn=An(un,xu,Fr),Cn=function(e,t){return t.each(e),t},Sn=function(e,t){return e(t.item(),0)},Mn=function(e,t){return!t.find(e)},On=function(e,t,n){return function(r,i,o){return r.classList&&r.classList[e]&&!jn?t(r,i,o):n(r,qn(r[de]?r[de]:[],s),i,o)}},Dn=function(e,t,n){var r,o=t;n&&(o==Pe&&(r=Ze(e,n),o=-1===r),r=r===i?Ze(e,n):r,o?-1===r&&e.push(n):-1!==r&&e.splice(r,1))},Nn=jr.add,In=jr.remove,jn=!!function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE");return t>0?parseInt(e.substring(t+5,e.indexOf(".",t))):navigator.userAgent.match(/Trident\/7\./)?11:0}(),Bn={add:On("add",function(e,t){e.classList.add.apply(e.classList,t)},function(e,t,n){Zt(n,wn(Xt(Nn,Pe,t))),e[de]=t.join(s)}),remove:On("remove",function(e,t){e.classList.remove.apply(e.classList,t)},function(e,t,n){Zt(n,wn(Xt(In,Pe,t))),e[de]=t.join(s)}),toggle:On("toggler",Ye,function(e,t,n,r){Zt(n,wn(Xt(Dn,Pe,t,r))),e[de]=t.join(s)}),contains:On("contains",function(e,t){return!e.classList.contains.apply(e.classList,t)},function(e,t,n){return Jt(n,function(e){return!ut(t,e,Ne)})}),change:On("add",function(e,t,n){e.classList.remove.apply(e.classList,t),e.classList.add.apply(e.classList,qn(n,s))},function(e,t,n,r){Zt(n,wn(Xt(In,Pe,t))),Zt(r,wn(Xt(Nn,Pe,t))),e[de]=t.join(s)})},Pn=function(e){return function(t,n){return function(r){return Bn[e](r.element(),t,n)}}},Hn=yr(yr(qn("add,remove,toggle,change"),function(e,t){e[t]=function(e){return function(t,n){return this.each(e(qn(t,s),n?qn(n,s):i)),this}}},{has:function(e){return function(t){return!this.find(e(qn(t,s)))}}}),function(e,t,n){e[n+"Class"]=t(Pn("has"===n?"contains":n))},{}),Un=function(e,t,n){var r,i=e.is(q)&&mu.read(n||e.element(),Fo);e.remark(So,t||!!i),e.is(So)&&!i&&(i=Ne),r=e.is(q)&&tu(n||e.element(),Fo,i),i&&(e[Ho]=i)},Wn=function(e,t,n){e.unmark(q),e.unmark(wo),e.tagName=Ie,e.is(ue)||e.remark(q,qu(n))&&(e.tagName=eu(n),e.owner=t,Vt(e,n),Un(e,Ie,n))},$n=function(e,t,n){var r;e.remark(ue,kt(t)),e.is(ue)&&e.owner&&(e.remark(Oo,r=!!Tr(function(){return t[ae]})),e.remark("topWindow",t===t.top),e.setAddress(),r&&(e.is("topWindow")||e.remark(Oo,e.sameOrigin())))},Fn=function(e,t,n){return $n(e,n),Wn(e,t,n),e.unmark(ae),e.unmark(xo),e.unmark(yo),e.is(ue)?void e.mark(yo):(e.remark(ae,Wu(n)),e.remark(xo,$u(n)),e.is(ae)?void e.mark(yo):e.is(xo)?void e.unmark(yo):void e.remark(yo,Gt(e,t,n)))},_n=Ge.DOMA_SETUP=function(e){var t,n,i,o,u,a=e,c=a[ae],f=Pr(c,Ne),d=Ge.Registry(),h=(mn(wt),0),v={},p={},m={},g=function(){return u=Pe,{x:0,y:0,z:0,motionX:0,motionY:0,motionZ:0,interval:1,rotationRate:0,alpha:0,beta:0,gamma:0,absolute:0}},y={update:function(e,t,n,r){var i;return en(t,function(t,n){Ko[n]?xu.write(e,Jr(n),t):mu.write(e,Jr(n),t)}),i=pt(n)?e.innerHTML=n:Zt(n,function(t){gu(e,y.create(t,e,r))}),e},create:function(e,t,n){var r,i;return"text"===e[0]?void(t.innerHTML+=e[1]):(i=c.createElement(e[0]),r=e[3],r&&r.key&&(n[r.key]&&Er("can't have a non unique key at "+r.key),n[r.key]=i),t.appendChild(y.update(i,e[1],e[2],n)),i)},resetHtml:function(e,t,n){return function(){n.owner.returnsManager(e).html(t)}},removeNodes:function(e,t){return function(){var n=jr.filter(e,function(e){return!jr.find(t.keys,function(t,n){return t===e})});return n[K]?Zt(n,wn(yu)):Ie}},addNodes:function(e,t,n,r){var i=c.createDocumentFragment();return Zt(t,function(e){y.create(e,i,r)}),function(){return e.appendChild(i),Ne}},updateAttribute:function(e,t,n){return function(){mu.write(e,t,n)}},replaceNode:function(e,t,r,i,o,u){var a=u,s=e[Eo];return a||(a=c.createDocumentFragment(),y.create(t,a,i)),function(){Su(s,a,e);e[ye]?n(e).remove():yu(e)}}},b=function(e,t){return dn(function(){t.push(e.join("")+" {")})},A=function(e){return dn(function(){e.push(" }\n")})},x=function(e,t,n,r){var i,o=t||[],u=n||[],a=Ye,s=Ye;return n&&(a=b(o,u)),r&&r(),i=yr(e,function(e,t,n){var r=n.trim();gt(t)?Zt(qn(r,l),function(n){r=n.trim(),o[K]&&(r="&"!==r[0]?" "+r:r.slice(1)),a=b(o,e),o.push(r),x(t,o,e,s),o.pop()}):(a(),s=A(e),e.push("\n	"+Jr(r)+":"+Me(r,t)+";"))},u),s(u),i.join("")};return f.is("setupComplete")?f.$:(f.remark("ie",jn),t=pn(ie),i=function(e){f.DOMContentLoadedEvent=e,f.mark("ready")},n=function(e,t){var n=t||f;return Xr(e,n,Ie,f===n,f)},o=Lt(gn({createElements:Xe,createDocumentFragment:Uu,registeredElementName:nu,fragment:function(){return Pr(Ke(Pe,f),f)}},function(e){return function(t){return e(t,f)}}),gn({makeTree:ze,makeBranch:Je,createElement:We,diff:qe},function(e){return function(t,n,r){return e(t,f,n,r)}}),{$:n,buildCss:x,nodeComparison:function(e,t,n,r){return Vu(e,t,n,r,Pe,Pe,Pe,f)},ready:function(){},supports:{},deltas:y,registeredConstructors:p,registeredElementOptions:m,iframeContent:ru,orderEventsByHeirarchy:Sr(Ne),data:Ge.Associator(),document:f,devicePixelRatio:Xo,constructor:Xr[I],registeredElements:t,templateSettings:{evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},events:{custom:{},expanders:{},lists:gn({base:j,svg:R,keyboard:B,gamepad:P,composition:V,mouse:H,touch:U,device:W,focus:G,time:J,animation:X,audioProcessing:Y,ui:Z,progress:ee,all:te},mn)},returnsManager:function(e){return e===f||e===f.element()?f:Pr(e,f)},expandEvent:function(e,t){var n=f.events.expanders;return Zt(qn(t,s),function(t){Zt(qn(e,s),function(e){n[e]=n[e]||[],-1===Ze(n[e],t)&&n[e].push(t)})}),f},customEvent:function(e,t){return Zt(qn(e,s),function(e){f.events.custom[e]=t}),f},customAttribute:function(e){return e?"["+Fo+'="'+e+'"]':Qo},stashMotionEvent:function(e){u=e},motion:function(){var e,t,n,r;return u?h>=u.timestamp?v:(h=Mt(),e=u.originalEvent,t=e.acceleration||(n=e.accelerationIncludingGravity)&&{x:n.x-9.81,y:n.y-9.81,z:n.z-9.81},t&&mt(t.x)&&(v.x=t.x,v.y=t.y,v.z=t.z,v.interval=e.interval,v.rotationRate=e.rotationRate,r=Ne),e.alpha!=Pe&&(v.alpha=e.alpha,v.beta=e.beta,v.gamma=e.gamma,v.absolute=e.absolute,r=Ne),r?v:g()):g()},plugin:function(e){return Kr.push(e),Zt(Yr,function(t){e(t)}),this},compile:function(e,t){return r(e,t,f)},collectTemplates:function(){return n("script[id]").each(function(e){r(e.prop(w),e.html(),f)}).remove()},unregisteredElement:function(e){d.keep(e.registeredElementName(),e[ye],e)},registerElement:function(e,n){var r=n||{},i=r["extends"],o=(r.events,r[N]);r.destruction,f.registeredElementName(e);return t[e]?Er(t[e]===Ne?"custom element names must not be used natively by browsers":"custom element names can only be registered once per document"):t[e]=i?t[i]:Jo,r.creation=(i?jr.flows(m[i].creation,r.creation||Ye):r.creation)||Ye,m[e]=r,p[e]=(i?p[i]||Cr:Cr).extend(_r(Fr(e)),Lt({},o)),this.document.is("ready")&&f.$(f.customAttribute(e)).each(f.returnsManager),p[e]}}),Lt(f,o),Lt(n,o),Gn(f.supports,f),Vr(i,f),f.mark("setupComplete"),n)},zn=function(e,t,n,r){Zt(qn(t,s),function(t){e.addEventListener?(e.addEventListener(t,n),e.removeEventListener(t,n)):n(r)})},Gn=function(e,t){var n=t.window(),r=n.element();e.deviceMotion=!!r.DeviceMotionEvent,e.deviceOrientation=!!r.DeviceOrientationEvent,e.motion=e.deviceMotion||e.deviceOrientation,zn(r,"deviceorientation devicemotion",function(t){t.alpha===Pe&&(e.motion=e.deviceMotion=e.deviceOrientation=Ie)},{alpha:Pe})},Jn=function(e,t){var n,r,o=this;return o[K]()?pt(e)&&t===i?(n=zr(e),(o=o.item(0))&&(r=o.getStyle())&&((qr=Jt(Ce[Fr(e)],function(e){return r[e+n]!==i}))?r[qr+n]:r[qr+n])):(o.each(on(or(e,t,nn))),o):o},Qn=yn(Sn),Xn=cn(Cn),Yn=function(e){var t=this,n=t.element();return t.owner.$(fu(e,n,t),n)},Kn=function(e){return e.isValidDomManager||qu(e)||$u(e)},Zn=function(){var e;(e=this.window())&&(e.unmark(Oo),Vt(this))},er=function(e,t,n,r,i,o){var u,a,s=r,c=_u(t),f=Ze(c,n),l=i;if(o)for(s=s||1,u=n,l=uu(l,e.owner);u&&!a;)u=c[f=f+=s],a=lu(u,l,t.owner);else u=n,u=c[f],u=c[f+s];return u&&e.owner.returnsManager(u)},nr=function(e,t,n){return function(e){var r,i,o=n,u=e||n,a=this,s=a.element(),c=s[t];if(!(r=pt(u))&&t&&!c)return a.owner.returnsManager(c);if((i=s[Eo])||c)return er(a,i,s,o,u,r)}},ir=function(e,t){var n=e.element();return(e.is(q)&&e.is(t?Do:So)?[n]:[]).concat(fu(Qo,n,e))},ar=function(e,t){var n=t.createDocumentFragment();if(!e)return n;var r=Ln(e),i=t.element();return en(qn(r),function(e){var r=i.createElement(e.tagName),o=ar(e.children,t);r.appendChild(o),en(e.attributes,function(e,t){mu.write(r,zr(t),e)}),n.appendChild(r)}),n},sr="isTrusted",lr="fullscreen",dr={props:qn("altKey,bubbles,cancelable,ctrlKey,currentTarget,eventPhase,metaKey,relatedTarget,shiftKey,target,timeStamp,view,which,x,y,deltaX,deltaY"),fixedHooks:{},keyHooks:{props:qn("char,charCode,key,keyCode"),filter:function(e,t){var n;return e.which==Pe&&(n=t.charCode,e.which=n!=Pe?n:t.keyCode),e}},forceHooks:{props:[],filter:function(e,t){return e.value=(t.force||t.webkitForce)/3||0,e}},motionHooks:{props:[],reaction:function(e){e.origin.owner.stashMotionEvent(e)}},mouseHooks:{props:qn("button,buttons,clientX,clientY,offsetX,offsetY,pageX,pageY,screenX,screenY,toElement"),filter:function(e,t){var n,r,o=t.button;return e.pageX==Pe&&t.clientX!=Pe&&(evntDoc=e.target.ownerDocument||n,n=evntDoc.documentElement,r=evntDoc[De],e.pageX=t.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),e.movementX=t.movementX||0,e.movementY=t.movementY||0,e.layerX=t.layerX||0,e.layerY=t.layerY||0,e.x=t.x||0,e.y=t.y||0,e.which||o===i||(e.which=1&o?1:2&o?3:4&o?2:0),e}},make:function(e,t,n){var r,i,o,u,a=t.type,s=dr.fixedHooks[a];n.origin;if(s||(dr.fixedHooks[a]=s=x.test(a)?this.mouseHooks:m.test(a)?this.keyHooks:T.test(a)?this.forceHooks:E.test(a)?this.motionHooks:{}),u=s.props?this.props.concat(s.props):this.props,o=u[K],Zt(u,function(n){var r=t[n];r!=Pe&&(e[n]=r)}),e.originalType=a,i=e.target||(e.view?e.view.event.currentTarget:event&&event.currentTarget)||e.delegateTarget.element(),i||(i=e.target=r),3===i[ko]&&(e.target=i[Eo]),(s.filter||Ye)(e,t),a=bt[t.type]||t.type,hr.call(e,Ln(t.data),n.origin,a,Pe,e.timeStamp),e.type===lr+k){if(r=e.target,kt(r))r=r[ae];else for(;r&&!Wu(r)&&r[Eo];)r=r[Eo];e.fullscreenDocument=r,Wu(r)&&e.remark(lr,r.fullScreen||r.webkitFullscreenElement||r.mozFullScreenElement||r.fullscreenElement?Ne:Ie)}e[sr]=jr.has(t,sr)?t[sr]:!M,(s.reaction||Ye)(e,t)}},hr=Ge.ObjectEvent[I],vr=Ge.DomEvent=Ge.ObjectEvent.extend("DomEvent",{AT_TARGET:1,constructor:function(e,t){var n=this;return vr.isInstance(e)?e:(n.originalEvent=e,ut(e.target)&&ut(e.currentTarget)?n.delegateTarget=t.origin.owner.returnsManager(t.target):n.delegateTarget=t.origin,dr.make(n,e,t),n.capturing=t.capturing===i?yt(n):t.capturing,n)},motion:function(){var e=this,t=e.origin.owner,n=t.motion();return n},preventDefault:function(){var e=this.originalEvent;this[ho]=Ne,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this[po]=Ne,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this[mo]=Ne,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}}),pr=function(e,t,n,r){var i=e.origin.element();i.removeEventListener?i.removeEventListener(t,n[r],r):i.detachEvent(t,n[r]),delete n[r]},mr=Ge.EventsDirective.extend("DomEventsDirective",{remove:function(e,t){var n=this,r=n.elementHandlers,i=e.name,o=r[i],u=o.capturing;e.remove(t),u?(--o[$o],o[$o]||pr(t,i,o,u)):(t.selector&&o[Wo]--,e[K]()===o[$o]&&pr(t,i,o,u))},add:function(e,t){for(var n,r,i,o,u,a,s=this,c=t.element,f=0,l=s.elementHandlers=s.elementHandlers||{},d=e.name,h=l[d],v=t.capturing,p=e.toArray(),m=t.origin.owner.events.custom;f<p[K]&&!n;f++)i=p[f],n=t.capturing===t.capturing&&t.handler===i.handler&&i.group===t.group&&t.selector===i.selector&&t.passedName===i.passedName;if(!n&&(u=h,h||(h=l[d]={delegateCount:0,captureCount:0,events:s,currentEvent:Pe,capturing:v}),t.mainHandler=h,h[v]||(a=t.domTarget,o=h[v]=function(e){return Wt(a,e.type,e,v)}),t.capturing?(e.insertAt(t,h[$o]),++h[$o]):t.selector?(r=h[Wo],++h[Wo],r?e.insertAt(t,h[$o]+r):e.insertAt(t,h[$o])):e.toArray().push(t),Zt(t.nameStack,function(e){t.fn=(m[e]||Sr.first)(t.fn,e,t)||t.fn}),o))if(c=t.origin.element(),c.addEventListener)c.addEventListener(t.domName,o,v);else{if(v)return;c.attachEvent(t.domName,o)}},create:function(e,t,n,r){return vr(t,{target:e.target,origin:e,capturing:r.capturing})},queue:function(e,t,n){return n[po]&&n.currentTarget!==t.temporaryTarget?(n[vo]=Ne,Ie):(n.currentTarget=t.temporaryTarget,t.mainHandler.currentEvent=n,e.push(t),Ne)},unQueue:function(e,t,n){return n.currentTarget=t.currentTarget=Pe,t.mainHandler.currentEvent=Pe,e.pop(),this},cancelled:function(e,t,n){var r,i,o,u=this;if(!e[K]())return u;if(o=e.first(),r=o.mainHandler,i=r[Wo],!i||n>i)return u;for(;i>=n;)o=e[n],o.temporaryTarget=Pe,++n;return u},nextBubble:function(e,t){var n,r=e.element();return!e.is(q)||r[Eo]?Ie:e.parent(function(t){return e.element()!==t&&t[ye]&&(n=e.owner.returnsManager(t),n.is(Do))?[n,Ne]:[t[Eo],Ie]})},subset:function(e,t){var n,r,i,o,u,a,s,c,f,l,d,h,v,p=0,m=0,g=[],y=t.origin;if(!e[K])return[];if(l=e[0],d=l.mainHandler,v=d[$o],h=d[Wo],t.capturing)return e.slice(0,v);if(y=t.origin,s=y.element(),o=t.target,!h||t.target===s)return e.slice(v);for(u=v+h,p=v,c=e.slice(u),n=y.orderEventsByHeirarchy();u>p;)for(l=e[p],++p,f=l.selector,a=-1,r=o;!i&&r&&qu(r)&&r!==s;){if(++a,lu(r,f,y.owner))if(i=r,l.temporaryTarget=i,l.parentNodeNumber=a,n)if(m=g[K])for(;l&&g[--m];)g[m].parentNodeNumber<=l.parentNodeNumber&&(g.splice(m+1,0,l),l=Pe);else g.push(l);else g.push(l);r=r[Eo]}return g.concat(c)}}),gr=function(e,t){for(var n=Ie,r=e;!r.is("topWindow")&&!n;)r=t.returnsManager(r.element().parent),r.iframe&&r.is(Oo)&&(n=!r.iframe.visible());return!n},wr=function(e,t){var n=e.directive(Q),r=n[t]=n[t]||se();return r},br=function(e,t,n){return function(r){var i,o,u=this[be](r);return u?(u.is(q)?i=je(u.element())[e]:u.is(ae)&&(o=u.element()[De])?i=o[t]:u.is(ue)&&(i=u.element()[n]),i||0):0}},Ar=(e.extendDirective("Registry","History"),function(e,t,n){var r,i,o=e[Ho];return e.is(So)?(r=e.owner.registeredElementName(o),i=e.owner.registeredConstructors[o],i||Er("custom elements must be registered before they can be used"),e=new i[I](e,t,n)):e}),xr=function(e,t){var n,r,i=this,o=i.is(Mo)||Ie;return!o&&(n=i.element())&&(r=n[Eo])?(i.mark(Mo),i.is(wo)&&t&&dt(t)&&i.owner.window().element().setTimeout(Xt(t,i,i)),yu(n,e),Kt([n],i.owner),i.remark(Mo,o),i):i},kr=function(){return[this]},Cr=Ge[To]=Ge.Events.extend(To,Lt({},Hn,{"directive:creation:EventManager":mr,isValidDomManager:Ne,$:Yn,querySelectorAll:Yn,orderEventsByHeirarchy:function(){return this.owner.orderEventsByHeirarchy},queryString:function(){var e="",t=this.toJSON(Ne),n=t.attributes;return e+=t.tagName,n.id&&(e+="#"+n.id),n[le]&&(e+=f+n[le].split(s).join(f)),e},registeredElementName:function(){return this.owner.registeredElementName(this[Ho])},attributes:function(e){var t,n,r=this,i=r.element(),o=i.attributes;return e?(n=Yt(e,r),Zt(o,function(e){n(e.nodeValue,e.localName)}),r):(t={},Zt(o,function(e){t[e.localName]=e.nodeValue}),t)},hasValue:bn(Mn),addValue:fn(Cn),removeValue:ln(Cn),toggleValue:hn(Cn),changeValue:vn(Cn),on:Et,addEventListener:Et,once:Tt,off:Ct,removeEventListener:Ct,append:Ot,appendChild:Ot,prepend:Dt,insertBefore:Nt,insertAfter:It,getAttribute:Qn,setAttribute:Xn,removeAttribute:jt(Lo),attr:kn(Cn),data:En(Cn),prop:Tn(Cn),html:Pt(Ro),text:Pt(Po),css:Jn,next:nr("next","nextElementSibling",1),prev:nr("prev","previousElementSibling",-1),skip:nr("skip",Pe,0),height:br(we,"scrollHeight",Ae),width:br(ge,"scrollWidth",xe),siblings:function(e){var t=this,n=Ir(e,t.owner);return t.parent().children(function(e,r,i){return e!==t&&n(e,r,i)})},element:function(){return this[z]},elements:function(){return[this.element()]},constructor:function(n,r,i){var o,u,a,s=i,c=this;return n||Er("element must be an element"),Cr.isInstance(n)?(r[To]=c,Lt(c,n),u=s.registeredElementOptions[c[Ho]],u.creation.call(c,c),c.on(u.events),c.on(A,u.destruction),
c):(Fn(c,s,n),c.is(q)||c.is(xo)?(r[To]=c,s=t(n.ownerDocument,Ne),c.is(q)&&(c[ye]=n[ye])):(a=c.is(ae))?(s=c,c[ye]=o=n[ye]):(r[To]=c,c[ye]=e.counter("win")),c.owner=s||Ie,c[z]=n,c.is(wo)&&c.on(Uo+":src detach attach",Zn),c.is(ue)&&$n(c,n),c.is(q)&&(c[Ho]&&c[Ho]!==Ne&&(c=Tr(function(){return Ar(c,r,s)})||c),ut(c,Ho)&&delete c[Ho]),c)},clone:function(){var e=this;return e.is(q)?Je(e.element()[Vo],e.owner):{}},length:function(){return 1},wrap:function(e){return this.owner.$(e||this)},unwrap:kr,toArray:kr,parent:function(){var e=function(e,t,n){for(var r,i,o=e,u=e.owner,a=o.element(),s=n;a&&!i;)r=t(a,n,s,u),a=r[0],i=r[1],s=r[2];return i&&a?u.returnsManager(a):void 0},t=function(e,t,n){return n-=1,(0>n||!xt(n)||ft(n))&&(n=0),[e[Eo],!n,n]},n=function(e,t,n,r){var i=e[Eo],o=uu(t,r);return[i,lu(i,o,r)]},r={document:function(e,t,n){var r=e[Eo];return Wu(r)?[r,Ne]:qu(r)?[r,Ie]:$u(r)?[Pe,Ie]:void 0},window:function(e,t,n,r){var i,o=e[Go];return o?[o,Ne]:(i=e[Eo])?[i,Ie]:[Ie,Ie]},iframe:function(e,t,n){var r,i=e,o=kt(e);return o?i===i.top?[Pe,Ie]:(r=Tr(function(){return i.frameElement}),[r,!!r]):[e[Go]]||e[Eo]}};return function(i){var o,u=this,a=Ie;return mt(i)?o=t:pt(i)?o=r[i]||n:a=i?Ne:a,a?e(u,i):(o||(o=t,i=1),e(u,o,i))}}(),contains:function(e){var t,n,r=e,i=this;return kt(r)?Ie:pt(r)?!!fu(r,i.element(),i)[K]:r.isValidDOMA?!!r.find(i.contains,i):(n=i.owner.returnsManager(r),n.is(ae)?n.window()===i:(t=i.element(),!!n.parent(function(e){var n=e[Eo];return[n,n===t]})))},insertAt:function(e,t){var n=this,r=n.owner,i=Kn(e)?r.returnsManager(e):r.$(e).fragment(),o=i.element(),u=t==Pe?Pe:n.children(),a=u&&u.item(t)||Pe,s=a&&a.element()||Pe,c=n&&n.element(),f=i.children(),l=ir(i,Ne);Kt(l,r),c&&Su(c,o,s),Gt(c,r)&&tn(l,r);return f},window:function(){var e=this;return e.is(ue)?e:e.is(ae)?e.returnsManager(e.element().defaultView):e.is(wo)?e.is(yo)&&e.owner.returnsManager(e.element().contentWindow):e.owner.window()},setAddress:function(e){var t=this;return e=t.address=e||t.address||rr()},emit:function(e,t,n){var r,i=this.window(),o=i.element();return i.is(Oo)?(r=Ln(e),(n||ta)({srcElement:o,timeStamp:jr.now(),data:function(){return r}}),this):(Tr(function(){t?o.postMessage(e,t):Er("missing referrer: "+i.address)}),this)},sameOrigin:function(){var e,t=this,n=t.element(),r=t.owner.window(),i=r.element();return r===t?Ne:t.is(Oo)?(e=oi(Tr(function(){return t.parent("iframe").element().src||n[Se].href})||n[Se].href),!e&&t.iframe&&(e=oi(t.iframe.src())),!e||e===oi(i[Se].href)):Ie},children:function(e,t){var n,r,o=this,u=_u(o.element());return e===i?t?(u=Vn(u,o.owner.returnsManager,o.owner))&&cr(t,"is",xo)?t.append(u):t.push.apply(t,u)?t:t:o.wrap(u):(n=Ir(e,o.owner),r=yr(u,function(e,t,r,i){return n(t,r,i)&&e.push(o.owner.returnsManager(t)),e},t||[]),t?r:o.wrap(r))},visible:function(){var e,t,n,r,i,o,u,a=this;return a.is(yo)?(n=a.getStyle(),0===+n.opacity||n.display===F||n[we]===y||n[ge]===y||n.visibility===_?Ie:(t=a.element(),e=t.getBoundingClientRect(),e[we]&&e[ge]?(i=(a.element().ownerDocument||{}).defaultView)?(o=i[Ae],u=i[xe],o<e.top||u<e.left||e.right<0||e.bottom<0?Ie:(r=a.owner.returnsManager(i),r.is("topWindow")?Ne:gr(r,a.owner))):Ne:Ie)):Ie},hide:function(){return this.applyStyle(b,F)},show:function(){return this.applyStyle(b,"block")},applyStyle:function(e,t,n){return nn(e,t,this,n),this},getStyle:function(e){var t={},n=this,r=n.element();return r&&n.is(q)&&(t=h(r,n.owner.element())),t},remove:xr,removeChild:xr,frame:function(e,t,n){var r=this,i=e||"";return n||!t&&"<!doctype "===i.slice(0,10).toLowerCase()||(i=r.owner.iframeContent(i,t)),r.is(wo)?(r.is(yo)?r.html(i):r.cachedContent=i,r):r},destroy:function(e){var t,n=this,r=n[Ho],i=n.element();return n.is(Co)?n:(n.mark(Co),n.is(wo)&&n.owner.data.remove(i.contentWindow),n.remove(Pe,e),r&&(t=n.owner.registeredElementName(r),n.directiveDestruction(t)),n[ke](A),n.directiveDestruction(eo),n.owner.data.remove(i),n[to](),n)},item:function(){return this},each:function(e,t){var n=this,r=[n];t?e.call(t,n,0,r):e(n,0,r);return r},find:function(e){var t=this;return e(t,0,[t])?t:i},client:function(){return je(this.element())},box:function(e){return Le(this.element(),e)},flow:function(e){return fe(this.element(),e)},dispatchEvent:function(e,t,n){var r,i=M;return M=Ne,r=Wt(this,e,t,n,i),M=i,r},toJSON:function(e){var t=this,n=(t.owner,t.element());return(t.is(ue)||t.is(ae))&&Er("cannot serialize documents and windows"),Hu(n,e===i?Mr:dt(e)?e:Sr(e),Ne)}},gn($t,function(e,t){return e||(e=t),function(t){var n=this;return t!==i?n.attr(e,t):n.element()[e]}}),gn(Ft,L),gn(_t,function(e){return L(e)}),gn(qn("add,addBack,elements,push,fragment"),function(e){return function(t,n,r){return this.wrap()[e](t,n,r)}}))),Or=function(e,t,n,r,i,o){var u=e.directive(eo),a=function(e,t){return e.obliteration(function(e){t&&t!==e.passedName||i&&e.handler!==i||n&&e.group!==n||r&&e.selector!==r||u.detach(e)})};return t?Zt(qn(t,s),At(e.owner.events.expanders,function(e,t){a(u[oo][e],t)})):en(u[oo],wn(a))},Dr=jr.eq,Nr=jr.matches,Ir=function(e,t){var n=e;return dt(n)?n:pt(n)?Ve[n]||(n=uu(n,t))&&function(e){return lu(e,n,t)}:mt(n)?function(e,t){return t===n}:gt(n)?Nr(n):function(){return Ne}},Rr=function(e){return function(t,n,r){return e(t.element(),n,r)}},Br=function(e,t,n){var r=Ir(t,n);return cu(e,Rr(r))},Pr=function(e,n){return e&&!kt(e)&&e.isValidDomManager?e:t(e,n)},Vr=(jr.publicize({covers:ot,center:at,closer:ct,fetch:S,distance:st,escape:Ii,unescape:Li,box:Le,isElement:qu,isWindow:kt,isDocument:Wu,isFragment:$u,unitToNumber:Ue,numberToUnit:He}),function(e,t){var n=Xt(e,t),r=t.window(),i=function(e){t.off("DOMContentLoaded",i),r.off("load",i),t.$(Qo).each(t.returnsManager),n(t.$,e)};return t.is("ready")?n(t.$,t.DOMContentLoadedEvent):(t.on("DOMContentLoaded",i),r.on("load",i)),t.mark("setup"),t}),Hr=function(e){return function(t,n,r,i,o,u){return this.each(function(a){a[e](t,n,r,i,o,u)})}},Ur=qn(A+",show,hide,style,remove,on,off,once,addEventListener,removeEventListener,dispatchEvent").concat(zt),Wr=qn("tag,element,client,box,flow"),$r=function(e){var t="tag"!==e;return function(n,r){var i=this.item(n);return i&&i[e](t?this.context:r)}},Gr=qn("isWindow,isElement,isDocument,isFragment"),Qr=function(e){return function(t){var n=this.item(t);return n&&n[e]}},Xr=Ge.DOMA=Ge.Collection.extend("DOMA",Lt({},Hn,{isValidDOMA:Ne,constructor:function(e,t,n,r,i){var o=e,u=this,a=u.context=r?t.item(0):i,s=u.owner=i,c=a.element();if(e&&!kt(e)&&e.isValidDOMA)return e;if(dt(e)){if(Wu(c))return Vr(e,s).wrap()}else n||(pt(e)?o="<"===e[0]?ze(e,s):Vn(fu(e,c,a),s.returnsManager,s):(o=e,Cr.isInstance(o)?o=[o]:(Yi.isInstance(o)&&(o=o.toArray()),o=Fu(o)?[s.returnsManager(o)]:o&&Vn(o,s.returnsManager,s)))),u.reset(o);return u},setValue:cn(Cn),hasValue:bn(Mn),addValue:fn(Cn),removeValue:ln(Cn),toggleValue:hn(Cn),changeValue:vn(Cn),add:it(function(e,t){var n=e.owner.$(t);return xn(e.toArray(),n.toArray())}),addBack:it(function(e,t){var n=e._previous;return n?(t&&(n=n.filter(t)),e.toArray().concat(n.toArray())):e.toArray().concat([])}),wrap:function(){return this},push:function(){var e=this.context.owner;return this.items.push.apply(this.items,yr(arguments,function(t,n){return n?(kt(n)?t.push(n):t=t.concat(!kt(n)&&dt(n.unwrap)?n.toArray():e.returnsManager(n)),t):t},[],e)),this},elements:function(){return this.results(q)},fragment:function(e){return this.context.returnsManager(Ke(e||this.toArray(),this.context))},filter:it(function(e,t){return Br(e.toArray(),t,e.owner)}),empty:it(function(e,t){var n=Ir(t,e.owner);return cu(e.toArray(),Rr(function(e,t,r,i){return!n(t,r,i)&&t.remove()}))}),$:it(function(e,t){var n=[],r=function(t){n.push(e.owner.returnsManager(t))};return Zt(e.toArray(),function(e){Zt(fu(t,e.element(),e),r)})&&n}),children:it(function(e,t){return yr(e.toArray(),function(e,n){return n.children(t,e)},[])}),css:Jn,allElements:function(){return!(!this[K]()||Jt(this.toArray(),function(e){return!e.is(q)}))},height:br(we,"scrollHeight",Ae),width:br(ge,"scrollWidth",xe),attr:kn(Cn),data:En(Cn),prop:Tn(Cn),eq:it(function(e,t){return Dr(e.toArray(),t)}),end:function(){for(var e=this;e._previous;)e=e._previous;return e},getAttribute:Qn,setAttribute:Xn,append:function(e,t){return this.insertAt(e,Pe,t)},prepend:function(e,t){return this.insertAt(e,0,t)},insertBefore:Nt,appendTo:function(e){return $(e).append(this),this},next:tt("next",1),prev:tt("prev",-1),skip:tt("skip",0),siblings:it(function(e,t){return Qe(e,function(e){return e.siblings(t).toArray()})}),insertAt:function(e,t,n){var r=this,i=r.owner,o=Kn(e)?this.context.returnsManager(e):i.$(e).fragment();return this.each(function(e){var r=o;n&&(r=r.clone()),e.insertAt(r,t)})},replaceWith:it(function(e,t,n){var r,i,o=e.owner;return(r=pt(element))||(i=Kn(t)?o.returnsManager(t):o.$(t).fragment()),Qe(e,function(n,o){var u=t;if(!n.is(q))return[];if(r)u=e.owner.$(t);else if(pn)u=i.clone();else if(o)return[];return parent=n.parent(),parent.insertAt(u,parent.children().indexOf(n)),n.remove(),u.toArray()})}),contains:function(e){return!!this.find(function(t){return t.contains(e)})},clone:it(function(e){return e.foldl(function(e,t){return t.is(q)&&e.push(t.clone()),e})}),parent:it(function(e,t){var n={};return e.foldl(function(e,r){var i;return(i=r.parent(t))&&!n[i.element()[ye]]&&(n[i.element()[ye]]=i,e.push(i)),e},[])}),has:function(e){var t=this,n=Yi(e),r=n[K]();return!!r&&n.find(function(e){return-1===t.indexOf(e)})},html:et(jo),text:et(Bo),map:function(e,t){return Yi(Vn(this.toArray(),e,t))},toJSON:function(){return this.results(D).toArray()},toString:function(){return rt(this)}},gn(Ur,Hr),gn(Wr,$r),gn(Gr,Qr))),Yr=[],Kr=[];e.undefine(function(e,t,n){var r=_n(t);return Yr.push(r),Zt(Kr,function(e){e(r)}),r.collectTemplates(),n.$=r,r}),e.defineDirective(Q,function(){return{}})}),e.scope(function(e){var t,n,r,u=0,a=0,s=0,c=jr.pI,f=jr.now,l=qn("ms,moz,webkit,o"),d="running",h="halted",p="stopped",m="destroyed",g="Looper",y="Timeout",b="clear"+y,A="AnimationFrame",x="request"+A,k=_r(x),E="cancel"+A,T=[],C=[],S=jr.eachCall,M=jr.time,O=(jr.remove,Ie),D=Ne,N=function(e){var i=Math.max(0,a-s);t=o[x](function(){D=Ne,e()}),D||(o[b](n),n=o.setTimeout(e,i+1)),W.playWhileBlurred&&(o[b](r),r=o.setTimeout(function(){D=Ie,e()},i+50))},L=function(){s=jr.now(),o[E](t),o[b](n),o[b](r);var i=e.DocumentManager,u=i&&i.dependency();return S(C,"run",s),R(),u&&u()},j=function(){O=Ne,N(L)},R=function(){nn(C,function(e,t){(e.is(h)||e.is(p)||e.is(m)||!e[K]())&&(e.stop(),C.splice(t,1))}),O=Ie,C[K]&&j()},B=function(e){T.push(e)},P=function(e){ut(C,e)||C.push(e),O||j()},V=(function(){for(;u<l[K]&&!o[x];++u)o[x]=o[l[u]+k],o[E]=o[l[u]+_r(E)]||o[l[u]+"Cancel"+k];o[x]||(o[x]=function(e){var t=Mt(),n=Math.max(0,16-(t-a)),r=o.setTimeout(function(){e(t+n)},n);return a=t+n,r}),o[E]||(o[E]=function(e){o[b](e)})}(),function(e,t,n){e.current=t,t.filter(n)&&Tr(function(){t.fn(n)},function(){e.dequeue(t.id)})}),H=function(){return this.tween.lastRun},U=function(e,t){return e.drop(w,t.id),e.remove(t)},q=function(e,t){var n,r;return(n=e.sort())===(r=t.sort())?0:ft(n)?1:ft(r)?-1:r>n?-1:1},W=Ge[g]=Yi.extend(g,{constructor:function(){var e=this;return e.mark(p),e.unmark(h),e.unmark(m),e.unmark(d),e[I+v+_i](),B(e),e},destroy:function(){return this.mark(m),this.halt()},run:function(e){var t,n,r,i=0,o=this;if(!o.is(h)&&!o.is(p)&&o[K]())for(o.lastRun=e,o.sort(q),t=o.toArray().slice(0),n=t[K];n>i&&!r;i++)r=!o.is(h)&&V(o,t[i],e);o.current=Pe,o.unmark(d)},dequeue:function(e){var t,n=this,r=e;return r!==i||arguments[K]?mt(r)&&(t=n.get(w,r))?(U(n,t),Ne):Ie:(n.current&&(r=U(n,n.current)),!!r)},stop:function(){return this.mark(p),this},start:function(){var e=this;return e.unmark(p),e.unmark(h),P(e),e},halt:function(){return this.mark(h),this.stop()},queue:function(t){var n,r=e.counter(Ie),i=this,o=t;return dt(o)&&(o={fn:i.bind(o)}),gt(o)?(n=i[K](),o.tween=i,o.sort=o.sort||H,o.filter=o.filter||Mr,o.id=r,i.push(o),i.keep(w,r,o),n=n?P(i):i.start(),r):void 0},bind:function(e){return Yt(e,this)},once:function(e){return this.frames(1,e)},frames:function(e,t){var n,r=0,i=c(e)||1;return!t&&dt(i)&&(t=e,i=1),dt(t)?(n=this.bind(t),(1>i||!mt(i))&&(i=1),this.queue(function(e){var t=Ie;r++,r>=i&&(this.dequeue(),t=Ne),n(e,t,r)})):void 0},tween:function(e,t){var n,r=f(),i=M(e),o=this;if(dt(t))return n=o.bind(t),o.timeout(0,function(e){var t=Ie,u=e-r;u>=i&&(t=Ne,o.dequeue()),n(e,Math.min(1,u/i),t)})},frameRate:function(e,t,n){var r,i=this,o=Math.min(n||.8,.8),u=30*o,a=1,s=f(),c=e||125;return dt(t)?(r=i.bind(t),i.queue(function(e){var t=1e3/(e-a);t>40&&(u=60*o),u>t&&(s=e),e-s>c&&(i.dequeue(),r(e)),a=e})):i},timeout:function(e,t){var n,r=this;if(dt(t))return n=r.bind(t),r.interval(e,function(e){r.dequeue(),n(e)})},interval:function(e,t){var n,r=t,i=this,o=M(e),u=Mt();if(dt(r))return mt(o)||(o=0),n=i.bind(t),i.queue({filter:function(e){return e-o>=u},fn:function(e){u=e,n(e)},sort:function(){return u+o}})},defer:function(e,t){var n,r=this;return function(){var i=qn(arguments);return r.dequeue(n),n=r.timeout(e,Xt.apply(jr,[t,this].concat(i)))}}});W.playWhileBlurred=Ne,jr.publicize({AF:W()})});var Gu=(jr.AF,"RegionManager"),Ju="DocumentView",Qu="DocumentManager",Xu="renderLoop",Yu=function(e){e.owner$||Er("object needs an owner$ function to scope itself against a "+ae)};e.scope(function(e){var t=(jr.protoProp,jr.isFragment,jr.isInstance),n=jr.isFunction,r=(jr.isArrayLike,jr.intendedObject,"render"),o=r+"ing",u=r+"ed",c="modelId",f="established",l="constructor",d="bufferedViews",h="that region does not exist",v="invalid key passed for region name",p=function(e){return Er("an element does not exist at "+e)},m=Ge.Parent,g=Ge.Model,y=function(e,t){var n,r,i,o,u=t,a=e.directive(uo);return(o=j.isInstance(t))?(r=a.get(c,t.model.id))?r:t:(n=g.isInstance(u))?(r=a.get(c,u.id))?r:void 0:(i=e.childConstructor())({model:i[l][N].Model(t)})},b=function(e,t,n){var r,i=e[uo];return t[Y]=Pe,i.remove(t),r=t.model,i.drop("viewCid",t.cid),i.drop("modelCid",r.cid),i.drop(c,r.id),n},x=Ge.Region=m.extend("Region",{attributes:Sr(Ie),childConstructor:function(){var e=this;return e.Child===Ne?e[Y][Y].childConstructor():e.Child},constructor:function(e){var t=this;return t["super"].call(t,e),Yu(t),t.directive(uo),t.setElement(),t},add:function(e,t,n){var r=this,i=Yi(e).foldl(function(e,t){var n;(n=r.adopt(t))&&e.push(n)},[]);return r.el&&r.render(n),i},adopt:function(e){var t,n,r=this,i=r[uo];if(!e)return Ie;if(n=y(r,e),n[Y]){if(n[Y]===r)return Ie;b(n[Y],n,r)}return n[Y]=r,i.attach(n),t=n.model,i.keep("viewCid",n.cid,n),i.keep("modelCid",t.cid,n),i.keep(c,t.id,n),n},buffer:function(e){var t,n,r=this,i=e.el&&e.el.element(),o=r.el.element(),u=e.parentElement(r);return i?(t=i.parentNode,t&&t===u||(u===o?(n=r.directive(d),n.els.append(i)):$(u).append(i)),r):r},setElement:function(){var t=this,n=t[U],r=t[Y][Y],i=r[Y]&&r[Y][Y]===e?r.$(n).item(0):r.owner$.returnsManager(r.directive(_).hashed[n]);return i?(t.directive(_).set(i),t):p(n)},render:function(e){var t=this,n=t.directive(d),i=t.directive(_),o=e||Ye;return t.unmark(u),n.ensure(),t[ke](T+r),t.setElement(),o(t)?t[uo].each(t.buffer,t):t[uo].eachCall(r,o),i.el.append(n.els),t[ke]("buffered"),t.mark(u),n.reset(),t[ke](r),t}}),E=function(e,t){var n=e.directive(Gu);if(t||!n.is(f)){var r=e.directive(_);return n.mark(f),r.renderEl(),r.diff(),r.renderTemplate(),e}},C=ir(function(e,t){var n,r=this,i=r.directive(Gu);return E(r),(n=i.get(e))?n.add(t):Er(h)}),O=ir(function(e,t){var n,r=this.directive(Gu);return r.is(f)&&((n=r.get(e))?n.remove(t):Er(h))}),D=Hi(Gu,"add"),I=Hi(Gu,"get"),L=Hi(Gu,"remove"),j=Ge.View=m.extend("View",{Model:g,modifiers:Ye,getRegion:I,addRegion:D,removeRegion:L,addChildView:C,removeChildView:O,tagName:Sr("div"),template:Sr(Ie),getChildViews:function(e){return this.getRegion(e).directive(uo)},getChildView:function(e,t,n){return this.getChildViews(e).directive("Registry").get(t,n)},parentElement:function(e){return e.el.element()},childrenOf:function(e){return this.directive(Gu).get(e).directive(uo)},parentView:function(){for(var e,t=this,n=t[Y];!e&&n;)n=n[Y],j.isInstance(n)&&(e=n);return e},bindModel:function(e){var t=this,n=cr(t,"modelEvents");t.model=g.isInstance(e)?e:t.Model(e),t.listenTo(t.model,n),t.listenTo(t.model,k,t.render)},constructor:function(t){var n=this,r=t||{};return n.id=e.counter(Ie,Ne),n.bindModel(r.model),delete r.model,m[l].call(n,r),n.directive(_).ensure(),n},valueOf:function(){return this.model.valueOf()},destroy:function(e){var t=this;return t.is(M)?t:(t[ke](S),t.mark(M),t[Gu]&&t[Gu].list.eachCall(A),t.el&&t.el.destroy(e),t.directiveDestruction(_),m[l][N].destroy.call(t),t)},render:function(e){var t,i=this;return i.mark(o),t=i.directive(_),i[ke](T+r),i[Gu]&&i[Gu].list.eachCall(r,n(e)?e:Mr),E(i,Ne),t=i[Y]&&i[Y].buffer(i),i}}),R=(Ge.View,function(){var e=this;e.els&&e.els.is(xo)?1:e.resetEls()}),B=function(){var e=this.views;return this.resetEls(),e},P=function(){this.els=this.region.owner$.fragment()},V=Ge[Gu]=Ge.Directive.extend(Gu,{constructor:function(e){var t=this;return t.parent=e,t.list=Yi(),t},create:function(e,n){var r=this,i=r[Y],o=n,u=n;return t(u,x)?u:(u=x(Lt({selector:o||a,owner$:i.owner$},gt(u)?u:{},{id:e,key:n,parent:r})),r.list.push(u),r.list.keep(w,e,u),u)},establish:ir(function(t,n){t||Er(v);var r,i,o=this,u=o[Y],a=o.list.get(w,t),s=u[Y];a||(a=o.create(t,n)),s&&s[Y]===e?(r=u.el.$(n)[be](0),r||p(n)):(i=u.directive(_),i=i.hashed[a[U]],i||p(n),r=u.owner$.returnsManager(i)),a.el||(a.el=r)}),remove:function(e){},add:ir(function(e,t){var n=this,r=n.list.get(w,e);r||n.establish(e,t)}),get:function(e){return this.list.get(w,e)}}),H=Ge[d]=Ge.Directive.extend(d,{constructor:function(e){var t=this;return t.region=e,this.resetEls(),t},reset:B,ensure:R,resetEls:P}),W=Ge[Ju]=Ge.Model.extend(Ju,{regions:Ye,addRegion:D,getRegion:I,removeRegion:L,removeChildView:O,addChildView:ir(function(e,t){var n=this.directive(Gu),r=n.get(e);t.render(),r.add(t,Pe,Mr)}),render:function(e){var t=this;return t.directive(Gu).list.eachCall(r,e),t},constructor:function(e){var t=this;return Lt(t,e),t},chunk:function(e,t){var n=this.parent,r=n.modifications,i=r.get(w,e),o=i||{id:e,fn:t,counter:0};i&&(i.counter+=1),r.keep(w,e,o),r.push(o),n.checkRenderLoop()}}),F=Ge[Qu]=Ge.Model.extend(Qu,{checkRenderLoop:function(){this.get(Xu)||this.modify()},dependency:function(){var e=this;return e.set(Xu,e.get(Xu)+1),function(){e.set(Xu,e.get(Xu)-1),e.checkRenderLoop()}},modify:function(){var e,t=this,n=t.modifications;n.length()&&(n=n.slice(0),t.modifications=Yi(),e=t.dependency(),t.mark("writing"),n.eachCallTry("fn"),t.unmark("writing"),e())},constructor:function(e){var t=this;return t.parent=e,t.documents=Yi(),t.modifications=Yi(),Ge.Model[l].apply(this,arguments),t}}),_=_r(q),z=function(e,t){return this[ke](e,t.data(),{instigator:t})},G=function(e,t,n){var r="delegateEvents"+e,i=Ze(n,"@"),o=-1!==i;return{selector:o?J(n.slice(i),t):a,group:r,events:o?n.slice(0,i).trim():n}},J=function(e,t){return e.replace(/@ui\.[a-zA-Z_$0-9]*/g,function(e){return t[e.slice(4)]})},Q=Ge.Directive.extend(_,{constructor:function(e){return this.view=e,this},ensure:function(){var e,t=this,n=t.view,r=t[U]||cr(n,"el");r&&(t[U]=r),Ge.DOMA.isInstance(r)||(e=pt(r)?r:t.create(n.tagName()),t.set(e))},create:function(e){return this.view.owner$.createElement(e)},unset:function(){var e=this;delete e.view.el,delete e.el},set:function(e){var t=this;t.view.el=t.el=e},diff:function(){var e=this,t=e.el,r=e.view,i=t.element(),o=r.model&&r.model.toJSON()||{},u=e.virtual=[r.tagName(),e.attributes(),r.template(o,cr(r,"helpers")||{})],a=r.owner$.nodeComparison(i,u,e.hashed,Yt(e.comparisonFilter,e)),s=(e.hashed=a.keys,e.mutations=a.mutations,e.modifiers=Lt({remove:Ye,update:Ye,insert:Ye},n(s=r.modifiers())?{insert:s}:s))},comparisonFilter:function(e){var t=this.view.directive(Gu),n=e[3]||{},r=n.key;return!r||!t.get(w,r)},delta:function(){var e,t=this,n=(t.view,t.mutations),r=t.modifiers,i=Ie;return t.mutations?(delete t.mutations,delete t.modifiers,e=n.remove()||i,e=r.remove()||e,e=n.update()||e,e=r.update()||e,e=n.insert()||e,r.insert()||e):Ie},renderEl:function(){var e=this,t=e.view,n=t.el,r=n!==e.el;r&&e.unset(),!r&&t.is(u)||(e.degenerateUIBindings(),e.undelegateEvents(),e.undelegateTriggers(),e.set(n),e.generateUIBindings(),e.delegateEvents(),e.delegateTriggers())},setState:function(){var e,t,n,i=this,a=i.view;return a.unmark("asyncRendering"),a.owner$.documentView.chunk(a.cid,Ye),(e=i.delta())&&i.bindUI(),a.unmark(o),a.mark(u),t=cr(a,"regions"),n=cn(t)[K]&&a.RegionManager.establish(t),a[ke](r),i},renderTemplate:function(){var e=this,t=e.view;return t.el.is("attached")?(t.mark("asyncRendering"),t.owner$.documentView.chunk(t.cid,Yt(e.setState,e))):e.setState(),e},degenerateUIBindings:function(){var e=this;return e.ui?(e.ui=e.view.ui=e.uiBindings,void delete e.uiBindings):Pe},generateUIBindings:function(){var e=this,t=e.uiBindings||cr(e.view,"ui");e.ui=e.ui||{};return e.uiBindings?e:(e.uiBindings=t,e)},delegateEvents:function(){var e=this,t=e.view,n=e.el,r=e.elementBindings||cr(t,"elementEvents"),i=[];return e.elementBindings&&(e.elementBindings=r),n?(e.cachedElementBindings=Vn(r,function(r,o){var u=G(t.cid,e.uiBindings,o),a=u.fn=Yt(pt(r)?t[r]:r,t);i.push(u),n.on(u.events,u[U],a,u.capture,u.group)}),e.cachedElementBindings=i,e):e},undelegateEvents:function(){var e=this,t=(e.view,e.el),n=e.cachedElementBindings;return n&&t?(Zt(n,function(e){t.off(e.events,e[U],e.fn)}),e.cachedElementBindings=i,e):e},delegateTriggers:function(){var e=this,t=e.view,n=e.el,r=e.elementTriggers||cr(t,"elementTriggers"),i=[];return e.elementTriggers||(e.elementTriggers=r),n?(en(r,function(r,i){var o=G(t.cid,e.uiBindings,i),u=o.fn=Kt(z,[t,r]);n.on(o.events,o[U],u,o.capture,o.group)}),e.cachedElementTriggers=i,e):e},undelegateTriggers:function(){var e=this,t=(e.view,e.el),n=e.cachedElementTriggers;return e.cachedElementTriggers&&t?(Zt(n,function(e){t.off(e.events.join(s),e[U],e.fn)}),e.cachedElementTriggers=i,e):e},attributes:function(){return cr(this.view,"attributes")},bindUI:function(){var e=this,t=e.uiBindings;return e.ui=e.view.ui=Vn(t,e.el.$,e.el),e}});e.defineDirective(Qu,F[l]),e.defineDirective(Gu,V[l]),e.defineDirective(d,H[l]),e.defineDirective(_,Q,function(e,t){e.el.destroy(),e.unset();var n=e.ui;e.degenerateUIBindings(),fr(n,"destroy")}),e.undefine(function(e,t,n){var r=t[ae],i=e.directive(Qu),o=i.documents,u=o.get(w,r[ye]);u&&Er("document has already been setup");var a=n.$,s=(a.document,x.extend({owner$:a})),c=j.extend({owner$:a}),f=n.scopedFactories={Region:s,View:c};u=W({$:a,owner$:a,id:r[ye],el:a.returnsManager(r),parent:i,factories:f}),a.documentView=u,o.push(u),o.keep(w,u.id,u)})});var Ku={},Zu="version",ea=Zu.toUpperCase(),ta=function(t){var n,r=t.data(),i=r.postTo;if(!t.busted&&!e.isDestroyed&&r&&i&&(e[ea]===r[Zu]||"*"===r[Zu])&&(n=(Ku[r.group]||{})[r.postTo])){t.busted=Ne;var o,u=r.runCount,a=n.directive(uo);if(u){if(o=a.get(w,r.messageId),!o)return;n.response(o,r)}else n.receive(r)}};ta.app=e,e.scope(function(e){var t="%7B",n="isLate",r="documentReady",o="deferred",u="resolved",s="is"+_r(o),c="group",f="postTo",l="command",d="runCount",h="flushing",p="connect",m=p+"ed",g="dis"+m,y="initialize",b="response",A="message",x=_r(b),k="latest"+x,E="last"+x,C="responded",S=C+"With",M="received",O=T+C,D=T+M,N="sentMessageIndex",L="receiveReferrer",j="emitReferrer",R="buster",B="packet",P=function(e,t){var n=rt(e);return t.emitWindow.emit(n,t.get(j))},V=rr(),H="respondHandlers",U=Ge.Model.extend(_r(A),{idAttribute:Sr(A+"Id"),initialize:function(){var e=this;e[H]=[],e.once(b,e.saveReceived),e.on(o,e.saveDeferred)},saveReceived:function(e){this.responseEventObject=e},saveDeferred:function(e){this.deferredEventObject=e},packet:function(e){var t=this;return arguments[0]?t.set(B,e||{}):t=mn(t.get(B)),t},defaults:function(){return{command:Pe+a,packet:{}}},response:function(e){var t=this;return dt(e)?(t.get(S)?e.call(t,t.responseEventObject):t.once(b,e),t):t},deferred:function(e){var t=this,n=t.get(k);return t.on(o,e),n&&n.isDeferred&&e.call(t,t.deferredEventObject),t},send:function(){return this[Y].flush()}}),q={message:ta},W=function(e){return Jt(Ku,function(t){return Jt(t,function(t,n,r){return e===t&&delete r[n]})})},$=function(){var e=this;e.connectPromise&&e.connectPromise.reject(),e.unmark(m),e[ke](g),e.connectPromise=jr.Promise()},F=function(e){var t=this,r=t.directive(X);r.get(n)&&r.set(N,1),t.respond((e.message||e.origin).id),t.mark(m),t[ke](m)},_=_r(R),z=function(t){return{from:t.get(w),postTo:t.get(f),group:t.get(c),version:e[ea],messageId:t.directive(uo)[K](),timeStamp:jr.now()}},G=Ge[_]=Ge.Model.extend(_,{Child:U,bounce:function(e){return this.respond(e.message.id)},connected:function(){return this.connectPromise.success(arguments),this},response:function(e,t){var n=e[X];n&&(n.set(k,t),e.is(u)?e[ke](o,t.packet):(n.set(S,t),e.mark(u),e[ke](b,t.packet)))},receive:function(e){var t,n=this,r=n.receiveHistory;return e.originMessageId=e.messageId,e.messageId=r.length(),e.isDeferred=Ie,t=U(e),r.push(t),r.keep(w,e.messageId,t),n[ke](D),n[ke](M+v+e.command,e.packet,{message:t}),n[ke](M),n},setGroup:function(){var e=this,t=e.get(c),n=e.get(w),r=(W(e),Ku[t]=Ku[t]||{});return r[n]=e,e},defineWindows:function(e,t){var n=this,i=n.directive(X);e&&e.is(ue)&&(n.receiveWindow=e.on(q),n.mark(r),n.flush()),t&&t.is(ue)&&(n.emitWindow=t,i.set(f,i.get(f)||n.emitWindow.address))},defineIframe:function(e){var t,n=this;e&&e.is(wo)&&(n[wo]=e,e.is(yo)&&(t=e.window())&&n.defineWindows(Pe,t),e&&n.setupIframe())},setupIframe:function(){var e,n=this,r=n[wo],i=n.directive(X),o=n.receiveWindow.element().location.href.split(t),u=(o.shift(),o.unshift(a),o.join(t)),s=si(i.get(L)||u).origin,l=i.get(wo+"Src"),d=i.get(wo+"Content"),h={postTo:n.id,useTop:!1,useParent:!0,emitReferrer:s,id:i.get(f),group:i.get(c)};i.set(L,s),l&&(e=i.set(j,jr.reference(l)),h[L]=e),l&&r.src(tr({url:l,hash:h})),d&&(r.data(R,encodeURI(rt(h))),r.html(d),n.begin(y))},stripData:function(){var e,n,r,i=this,o=i.receiveWindow;o&&o.is(ue)&&(r=o.element().location.hash.slice(1),e=r.split(t),n=e.shift(),e.unshift(a),r=e.join(t),i.set(Ln(decodeURI(r||Tr(function(){return o.parent(wo).data(R)})))))},constructor:function(e,t,r,o){var u=this;Yu(u);var a=r||{},s=u.owner$(e).item(0),c=u.owner$(t).item(0);return a.id=a.id===i?rr():a.id,u.receiveHistory=Ge.Collection(),$.call(u),a.group=V,Ge.Model[I].call(u,a),u.on(m,function(e){var t=u.directive(uo).first();u.connectPromise.fulfill(t),u.flush()}),u.on({"received:update":"bounce","received:unload":"destroy",destroy:$,"received:initialize received:connect":F,"change:group change:id":"setGroup"}),u.on(o),u.setGroup(),s&&s.is(ue)&&u.defineWindows(s),c.is(ue)?u.defineWindows(Pe,c):u.defineIframe(c),u.get("strip")&&u.stripData(),u.set(N,0),u[wo]?u.get(n)&&u.begin(y):u.begin(p),u},flush:function(){var e,t,n,o,u=this,a=u.directive(X),s=a.get(N),c=u.is(m),f=a.get("initedFromPartner"),v=a.get(h);if(!u.is(r))return u;if(!f||c&&(c||!s)&&!v){for(a.set(h,Ne),t=u.directive(uo),n=t[K](),o=t.item(s);o&&n>s;)o.directive(X).set(d,0),s||c?(o=t.item(s),s=a.get(N)+1||0,a.set(N,s),P(o,u)):(n=i,e=o.get(l),e!==p&&e!==y||P(o,u));u.set(h,Ie),u.is(m)&&t[K]()>u.get(N)&&u.flush()}return u},create:function(e,t,n){var r=this,i=r.add(Lt({command:e,packet:t},z(r),n));return i.item(0)},sync:function(e){return this.create("update").response(e).send()},respond:function(e,t){var n,r,i,o=this,u=o.receiveHistory.get(w,e);return u?(o[ke](O),n=u.directive(X),n.set(d,(n.get(d)||0)+1),r=Lt(Ne,cr(o,"package")||{},t),i=Lt(z(o),{from:u.get(f),postTo:u.get("from"),messageId:u.get("originMessageId"),isResponse:Ne,isDeferred:u.get(s),runCount:u.get(d),command:u.get(l),timeStamp:jr.now(),packet:r,version:u.get(Zu)}),n.set(E,i.timeStamp),n.set(s,Ne),o.set(E,i.timeStamp),P(i,o),o[ke](C,r),o):o},begin:function(e){var t=this,n=t.directive(uo);return n.item(0)||t.create(e).response(function(e){F.call(t,e)}).send()}});G.receivePostMessage=ta,e.undefine(function(e,t,n){var r=e.directive(Qu),i=r.documents.get(w,t[ae][ye]),o=i.$,u=i.factories,a=(t.top,t.parent);u[_]=G.extend({owner$:o}),Tr(function(){for(var t,n=a;n!==t&&e.global.touch(n);)i.$(n).on(A,ta),t=n,n=n.parent})})}),e.scope(function(e){var t,n,r,o,u,a,c,f,l,d,h,v,p,m,g,y,w,b,A,x=0,k="expected",E=" not",T=" to equal ",C=" to evaluate to ",S=" an error",M=" to be thrown",O=" to be strictly equal to ",D=function(e,t,i){return function(o){var u,a={};return i&&(r=r()),u=e(r,o),u!==Ne&&u!==Ie&&Er("expectation results from the maker method must be of type boolean."),u?(g.push(a),a.success=Ne):(++x,a=new Error(t.call(this,r,o)),a.message=a.toString(),a.success=Ie,y.push(a)),v.push(a),a.tiedTo=A,n=Ie,u}},N={not:{}},I=function(e){return n?Er("expectations cannot be nested or be running at the same time"):(n=Ne,r=e,N)},L=I.maker=function(e,t,n,r,i){N[e]=D(t,n,i),N.not[e]=D(bt(t),r,i)},j=(L("toThrow",function(e){var t=Ie;return Tr(e,function(){t=Ne},function(){return t})},function(){return k+S+M},function(){return k+S+E+M}),L("toBe",function(e,t){return e===t},function(e,t){return k+s+rt(e)+O+rt(t)},function(e,t){return k+s+rt(e)+E+O+rt(t)}),L("toEqual",function(e,t){return vn(e,t)},function(e,t){return k+s+rt(e)+T+rt(t)},function(e,t){return k+s+rt(e)+E+T+rt(t)}),L("toEvaluateTo",function(e,t){return vn(e,t)},function(e,t){return k+s+"function"+C+rt(t)},function(e,t){return k+s+"function not"+C+rt(t)},Ne),function(e){return function(t){e.erred=t,kr.error(t)}}),R=function(e){var n;e.endTime=jr.performance.now(),d.pop(),x||e.erred?(l.push(e),e.promise.reject(e.err)):(f.push(e),e.promise.fulfill()),x=0,H(e.afterStack),t=Ie,h[0]&&(n=h.shift(),clearTimeout(n.runId),P(n)),_()},B=function(e,t){var n=go();return c.push(n),d.push(e),w.push([]),b.push([]),Tr(t,Ye,function(){b.pop(),w.pop(),d.pop()}),n},P=function(e){t=Ne,e.runId=setTimeout(function(){var n,r,i,o,u,a=e.current.slice(0);A=e,t=Ne,H(e.beforeStack),i=j(e),1===e.handler[K]?(o=new Error,e.timeoutId=setTimeout(function(){kr.error("timeout:\n"+a.join("\n")),n(o),R(e)},5e3),r=function(){e.handler(function(){clearTimeout(e.timeoutId),R(e)})},n=i,i=function(t){n(t),R(e)},u=Ye):(r=e.handler,u=function(){R(e)}),e.startTime=jr.performance.now(),Tr(r,i,u)})},V=function(e,n){var r,i;return d.push(e),r=d.slice(0),d.pop(),i={string:e,handler:n,current:r,afterStack:b.slice(0),beforeStack:w.slice(0),promise:go()},a.push(i),t?h.push(i):P(i),i.promise},H=function(e){var t,n,r;for(t=0;t<e[K];t++)for(r=e[t],n=0;n<r[K];n++)r[n]()},U=function(e){w[w[K]-1].push(e)},q=function(e){b[b[K]-1].push(e)},W=function(){u=i,jr.each(c,function(e){e.resolve()}),o=0,c=[],a=[],f=[],l=[],d=[],h=[],v=[],p=[],m=[],g=[],y=[],w=[],b=[],t=Ie,n=Ie},$=function(e,t){for(var n,r,i=t||"\n",o=e.slice(0);o.length;)n=o.shift(),r=r?r+i+n:n,i+="    ";return r},F=function(e){return{passed:g[K],failed:y[K],total:v[K],duration:e,tests:Vn(v,function(e){var t=e.tiedTo,n=$(t.current);return{name:e.success?n:n+"\n",duration:0,result:e.success,message:e.message}})}},_=function(){u=void 0===u?setTimeout(function e(){var n,r,i=0,o=0;if(t)u=setTimeout(e,500);else{for(;i<a[K];i++)n=a[i],o+=n.endTime-n.startTime;y[K]&&(kr.log("failed"),Zt(y,function(e){kr.log(e)})),r=g[K]+" successful expectations\n"+y[K]+" failed expectations\n"+v[K]+" expectations ran\n"+f[K]+" out of "+a[K]+" tests passed\nin "+o+"ms",hr=F(o),W(),lr(z,hr),kr.log(r,hr)}},100):u},z=[],G=function(e){z.push(e)};W(),jr.publicize({test:{afterEach:q,beforeEach:U,expect:I,describe:B,it:V,finished:G}})})});