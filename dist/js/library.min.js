Odette.definition(this,function(e,t,n){"use strict";function r(e,t){return this}function i(e){return e.match(ai)||[]}function o(e){return function(t){return e==Ye?p:e[t]}}function u(e){return e.match(Fi)||[]}function a(e){return eo.test(e)}function c(e){return Zi(e)||Ot(e)&&ct.call(e)==Yi}function s(e){if(St(e))return e;if(c(e))return Xi?Xi.call(e):y;var t=e+y;return"0"==t&&1/e==-ze?"-0":t}function f(e){return e==Ye?y:s(e)}function d(e,t,n){var r=f(e),o=n?p:t;return o===p?a(r)?u(r):i(r):r.match(o)||[]}function l(e,t,n,r){var i=-1,o=e?e.length:0;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function h(e){return Qr(function(t){return l(d(v(t).replace(Ki,y)),e,y)})}function v(e){return e=f(e),e&&e.replace(ci,Ji).replace(_i,y)}var p,m=window,g=m.document,y="",w=" ",b="-",A=".",x=",",k="/",E="_",T=":",C=E+E,S=k+k,M="px",O=0+M,D="id",N="display",I="destroy",R="before",L="change",j="changing",B=R+T,P=L+T,H=B+I,V=I+"ing",U="toString",q="toJSON",W="prototype",z="constructor",F="current",_="previous",G="exports",J="application",Q="name",X="type",Y="finished",Z="selector",K="element",ee="child",te="none",ne="hidden",re="target",ie="origin",oe="reset",ue="attributes",ae="parent",ce="length",se="object",fe="string",de="number",le="boolean",he="function",ve="index",pe=ve+"Of",me="window",ge="document",ye="stack",we="start",be="stop",Ae="class",xe=Ae+"Name",ke="top",Ee="left",Te="right",Ce="bottom",Se="width",Me=C+"elid"+C,Oe="height",De="item",Ne="innerHeight",Ie="innerWidth",Re="dispatchEvent",Le="http",je=Le+"s",Be=C+z+C,Pe="location",He="extend",Ve="style",Ue="body",qe=!0,We=!1,ze=1/0,$e=9007199254740991,Fe=1.7976931348623157e308,_e=4294967295,Ge=_e-1,ze=1/0,Je=32767,Qe=-Je-1,Xe=2147483647,_e=4294967295,Ye=null,Ze=Function,Ke=Array,et=String,tt=Number,nt=Object,rt=Ze[z],it="[object ",ot=(et[W],nt[W]),$e=(Ke[W],Ze[W],tt.MAX_VALUE,tt.MIN_VALUE,tt.MAX_SAFE_INTEGER),ut=(tt.MIN_SAFE_INTEGER,{}),at=nt.keys,ct=nt[W].toString,st=!{toString:Ye}.propertyIsEnumerable(U),ft=function(){},dt=function(e,t,n,r){if(!e)return-1;for(var i,o=n||e[ce],u=t+(r?0:-1),a=r?-1:1;(u+=a)<o;)if(i=e[u],i!==i)return u;return-1},lt=function(e,t,n,r,i){var o,u,a;if(!e)return-1;if(t!==t)return dt(e,n,r,i);for(o=(n||0)-1,u=r||e[ce],a=i?-1:1;(o+=a)<u;)if(e[o]===t)return o;return-1},ht=function(e,t,n,r,i){var o,u=n||0,a=r||e[ce]-1,c=Xe>=a?qe:We;if(t!==t)return dt(e,u,a,i);if(c)for(;a>=u;){if(o=u+a>>1,e[o]===t)return o;e[o]<t?u=o+1:a=o-1}else for(;a>=u;){if(o=(u+a)/2|0,e[o]===t)return o;e[o]<t?u=o+1:a=o-1}return-1},vt=function(e,t,n,r,i){return(n===qe&&e&&e[ce]>100?ht:lt)(e,t,n,r,i)},f=function(e){return e==Ye?y:e+y},pt=function(e){return(Ot(e)?JSON.stringify(e):Et(e)?e.toString():e)+y},mt=function(e,t,n,r){var i=sn(t||function(e,t){return e>t},r||e);return e.sort(function(e,t){var r=i(e,t);return xt(r)&&(r=ze),r===qe&&(r=1),r===We&&(r=-1),n?-1*r:r})},gt=function(e,t,n,r,i){var o=n||function(e,t){return e[t]};return mt(e,function(e,n){return o(e,t)>o(n,t)},r,i)},yt=function(e,t,n){var r=We;return n?-1!==lt(e,t):(e&&Et(e.hasOwnProperty)&&(r=e.hasOwnProperty(t)),r)},wt=function(e){return e&&e[Be]&&e[Be][z]||e[z]},bt=function(e,t){var n=t;return yt(n,z)&&(n=n[z]),e instanceof n},At=function(e,t){var n=t||function(){return qe};return function(t){return typeof t===e&&n(t)}},xt=function(e){return e!==e},kt=function(e){return e===e},Et=At(he),Tt=At(le),Ct=function(e){return Mt(e)&&e===Math.round(e)},St=At(fe),Mt=At(de,kt),Ot=At(se,function(e){return!!e}),Dt=function(e){return e===Ye},Nt=function(e){return e===p},It=function(e){return function(){return!e.apply(this,arguments)}},Rt=m.isFinite,Lt=function(e){return Mt(e)&&Rt(e)},jt=function(e){return!(!e||e!==e[me])},Bt=Ke.isArray,Pt=function(e){return!bn(e)[ce]},Ht=function(e){for(var t=0,n={},r=bn(e),i=r[ce];i>t;t++)n[e[r[t]]]=r[t];return n},Vt=function(e,t){var n=er[ce],r=e[z],i=Et(r)&&r[W]||ObjProto,o=z;for(yt(e,o)&&!contains(t,o)&&t.push(o);n--;)o=er[n],o in e&&e[o]!==i[o]&&!contains(t,o)&&t.push(o)},Ut=function(){return+new Date},qt=Ut(),Wt=function(){return Ut()-qt},zt=window.performance,$t=zt?(zt.now=zt.now||zt.webkitNow||zt.msNow||zt.oNow||zt.mozNow||Wt)&&zt:{now:Wt,offset:qt},Ft=function(){var e=We,t=arguments,n=t[ce],r=1,i=t[0];for(i===qe&&(e=qe,i=t[1],r=2),i=i||{};n>r;r++)Jt(i,t[r],e);return i},_t=function(e,t,n){return Et(e)?e.apply(t,n):e},Gt=function(e,t){return function(){var n=this,r=n[z].fn[e],i=Kn(arguments);return Ft(qe,_t(r,n,i),_t(t,n,i))}},Jt=function(e,t,n){for(var r,i,o=0,u=bn(t),a=u[ce];a>o;o++)r=u[o],t[r]!==p&&(i=t[r],n&&Ot(t[r])?(Ot(e[r])||(e[r]=Qn(t[r])),Jt(e[r],t[r],n)):e[r]=i);return e},Qt=function(e){var t=[];return ln(e,function(e){t.push(e)}),t},Xt=function(e){var t=[];return dn(e,function(e,n){dn(e,function(e,r){var i=t[r];t[r]||(i=t[r]=[]),i[n]=e})}),t},Yt=function(e,t){var n={};return t?dn(e,function(e,r){n[e]=t[r]}):dn(e,function(e,t){n[e[0]]=e[1]}),n},Ge=Math.pow(2,53)-1,Zt=function(e){var t=!!e&&e[ce];return Bt(e)||(jt(e)?We:Mt(t)&&!St(e)&&t>=0&&Ge>=t&&!Et(e))},Kt=function(e,t,n){var r=bn(e),i=sn(t,n);return{keys:r,handler:function(t,n,r){return i(e[t],t,e)}}},en=function(e){return function(t,n,r,i){var o,u=t,a=u,c=n,s=c,f=r,d=i;return u?(Zt(u)||(o=Kt(a,c,f),s=o.handler,a=o.keys,f=Ye),e(a,s,f,d)):u}},tn=function(e){return function(t,n,r,i){for(var o,u,a=Zt(t)?t:bn(t),c=a[ce],s=sn(n,r),f=i||(e>0?0:c-1);f>=0&&c>f;f+=e)if(o=f,t!==a&&(o=a[f]),u=t[o],s(u,o,t))return u}},nn=tn(1),rn=tn(-1),on=function(e){return-1!==e&&e===e&&e!==p&&e!==Ye&&e!==We&&e!==qe},un=nn,an=rn,cn=function(e,t){return arguments[ce]<3?sn(e,t):fn(e,Kn(arguments).slice(1))},sn=function(e,t){return t?e.bind(t):e},fn=function(e,t){return e.bind.apply(e,t)},dn=function(e,t,n,r){var i,o,u,a,c,s;if(e){if(c=0,a=e[ce],s=a%8,u=parseInt(a/8,10),0>r&&(c=a-1),i=r||1,o=sn(t,n),s>0)do o(e[c],c,e),c+=i;while(--s>0);if(u)do o(e[c],c,e),c+=i,o(e[c],c,e),c+=i,o(e[c],c,e),c+=i,o(e[c],c,e),c+=i,o(e[c],c,e),c+=i,o(e[c],c,e),c+=i,o(e[c],c,e),c+=i,o(e[c],c,e),c+=i;while(--u>0);return e}},ln=en(dn),hn=function(e){return function(t,n,r){return e(t,n,arguments[ce]<3?Ye:r,-1)}},vn=hn(dn),pn=hn(ln),mn=function(e){var t,n=e+y;return n=n.trim(),n===We+y&&(t=We),n===qe+y&&(t=qe),t===p&&(t=e),t},gn=function(e){return parseFloat(e)||0},yn=function(e){return parseInt(e,10)||0},wn=function(e){var t,n=[];for(t in e)n.push(t);return st&&Vt(e,n),n},bn=function(e){var t,n=[];if(!e||!Ot(e)&&!Et(e))return n;if(at)return at(e);for(t in e)yt(e,t)&&n.push(t);return st&&Vt(e,n),n},An=function(e,t){var n,r,i,o,u,a=this,c=St(e);if(e===We)return Ft(a[W],t),a;c||(t=e),o=yt(t,z),t&&o&&(r=t[z]),c?(i=a,r&&(i=r),r=new rt("parent","return function "+e+"(){return parent.apply(this,arguments);}")(i)):r=r||new rt("parent","return "+a.toString())(a),r[He]=An;var s=function(){this[z]=r};return s[W]=a[W],r[W]=new s,t&&Ft(r[W],t),n=z+T+e,c&&(r[W][n]?Hr(z+"s with names cannot extend constructors with the same name"):r[W][n]=r),u=r,r=xn(u,a),u[W][Be]=r,r},xn=function(e,t){var n=function(t,n,r,i,o,u){return t instanceof e?t:new e(t,n,r,i,o,u)};return n.isInstance=e.isInstance=function(t){return bt(t,e)},n.fn=e.fn=e[W].fn=e[W],n[z]=e,n[He]=e[He]=cn(An,e),t&&(n["super"]=e["super"]=e[W]["super"]=t),n},kn=function(e){var t=qe;return function(){return t?(t=We,e.apply(this,arguments)):void 0}},En=function(e,t,n,r){var i,o,u,a,c,s,f;if(e===t)return 0!==e||1/e===1/t;if(e===Ye||e===p||t===p||t===Ye)return e===t;if(i=ct.call(e),i!==ct.call(t))return We;switch(i){case it+"RegExp]":case it+"String]":return y+e===y+t;case it+"Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case it+"Date]":case it+"Boolean]":return+e===+t}if(o=i===it+"Array]",!o){if(!Ot(e)||!Ot(t))return We;if(u=e[z],a=t[z],u!==a&&!(Et(u)&&u instanceof u&&Et(a)&&a instanceof a)&&z in e&&z in t)return We}for(c=n[ce];c--;)if(n[c]===e)return r[c]===t;if(n.push(e),r.push(t),o){if(c=e[ce],c!==t[ce])return We;for(;c--;)if(!En(e[c],t[c],n,r))return We}else{if(s=bn(e),c=s[ce],bn(t)[ce]!==c)return We;for(;c--;)if(f=s[c],!yt(t,f)||!En(e[f],t[f],n,r))return We}return n.pop(),r.pop(),qe},Tn=function(e,t){return En(e,t,[],[])},Cn=function(e){return Xn(e,function(e){return e})},Sn=function(e){return Fn(pt(e))},Mn=function(e,t,n){var r={},i=Bt(e),o=Et(t);return ln(e,function(u,a){i?!o||n?r[u]=t:r[u]=t(u,a):r[a]=t(e[a],a)}),r},On=function(e){return Ft(Jr,e)},Dn=function(e){return function(t){return e(t)}},Nn={first:Dn},In=function(){var e=[];return e.concat.apply(e,Xn(arguments,Dn(Kn)))},Rn=function(){return Nr(arguments,function(e,t){return dn(t,function(t){-1===lt(e,t)&&e.push(t)}),e},[])},Ln=function(e,t){var n=e[ce],r=t%n,i=e.splice(r);return e.unshift.apply(e,i),e},jn=function(e,t){var n=e[ce],r=t%n,i=e.splice(0,n-r);return e.push.apply(e,i),e},Bn=function(e,t){var n=bn(t),r=Object(e);return!un(n,function(e){return t[e]===r[e]&&e in r?void 0:qe})},Pn=function(e){return function(t){return Bn(t,e)}},Hn=function(e,t,n){var r=Zt(e),i=sn(t,n),o=0;return Nr(e,function(e,t,n,u){return o++,i(t,n,u)&&(r?e.push(t):e[n]=t),e},r?[]:{})},Vn=function(e){return Nr(e,function(e,t){-1===lt(e,t)&&e.push(t)},[])},Un=function(e,t){return Hn(e,Pn(t))},qn=function(e,t){return un(e,Pn(t))},Wn=function(e,t){return an(e,Pn(t))},zn=function(e,t){return Hn(e,It(Pn(t)))},$n={"true":qe,"false":We,"null":Ye,undefined:p},Fn=function(e){var t,n,r,i=e;return St(i)?(i=t=i.trim(),(n=i[ce])?("{"===i[0]&&"}"===i[n-1]||"["===i[0]&&"]"===i[n-1])&&(i=Vr(function(){return JSON.parse(i)},function(){return i}))!==t?i:(r=+i,xt(r)?yt($n,i)?$n[i]:"function"===i.slice(0,8)?new rt("return "+i)():i:r):i):i},_n=function(e){var t=e.toString(),n=t.split("{");return t=n.shift(),(t=n.join("{")).slice(0,t[ce]-1)},Gn=function(e,t){return"with("+(t||"this")+"){\n"+e+"\n}"},Jn=function(e,t,n){var r=t;Et(t)&&(r=_n(t));var i=new rt("string",Gn('	eval("(function (){"+string+"}());");'));i.call(e,'"use strict";\n'+r)},Qn=function(e){return!Ot(e)||Zt(e)?[]:{}},Xn=function(e,t,n){var r=Qn(e),i=sn(t,n);return e?ln(e,function(t,n){r[n]=i(t,n,e)})&&r:r},Yn=function(e){return 1===e[ce]?[e[0]]:Ke.apply(Ye,e)},Zn=function(e){return e?Nr(e,function(e,t){e.push(t)},[]):[]},Kn=function(e,t){return Zt(e)?Bt(e)?e.slice(0):Yn(e):St(e)?e.split(St(t)?t:x):[e]},er=Kn("valueOf,isPrototypeOf,"+U+",propertyIsEnumerable,hasOwnProperty,toLocaleString"),tr=function(e,t,n){var r=Nr(e,function(e,t){var r;return Zt(t)?(r=n?tr(t,We,n):t,e.concat(r)):(e.push(t),e)},[]);return t&&dn(r,t),r},nr=function(e,t,n){return tr(Zt(e)?e:Zn(e),t,!!n)},rr=function(e,t){var n=[];return n.concat.apply(n,Xn(e,t))},ir=function(e,t,n){return e===e&&(n!==p&&(e=n>=e?e:n),t!==p&&(e=e>=t?e:t)),e},or=function(e){return ir(e,-$e,$e)},ur=function(e){return Fe>e&&e>-Fe},ar=function(e){var t=e%1;return e===e?t?e-t:e:0},cr=function(e){if(!e)return 0===e?e:0;if(e=toNumber(e),e===ze||e===-ze){var t=0>e?-1:1;return t*Fe}return e===e?e:0},sr=function(e){var t=cr(e),n=t%1;return t===t?n?t-n:t:0},sr=function(e,t){var n;return ar((n=+e)==e?t?n:or(n):0)},fr=function(e){return Mt(e)&&ur(e)},dr=function(e,t,n){var r;return function(){var i=this,o=arguments,u=n&&!r,a=function(){r=Ye,n||e.apply(i,o)};return clearTimeout(r),r=setTimeout(a,t),u&&e.apply(i,o),r}},lr=function(e,t,n){var r,i;return t||(t=250),function(){var o=n||this,u=Ut(),a=arguments;r&&r+t>u?(clearTimeout(i),i=setTimeout(function(){r=u,e.apply(o,a)},t)):(r=u,e.apply(o,a))}},hr=function(e,t,n){var r;return function(){var t=n||this,i=Kn(arguments);return clearTimeout(r),r=setTimeout(function(){e.apply(t,i)})}},vr=function(e){var t=e.url,n=[];return Ot(e)?(ln(e.query,function(e,t){e!==p&&(e=encodeURIComponent(pt(e)),n.push(t+"="+e))}),n[ce]&&(t+="?"),t+=n.join("&"),e.hash&&(e.hash=Ot(e.hash)?encodeURI(pt(e.hash)):hash,t+="#"+e.hash)):t=e,t},pr=function(e,t,n){var r,i,o=wt(e);n=n||1;do i=o[W],r=i[t],o=wt(i);while(--n>0&&o&&Lt(n));return r},mr=function(){var e="crypto"in m&&"getRandomValues"in crypto,t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){var n,r,i;return e&&(n=m.crypto.getRandomValues(new Uint32Array(1)),n===p&&(e=We)),e||(n=[Math.floor(1e10*Math.random())]),n=n[0],r=n%16,i="x"===t?r:3&r|8,i.toString(16)});return e?t:"SF"+t},gr=function(e){return function(t,n){var r=this;return wr(t,n,e,r),r}},yr=function(e,t,n,r){var i,o=Ot(e),u=cn(n,r);return o&&(i=bn(e)),function(n,r,a,c,s,f){o?dn(i,function(t){u(t,e[t],n,r,a,c,s,f)}):u(e,t,n,r,a,c,s,f)}},wr=function(e,t,n,r){var i,o=r?cn(n,r):n;Bt(e)?dn(e,function(e){o(e,t)}):(i=Ot(e)?e:We)?ln(i,br(o)):o(e,t)},br=function(e){return function(t,n,r){return e(n,t,r)}},Ar=function(e,t,n){var r;return Mt(t)||(t=1),r=Math.pow(n||10,t),parseInt(r*e,10)/r},xr=function(e,t,n){return e==Ye?e:Et(e[t])?e[t](n):Ot(e)?e[t]:e},kr=function(e,t,n){return dn(e,function(e){e[t](n)})},Er=function(e,t){return dn(e,function(e){e(t)})},Tr=function(e,t,n,r,i){return dn(e,function(e){Vr(function(){e[t](n)},r,i)})},Cr=function(e,t,n){return Xn(e,function(e){return xr(e,t,n)})},Sr=function(e,t,n){return dn(e,function(e){xr(e,t,n)},Ye,-1)},Mr=Math,Or=function(e){return function(t){return Mr[e].apply(Mr,t)}},Dr=function(e){var t=function(t,n,r,i,o,u){for(var a,c;o>=0&&u>o;o+=e)c=i?i[o]:o,a=n(r,t[c],c,t),a!==p&&(r=a);return r};return function(n,r,i,o){var u=!Zt(n)&&bn(n),a=(u||n)[ce],c=e>0?0:a-1;return arguments[ce]<3&&(i=n[u?u[c]:c],c+=e),t(n,r,i,u,c,a)}},Nr=Dr(1),Ir=Dr(-1),Rr=function(e,t){return Nr(e,function(n,r,i){return t(r,i,e)&&n.push(r),n},[])},Lr=m.console||{},jr=Lr.log||ft,Br=function(e){return Ft(Mn(Kn("trace,warn,log,dir,error,clear,table,profile,profileEnd,time,timeEnd,timeStamp"),function(t){var n=Lr[t]||jr;return function(){n&&n.apply&&n.apply(Lr,arguments);"trace"!==t&&"error"!==t&&Lr.trace&&e&&Lr.trace()}}),{exception:function(e){throw new Error(e)},assert:function(e,t){e||Hr(t)}})},Pr=Br(),Hr=Pr.exception,Vr=function(t,n,r){var i,o=Ye;try{i=t()}catch(u){o=u,e.logWrappedErrors&&Pr.error(u),i=n?n(u,i):i}finally{i=r?r(o,i):i}return i},Ur=function(e,t){return t===p?!e:!!t},qr=function(e){return function(){return e}},Wr=qr["true"]=qr(qe),zr=qr["false"]=qr(We),$r=qr.array=function(){return[]},Fr=qr.object=function(){return{}},_r=(qr.first=function(e){return e},function(e,t){return function(){return t.call(this,e.apply(this,arguments))}}),Gr={number:Mt,string:St,object:Ot,nan:xt,"int":Ct,array:Bt,"function":Et,"boolean":Tt,"null":Dt,length:fr,validInteger:ur,arrayLike:Zt,instance:bt},Jr=e._={is:Gr,consolemaker:Br,blockWrapper:Gn,unwrapBlock:_n,passes:Nn,performance:$t,constructorWrapper:xn,stringifyQuery:vr,intendedApi:gr,intendedObject:wr,intendedIteration:yr,parseDecimal:gn,flatten:nr,gather:rr,isInt:Ct,reverseParams:br,isArrayLike:Zt,isInstance:bt,hasEnumBug:st,roundFloat:Ar,factories:ut,cloneJSON:Sn,toBoolean:mn,stringify:pt,values:Qt,zip:Xt,object:Yt,wraptry:Vr,toString:f,throttle:lr,debounce:dr,defer:hr,protoProperty:pr,protoProp:pr,sortedIndexOf:ht,indexOfNaN:dt,toInteger:sr,indexOf:lt,toArray:Kn,isEqual:Tn,isArray:Bt,isEmpty:Pt,returns:qr,isBoolean:Tt,invert:Ht,extend:Ft,superExtend:Gt,noop:ft,toggle:Ur,reduce:Nr,foldl:Nr,foldr:Ir,now:Ut,some:Rr,map:Xn,result:xr,isUndefined:Nt,isFunction:Et,isObject:Ot,isNumber:Mt,isFinite:Lt,isString:St,isNull:Dt,isNaN:xt,notNaN:kt,eachProxy:en,publicize:On,allKeys:wn,evaluate:Jn,parse:Fn,merge:Jt,clone:Cn,bind:cn,bindTo:sn,bindWith:fn,duff:dn,duffRight:vn,eachRight:pn,iterates:Kt,sort:mt,sortBy:gt,wrap:Mn,uuid:mr,keys:bn,once:kn,each:ln,flows:_r,unique:Vn,baseClamp:ir,has:yt,negate:It,pI:yn,createPredicateIndexFinder:tn,findIndex:nn,findLastIndex:rn,validKey:on,find:un,findLast:an,console:Pr,min:Or("min"),max:Or("max"),arrayLikeToArray:Yn,objectToArray:Zn,BIG_INTEGER:Je,NEGATIVE_BIG_INTEGER:Qe,math:Mn(Kn("E,LN2,LN10,LOG2E,LOG10E,PI,SQRT1_2,SQRT2,abs,acos,acosh,asin,asinh,atan,atan2,atanh,cbrt,ceil,clz32,cos,cosh,exp,expm1,floor,fround,hypot,imul,log,log1p,log2,log10,pow,random,round,sign,sin,sinh,sqrt,tan,tanh,trunc"),function(e){return Math[e]})};e.logWrappedErrors=qe,ut.Extendable=xn(r,nt),e.shims=function(e){var t=function(){function e(e){return 10>e?"0"+e:e}function t(e){return s.lastIndex=0,s.test(e)?'"'+e.replace(s,function(e){var t=f[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function n(e,r){var c,s,f,d,l,h=o,v=r[e];switch(v&&"object"==typeof v&&"function"==typeof v.toJSON&&(v=v.toJSON(e)),"function"==typeof a&&(v=a.call(r,e,v)),typeof v){case"string":return t(v);case"number":return Lt(v)?String(v):"null";case"boolean":case"null":return String(v);case"object":if(!v)return"null";if(o+=u,l=[],"[object Array]"===Object[W].toString.apply(v)){for(d=v[i],c=0;d>c;c+=1)l[c]=n(c,v)||"null";return f=0===l[i]?"[]":o?"[\n"+o+l.join(",\n"+o)+"\n"+h+"]":"["+l.join(",")+"]",o=h,f}if(a&&"object"==typeof a)for(d=a[i],c=0;d>c;c+=1)"string"==typeof a[c]&&(s=a[c],f=n(s,v),f&&l.push(t(s)+(o?": ":":")+f));else for(s in v)Object[W].hasOwnProperty.call(v,s)&&(f=n(s,v),f&&l.push(t(s)+(o?": ":":")+f));return f=0===l[i]?"{}":o?"{\n"+o+l.join(",\n"+o)+"\n"+h+"}":"{"+l.join(",")+"}",o=h,f}}var r=this,i="length";if(r.performance=r.performance||{},r.performance.now=function(){var e=r.performance;return e.now||e.mozNow||e.msNow||e.oNow||e.webkitNow||function(){return(new Date).getTime()}}(),!JSON){"function"!=typeof Date[W].toJSON&&(Date[W].toJSON=function(t){return Lt(this.valueOf())?this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"Z":null},String[W].toJSON=Number[W].toJSON=Boolean[W].toJSON=function(e){return this.valueOf()});var o,u,a,c=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,f={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};"function"!=typeof JSON.stringify&&(JSON.stringify=function(e,t,r){var c;if(o="",u="","number"==typeof r)for(c=0;r>c;c+=1)u+=" ";else"string"==typeof r&&(u=r);if(a=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t[i]))throw new Error("JSON.stringify");return n("",{"":e})}),"function"!=typeof JSON.parse&&(JSON.parse=function(e,t){function n(e,r){var i,o,u=e[r];if(u&&"object"==typeof u)for(i in u)Object[W].hasOwnProperty.call(u,i)&&(o=n(u,i),void 0!==o?u[i]=o:delete u[i]);return t.call(e,r,u)}var r;if(e=String(e),c.lastIndex=0,c.test(e)&&(e=e.replace(c,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return r=Function[W].constructor("("+e+")"),"function"==typeof t?n({"":r},""):r;throw new SyntaxError("JSON.parse")})}Function[W].bind||(Function[W].bind=function(e){if("function"!=typeof this)throw new TypeError("Function[PROTOTYPE].bind - what is trying to be bound is not callable");var t=Array[W].slice.call(arguments,1),n=this,r=function(){},i=function(){return n.apply(this instanceof r?this:e,t.concat(Array[W].slice.call(arguments)))};return this[W]&&(r[W]=this[W]),i[W]=new r,i}),r.matchMedia=r.matchMedia||function(){var e=r.styleMedia||r.media;if(!e){var t=document.createElement("style"),n=document.getElementsByTagName("script")[0],i=null;t.type="text/css",t.id="matchmediajs-test",n.parentNode.insertBefore(t,n),i="getComputedStyle"in r&&r.getComputedStyle(t,null)||t.currentStyle,e={matchMedium:function(e){var n="@media "+e+"{ #matchmediajs-test { width: 1px; } }";return t.styleSheet?t.styleSheet.cssText=n:t.textContent=n,"1px"===i.width}}}return function(t){return t=t||"all",{matches:e.matchMedium(t),media:t}}}()};t.call(e)},e.shims(m);var Qr=function(e){var t={};return function(n){return yt(t,n)||(t[n]=e(n)),t[n]}},Xr=function(e,t){var n={};return function(r,i){var o;return i=i||t,(o=n[i]=n[i]||Qr(e(i)))(r)}},Yr=Jr.extend(Mn(Kn("toLowerCase,toUpperCase,trim"),function(e){return Qr(function(t){return t[e]()})}),Mn(Kn("match,search"),function(e){return Xr(function(t){return function(n){return n[e](t)}})})),Zr=function(e){return function(){var t=Kn(arguments),n=this;return Xn(t[0],function(r){return t[0]=r,e.apply(n,t)})}},Kr=function(e,t,n){var r=e.slice(t[ce]),i=r[0];return n&&(i=r[0].toLowerCase()),r=i+r.slice(1)},ei=Zr(Kr),ti=function(e,t,n,r){var i=t+e;return n!==p&&(i=t+(r||b)+e,i=n?ro(i,r):no(i,r)),i},ni=Zr(ti),ri=function(){var e={};return function(t){var n=e[t];return n||(e[t]=n=new Function[z]("return "+t)),n()}}(),ii=/&(?:amp|lt|gt|quot|#39|#96);/g,oi=/[&<>"'`]/g,ui=(RegExp(ii.source),RegExp(oi.source),/[\\^$.*+?()[\]{}|]/g),ai=(RegExp(ui.source),/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g),ci=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,si="\\ud800-\\udfff",fi="\\u0300-\\u036f\\ufe20-\\ufe23",di="\\u20d0-\\u20f0",li="\\u2700-\\u27bf",hi="a-z\\xdf-\\xf6\\xf8-\\xff",vi="\\xac\\xb1\\xd7\\xf7",pi="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",mi="\\u2000-\\u206f",gi=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",yi="A-Z\\xc0-\\xd6\\xd8-\\xde",wi="\\ufe0e\\ufe0f",bi=vi+pi+mi+gi,Ai="['’]",xi="["+si+"]",ki="["+bi+"]",Ei="["+fi+di+"]",Ti="\\d+",Ci="["+li+"]",Si="["+hi+"]",Mi="[^"+si+bi+Ti+li+hi+yi+"]",Oi="\\ud83c[\\udffb-\\udfff]",Di="(?:"+Ei+"|"+Oi+")",Ni="[^"+si+"]",Ii="(?:\\ud83c[\\udde6-\\uddff]){2}",Ri="[\\ud800-\\udbff][\\udc00-\\udfff]",Li="["+yi+"]",ji="\\u200d",Bi="(?:"+Si+"|"+Mi+")",Pi="(?:"+Li+"|"+Mi+")",Hi="(?:"+Ai+"(?:d|ll|m|re|s|t|ve))?",Vi="(?:"+Ai+"(?:D|LL|M|RE|S|T|VE))?",Ui=Di+"?",qi="["+wi+"]?",Wi="(?:"+ji+"(?:"+[Ni,Ii,Ri].join("|")+")"+qi+Ui+")*",zi=qi+Ui+Wi,$i="(?:"+[Ci,Ii,Ri].join("|")+")"+zi,Fi=("(?:"+[Ni+Ei+"?",Ei,Ii,Ri,xi].join("|")+")",RegExp([Li+"?"+Si+"+"+Hi+"(?="+[ki,Li,"$"].join("|")+")",Pi+"+"+Vi+"(?="+[ki,Li+Bi,"$"].join("|")+")",Li+"?"+Bi+"+"+Hi,Li+"+"+Vi,Ti,$i].join("|"),"g")),_i=RegExp(Ei,"g"),Gi={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"ss"},Ji=o(Gi),Qi=Symbol?Symbol.prototype:p,Xi=(Qi?Qi.valueOf:p,Qi?Qi.toString:p),ct=ot.toString,Yi="[object Symbol]",Zi=At("symbol"),Ki=RegExp(Ai,"g"),eo=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,to=Qr(function(e){return e[0].toUpperCase()+e.slice(1)}),no=h(function(e,t,n){return e+(n?b:y)+t.toLowerCase()}),ro=h(function(e,t,n){return t=t.toLowerCase(),e+(n?to(t):t)}),io=h(function(e,t,n){return e+(n?w:y)+t.toLowerCase()}),oo=h(function(e,t,n){return e+(n?"_":y)+t.toLowerCase()}),uo=h(function(e,t,n){return e+(n?w:y)+upperFirst(t)}),ao=h(function(e,t,n){return e+(n?w:y)+t.toUpperCase()}),co=Xr(function(e){var t={},n={},r=[],i=Kn(e);i.sort(function(e,i){var o=e[ce],u=i[ce],a=Jr.max([-1,Jr.min([1,o-u])]);return n[e]=n[i]=qe,t[o]||(t[o]=qe,r.push(o)),t[u]||(t[u]=qe,r.push(u)),-1*(0===a?e>i?-1:1:a)});return r.sort(function(e,t){return-1*Jr.max([-1,Jr.min([1,e-t])])}),function(e){for(var t,i=0,o=(e+y).trim(),u=o[ce];r[i];){if(r[i]<u&&(t=o.substr(u-r[i],u),n[t]))return t;i++}return We}}),so=Kn("px,em,rem,ex,in,cm,%,vh,vw,pc,pt,mm,vmax,vmin"),fo=function(e){return co(e,so)},lo=Qr(function(e){var t=!1,n=e.split(S)[ce];return(0===e.indexOf(Le)&&n>=2||0===e.indexOf(S)&&2===n)&&(t=!0),t}),ho=(Qr(function(e){var t=!1,n=str.split(S);n[ce],n.shift();return t}),Qr(function(e){var t=y,n=lt(e,"#")+1;return n&&(t=e.slice(n)),t})),vo=function(e,t){var n=ho(e);return t?n:Fn(n)},po=function(e,t,n){return e[n||0]===t},mo=po,go=function(e){var t,n,r,i,o,u=0,a=m.decodeURIComponent;for(e||(e=m[Pe].search),r=e.slice(1).split("&"),t={};u<r[ce];u++)n=r[u].split("="),n[0]&&(n[ce]<2&&n[PUSH](y),i=n[1],i=a(i),"'"!==i[0]&&'"'!==i[0]||(i=i.slice(1,i[ce]-1)),i===qe+y&&(i=qe),i===We+y&&(i=We),St(i)&&(o=+i,o==i&&o+y===i&&(i=o)),t[a(n[0])]=i);return t},yo=function(e){return e.toString=function(){return e.href},e.replace=function(t){var n=xo(t);return n.previous=e,n},e},wo=Qr(function(e){var t;return e?(St(e)||(e=e.referrer),St(e)&&(e+=k,t=e.match(/^https?:\/\/.*?\//im),t&&(t=t[0].slice(0,t[0][ce]-1))),t||y):y}),bo=[Le,je].concat(Kn("file,about,javascript,ws,tel")),Ao={"http:":qe,"https:":qe},xo=function(e,t,n){var r,i,o,u,a,c,s,f=n||window,d=e||y,l=y,h=y,v=y,p=y,m=y,g=y,w=lt(d,"?")+1,b={},x=bo[ce],E=d.split(T),C=f.location.protocol,S=E[ce]-1&&(a=E.shift()),M=(S&&un(bo,function(e){return e===a})||C.slice(0,C[ce]-1))+T;if(w?(l=d.slice(w-1),h=ho(l)):h=ho(d),w&&(l=l.split(h).join(y),b=go(l),d=d.slice(0,w-1)),d[0]===k&&d[1]===k)M=f.location.protocol;else{for(;x--&&!M;)d.slice(0,bo[x][ce])===bo[x]&&(M=bo[x]);M||(M=Le)}if(E=d.split(T),E[ce]-1){for(a=E.shift(),s=E.join(T).split(k);!v;)v=s.shift();u=v.split(T),g=u.shift(),m=u[ce]?u[0]:y,r=E.shift(),d=E.join(T).slice(v[ce])}else v=f.location.host,m=f.location.port,g=f.location.hostname;return c=f.location.pathname.slice(1),d[0]===k&&d[1]!==k&&(d=d.slice(1),c=y),d[0]===A&&(d=d.slice(2)),p=k+c+d,o=M+(Ao[M]?k+k:y)+g+(m?T+m:y),i=o+p+(l||y)+(h||y),yo({passed:e,port:m,hostname:g,pathname:p,search:l.slice(1),host:v,hash:h.slice(1),href:i,protocol:M.slice(0,M[ce]),origin:o,searchObject:b})},ko=60,Eo=7,To=30,Co=24,So=1e3,Mo=365,Oo=So*ko,Do=Oo*ko,No=Do*Co,Io=Do*Eo,Ro=Do*To,Lo=No*Mo,jo={ms:1,secs:So,s:So,mins:Oo,hrs:Do,days:No,wks:Io,mnths:Ro,yrs:Lo},Bo=[],Po=Nr(jo,function(e,t,n){return Bo.push(n),e[n]=function(e){return e*t},e},{}),Ho=Kn("sunday,monday,tuesday,wednesday,thursday,friday,saturday"),Vo=Kn("january,feburary,march,april,may,june,july,august,september,october,november,december"),Uo=Mn(Vo,qe),qo=Mn(Vo,function(e,t){return t}),Wo=Qr(function(e){var t=0;return dn(Kn(e+y),function(e){var n=e,r=co(n,Bo),i=+n.split(r||y).join(y),o=Po[r];i===i&&(o&&(i=o(i)),t+=i)}),t}),zo={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},$o=Ht(zo),Fo=function(e){var t=function(t){return e[t]},n="(?:"+bn(e).join("|")+")",r=RegExp(n),i=RegExp(n,"g");return function(e){return e=e==Ye?y:y+e,r.test(e)?e.replace(i,t):e}},_o=Fo(zo),Go=Fo($o);Jr.publicize({escape:_o,unescape:Go,monthIndex:qo,monthHash:Uo,months:Vo,weekdays:Ho,customUnits:co,cacheable:Qr,categoricallyCacheable:Xr,deprefix:Kr,deprefixAll:ei,prefix:ti,prefixAll:ni,capitalize:to,spinalCase:no,kebabCase:no,camelCase:ro,snakeCase:oo,lowerCase:io,startCase:uo,upperCase:ao,reference:wo,string:Yr,units:fo,baseUnitList:so,isHttp:lo,parseHash:vo,parseUrl:xo,parseSearch:go,parseObject:ri,time:Wo,startsWith:mo,itemIs:po});var Jo="Status",Qo="statuses",Xo={creation:{},destruction:{}},Yo=qr(Ye),Fr=function(){return{}},Zo=function(e,t,n){return n},Ko=function(e,t){return function(n,r,i){return this.directive(e)[t](n,r,i)}},eu=function(e,t){return function(n){var r=this,i=r.directive(e);return dn(n,i[t],i),r}},tu=function(e,t,n){var r=Et(n);return function(i,o,u,a,c,s){var f=this;return f[e]?f[e][t](i,o,u,a,c,s):r?n(f):n}},nu=function(e,t,n){var r;!St(e)&&Hr("directives must be registered with a string for a name")||!Et(t)&&Hr("directives must be registered with at least a create function");return Xo.creation[e]=(r=Xo.creation[e])||t,Xo.destruction[e]=Xo.destruction[e]||n,Xo.creation[e]},ru=function(t,n,r,i){var o=i||Zo,u=r||Zo;Xo.creation[t]||Hr("directives must exist before they can be extended");return e.defineDirective(n,function(e,n,r){var i=new Xo.creation[t](e,n,r);return new u(e,n,i)},function(e,n,r){var i=Xo.destruction[t](e,n,r);return o(e,n,i)})},iu=function(e){var t,n,r=this;return(n=r[e])?n:(t=r["directive:creation:"+e]||Xo.creation[e]||Fr,r[e]=new t(r,e),r[e])},ou=(ut.Directive=ut.Extendable.extend("Directive",{mark:Ko(Jo,"mark"),unmark:Ko(Jo,"unmark"),remark:Ko(Jo,"remark"),is:tu(Jo,"is",We),directive:iu,directiveDestruction:function(e){var t=(Xo.destruction[e]||Yo)(this[e],this,e);return delete this[e],t}}),ut.Status=ut.Directive.extend(Jo,{constructor:function(){return this[Qo]={},this},has:function(e){return this[Qo][e]!==p},mark:function(e){var t=this[Qo][e];return this[Qo][e]=qe,t!==qe},unmark:function(e){var t=this[Qo][e];return this[Qo][e]=We,t!==We},remark:function(e,t){var n=this,r=n[Qo][e],i=n[Qo][e]=t===p?!n[Qo][e]:!!t;return r!==i},is:function(e){return!!this[Qo][e]},isNot:function(e){return!this[Qo][e]},toJSON:function(){return this[Qo]}}));nu(Jo,ou[z]),e.defineDirective=nu,e.extendDirective=ru,Jr.publicize({directives:{parody:Ko,checkParody:tu,iterate:eu,create:iu,all:Xo}});var uu="Collection",au="reversed",cu="Registry",su="delimited",fu="StringManager",du="Sorted"+uu;e.scope(function(e){var t="object must not be null or "+p,n="objects in sorted collections must have either a number or string for their valueOf result",r="list cannot be modified while it is being iterated over",i=function(e){return function(e,t,n,r,i){var u=0;return dn(t,function(t){u+=o(e,t,n,r,i)}),u===e[ce]}},o=function(e,t,n,r,i){var o=lt(e,t,n,r,i);return o+1&&a(e,o),o+=1,!!o},u=i(o),a=function(e,t){return e.splice(t,1)[0]},c=function(e,t,n,r,i){var o=0,u=lt(e,t,n,r,i);return-1===u&&(o=e.push(t)),!!o},s=i(c),f=function(e,t,n){var r=e[ce];return e.splice(n||0,0,t),r!==e[ce]},d=function(e,t,n){var r=n||ft,i=[],o=t||0,u=Mt(o),a=Zt(o);return 0>o&&(u=!1),e[ce]?(u?(i=[e[o]],r(i[0])):a?dn(o,function(t){var n=e[t];i.push(n),r(n)}):(i=[e[0]],r(i[0])),i):i},l=function(e,t,n,r){var i,o,u;for(t==Ye&&(t=e||0,e=0),Lt(e)&&Mt(e)||(e=0),n=+n||1,i=Math.max(Math.ceil((t-e)/n),0)+(+r||0),o=[],u=0;i>u;)o[u]=e,u++,e+=n;return o},h=function(e,t,n,r,i){var o,u,a,c;if(r>=i||!Mt(r)||!Mt(i)||!Lt(r)||!Lt(i))return e;for(c=n||this,o=sn(t,c),i=Math.abs(i),a=r;i>a;)u=Ye,e[ce]>a&&(u=e[a]),o(u,a,e),a++;return e},v=function(e,t,n,r){return h(e,t,n,0,r)},m=function(e,t,n,r){return h(e,t,n,r,e[ce])},g=function(e,t,n,r){for(var i,o,u,a=n||0,c=r||e[ce]-1;c>=a;)if(i=(a+c)/2|0,o=e[i],t>o)a=i+1;else{if(!(o>t))return i;c=i-1}return u=~~c},b=function(e,t){return function(){return new this[Be](e.apply(t||this,arguments))}},A=ut[cu]=ut.Directive.extend(cu,{constructor:function(){return this.reset(),this},get:function(e,t){var n=this.register[e];return n&&n[t]},keep:function(e,t,n){var r=this.register,i=r[e]=r[e]||{};return n===p?delete i[t]:i[t]=n,this},ungroup:function(e){return this.group(e,{})},group:function(e,t){var n=this.register;return n[e]=t||n[e]||{},n[e]},swap:function(e,t,n){var r=this.get(e,t);return this.keep(e,t,n),r},drop:function(e,t){return this.swap(e,t)},reset:function(e,t){var n=this.register;return this.register=e||{},n}}),x=Kn("eq,where,whereNot,map,results,filter,cycle,uncycle,flatten,gather,unique"),k={each:dn,duff:dn,forEach:dn,eachCall:kr,eachCallTry:Tr,eachRight:vn,
duffRight:vn,forEachRight:vn,eachCallRight:Sr},E=(bn(k),Kn("add")),C=Kn("insertAt,remove,removeAt"),S=Kn("pop,shift,splice"),M=Kn("reverse"),O=Kn("push,unshift"),N=Kn("join"),I=Kn("count,countTo,countFrom,merge"),R=Kn("foldr,foldl,reduce"),L=Kn("find,findLast,findWhere,findLastWhere"),j=Kn("indexOf"),B=R.concat(L),P=function(e){return function(t,n,r,i,o,u){var a,c=this;return++c.iterating,a=e(c,t,n,r,i,o,u),--c.iterating,a}},H=Ft({seeker:function(e,t){var n=this,r=sn(e,t);return vn(n.toArray(),function(e,t,i){r(e,t,i)&&n.removeAt(t)})},slice:function(e,t){return new $(this.toArray().slice(e,t))}},Mn(N,function(e){return function(t){return this.toArray()[e](t)}}),Mn(j.concat(E),function(e){return function(t,n,r,i,o){var u=this;return Jr[e](u.toArray(),t,n,r,i,o)}}),Mn(O,function(e){return function(t){var n=Bt(t)?t:arguments,r=this.toArray();return r[e].apply(r,n)}}),Mn(S,function(e){return function(t,n,i,o,u,a){var c=this;return c.iterating?Hr(r):c.toArray()[e](t,n,i,o,u,a)}}),Mn(C,function(e){return function(t,n,i,o,u){var a=this;return a.iterating?Hr(r):Jr[e](a.toArray(),t,n,i,o,u)}}),Mn(M,function(e){return function(){var t=this;return t.remark(au,!t.is(au)),t.toArray()[e](),t}}),Mn(k,function(e){return P(function(t,n,r){var i=t.toArray(),o=n,u=arguments[ce]>1?r:t;return e(i,o,u),t})}),Mn(I,function(e){return P(function(t,n,r,i){return Jr[e](t.toArray(),n,t,r,i),t})}),Mn(x,function(e){return P(function(t,n,r,i){return new $[z](Jr[e](t.toArray(),n,r,i))})}),Mn(B,function(e){return P(function(t,n,r,i){return Jr[e](t.toArray(),n,r,i)})})),V=Jr.publicize({eachCall:kr,eachCallRight:Sr,filter:Hn,matches:Pn,results:Cr,add:c,removeAll:u,addAll:s,insertAt:f,removeAt:a,remove:o,cycle:Ln,uncycle:jn,concat:In,where:Un,findWhere:qn,findLastWhere:Wn,range:l,count:h,countTo:v,countFrom:m,whereNot:zn,eachRight:pn,duffRight:vn,flatten:nr,eq:d}),U=function(){return this.items},$=ut[uu]=ut.Directive.extend(uu,Ft({get:Ko(cu,"get"),keep:Ko(cu,"keep"),drop:Ko(cu,"drop"),swap:Ko(cu,"swap"),comparator:function(){},constructor:function(e){return this.reset(e),this},call:function(e){return this.each(function(t){t(e)}),this},obliteration:function(e,t){return vn(this.toArray(),e,t===p?this:t),this},empty:function(){return this.reset(),this.directive(cu).reset(),this},reset:function(e){var t=this;t.toArray()||[];return t.iterating=t.iterating?Hr(r):0,t.items=e==Ye?[]:$.isInstance(e)?e.toArray().slice(0):Kn(e),t.unmark(au),t},toArray:U,unwrap:U,length:function(){return this.toArray()[ce]},first:function(){return this.toArray()[0]},last:function(){var e=this.toArray();return e[e[ce]-1]},item:function(e){return this.toArray()[e||0]},has:function(e){return-1!==this.indexOf(e)},sort:function(e){var t=this;return mt(t.toArray(),e||this.comparator,t.is(au),t),t},sortBy:function(e,t){var n=this;return gt(n.toArray(),e,t,n.is(au),n),n},toString:function(){return pt(this.toArray())},toJSON:function(){return Cr(this.toArray(),q)},copy:function(){return this.items.slice(0)},range:b(l),concat:b(function(){var e=this.toArray();return e.concat.apply(e,Xn(arguments,function(e){return $(e).toArray()}))})},H)),F=(e.defineDirective(uu,function(){return new $[z]}),e.defineDirective(uu,function(){return $()}),ut.SortedCollection=$.extend(du,{constructor:function(e,t){var n=this;return n[z+T+uu](),e&&!t&&n.load(Zt(e)?e:[e]),n},reverse:function(){var e=this;return e.remark(au,!e.is(au)),e.sort(),e},closestIndex:function(e){return g(this.toArray(),e)},closest:function(e){var t,n=this.toArray();return-1===(t=g(n,e))?p:n[t]},validIDType:function(e){return Mt(e)||St(e)},indexOf:function(e,t,n){return vt(this.toArray(),e,qe)},load:function(e){var t=this;return Bt(e)?dn(e,t.add,t):t.add(e),t},add:function(e){var r,i=this,o=(e==Ye&&Hr(t),e&&e.valueOf()),u=(r=i[cu])&&i.get(D,o);return u?We:(V=!i.validIDType(o)&&Hr(n),i.insertAt(e,i.closestIndex(o)+1),(r||i.directive(cu)).keep(D,o,e),qe)},remove:function(e,n){var r=this,i=(e==Ye&&Hr(t),e&&e.valueOf());return e==Ye||r.get(D,i)==Ye?We:(r.removeAt(n===p?r.indexOf(e):n),r.drop(D,i),qe)},pop:function(){var e=this,t=e[ce]();return t?e.remove(e.last(),t-1):void 0},shift:function(){return this.remove(this.first(),0)}})),_=ut.StringObject=ut.Extendable.extend("StringObject",{constructor:function(e,t){var n=this;return n.value=e,n.parent=t,n.isValid(qe),n},toggle:function(e){this.isValid(Ur(this.isValid(),e))},isValid:function(e){var t=this;return arguments[ce]?(t.valid!==e&&(t.parent.increment(),t.valid=e),t):t.valid},valueOf:function(){return this.value},toString:function(){var e=this,t=e.value,n=e.parent;return n.indexer===p?t:e.isValid()?(t=n.indexer?n.delimiter+t:t,++n.indexer,t):(e.parent.drop(D,t),e.parent.removeAt(n.indexer),y)}});ut[fu]=F.extend(fu,{Child:_,add:function(e){var t=this,n=t.get(D,e);return e&&(n?n.isValid(qe):(n=new t.Child(e,t),t.toArray().push(n),t.keep(D,e,n))),n},emptyCollection:$[z][W].empty,empty:function(){var e=this;return e.emptyCollection(),e.current(y),e},increment:function(){var e=this;return e.changeCounter=e.changeCounter||0,e.changeCounter++,e},decrement:function(){var e=this;return e.changeCounter=e.changeCounter||0,e.changeCounter--,e},remove:function(e){var t=this,n=t.get(D,e);return e&&n&&n.isValid(We),t},toggle:function(e,t){var n=qe,r=this,i=r.get(D,e);i||(n=We,i=r.add(e)),t===p?n&&i.toggle():i.toggle(t)},join:function(e){var t,n,r,i=this,o=(e||y)+y,u=i.directive(cu);return i.changeCounter=i.changeCounter||0,i.changeCounter&&(i.changeCounter=0,u.group(su,{})),(r=u.get(su,o))!==p?r:(t=i.toArray().slice(0),i.indexer=0,i.delimiter=o,n=t.join(y),i.current(o,n),delete i.indexer,delete i.delimiter,n)},generate:function(e){var t,n=y,r=this,i=e;return r.changeCounter=r.changeCounter||0,!r.changeCounter&&(t=r.current(i))?t:(r.current(i,n=r.join(i)),n)},current:function(e,t){var n,r=this;return 1===arguments[ce]?(n=r.get(su,e))===p?r.join(e):n:(r.keep(su,e,t),r)},ensure:function(e,t){var n=this,r=e,i=t===p?w:t,o=Bt(r),u=o?r.join(i):r;return n.current(i)===u?n:(n.load(o?r:St(r)?r.split(i):We),n.current(i,u),n)},refill:function(e){var t=this,n=e;return t.empty(),n&&t.load(n),t.increment(),t}});e.defineDirective(cu,A[z])});var lu=ut[uu],hu=ut.Directive.extend("Messenger",{constructor:function(){var e=this,t={};return ut.Directive[z].apply(this,arguments),e.request=function(e,n,r){return t&&t[e]&&t[e](n)},e.reply=function(n,r,i){return wr(n,r,function(e,n){return t&&(t[e]=cn(Et(n)?n:qr(n),Ye))}),e},e.destroy=function(){t=p},e}});e.defineDirective("Messenger",hu);var vu="Events",Re="dispatchEvent",pu="EventManager",mu="stopListening",gu="talkerId",yu="listeningTo",wu="t",bu="handlers";e.scope(function(e){var t=function(e,t){var n=St(t)?e[t]:t;!Et(n)&&Hr("handler must be a function or a string with a method on the originating object");return n},n=function(e,t,n,r,i,o){return dn(Kn(n,w),function(n){o(e,t,t.make(n,r,e),i)})},r=function(e,t,r,i){return function(o,u){var a,c,s=qe,f=this;return o?t&&!u?f:(a=Kn(arguments),wr(a[t],a[t+1],function(o,u,d){c=c||f.directive(pu),s&&d&&a.splice(t,t+1,Ye),a[t]=o,a[t+1]=u,s=We,a[ce]<r&&i(f,a),n(f,c,o,u,a,e)}),f):f}},i=function(e,t){return function(n){return Tn(t,n[ie].get(e))}},o=function(e,t){t.fn=function(n){n&&t.comparator(n)&&(t.triggersOnce&&e.detach(t),t.runner(n))}},u=function(e,t){return function(){var n,r,u,c,f,d,l,h=this,v={},p=Kn(arguments);return arguments[0]?(u=e,r=p.slice(e),c=r[0],n=r[Ot(c)?2:3]||h,e&&!p[0]?v:(f=h.directive(pu),l=e?p[0].directive(pu):f,wr(c,r[1],function(u,c,m){var g=u.split(w)[0],y=d||cn(r[m?1:2],n||h),b=Et(c)?c:i(g,c),A=L+T+g,x=h,k=l.make(A,y,h);e+2<p[ce]&&p.push(n),e&&a(h,f,k,p[0]),k.comparator=b,k.triggersOnce=!!t,k.runner=y,s(x,l,k,[r[0],r[2],r[3]],o),v[g]=y}),v)):v}},a=function(e,t,n,r){var i=v(e,r),o=r.directive(pu);o[bu]=o[bu]||{};return i.count++,n.listening=i,o},c=function(e,t){var n=t.fn||t.handler;t.fn=kn(function(r){return e.detach(t),n.apply(this,arguments)})},s=function(e,n,r,i,o){r.context=r.context||i[2],r.handler=t(e,r.handler),n.attach(r.name,r,o)},f=function(e,t,n,r){s(e,t,n,r,c)},d=function(e){return function(t,n){n[ce]===e&&n.push(t)}},l=d(2),h=d(3),v=function(t,n){var r,i=t.directive(pu),o=n.directive(pu),u=o[gu],a=i[yu];return u&&(r=a[u])?r:(u=o[gu]=o[gu]||e.counter(wu),r=a[u]={talker:n,talkerId:u,listeningTo:a,count:0})},p=function(e,n,r,i,o){var u=i[0],c=a(e,n,r,u);r.handler=t(e,r.handler),s(u,c,r,i.slice(1),o)},m=function(e,t,n,r){p(e,t,n,r,c)},g="c";ut[vu]=ut.Directive.extend(vu,{initialize:ft,bubble:Ko(pu,"bubble"),on:r(s,0,3,l),once:r(f,0,3,l),listenTo:r(p,1,4,h),listenToOnce:r(m,1,4,h),watch:u(0),watchOnce:u(0,1),watchOther:u(1),watchOtherOnce:u(1,1),request:Ko("Messenger","request"),reply:Ko("Messenger","reply"),when:Ko("Linguistics","when"),constructor:function(t){var n=this;return Ft(n,t),n[g+D]=n[g+D]||e.counter(g),n.on(xr(n,"events")),n.initialize(t),n},off:function(e,t,r){var i,o,u=this,a=e,c=u[pu];if(c)return i=Ot(a)?t:r,arguments[ce]?a?wr(a,t,function(e,t){n(u,c,e,t,[],function(e,t,n){var r=c[bu][n.name];return r&&c.seekAndDestroy(r,n.handler,i)})}):ln(c[bu],function(e,n){c.seekAndDestroy(e,t,i)}):(o=c[ye].last(),o&&c.detach(o)),u},stopListening:function(e,t,n){var r,i,o,u,a=0,c=this,s=c[pu];return s?(r=s[yu],(i=e&&!(u=e[pu]))?c:(o=e?[u[gu]]:bn(r),dn(o,function(e){var i=r[e];i&&i.talker.off(t,n),a=a||i&&i[e]?1:0}),a||un(e?bn(r):o,function(e,t){return r[e]})||(s[yu]={}),c)):c},dispatchEvents:function(e){var t=this;return dn(Kn(e,w),t.dispatchStack,t)&&t},dispatchStack:function(e){return this[Re](e)},dispatchEvent:function(e,t,n){var r,i,o,u=this,a=u[pu];if(a&&a.has(e)&&!a.running[e]&&!a.queued[e]&&(i=a.validate(e,t,n)))return Bt(i)&&(e=i[0],t=i[1],n=i[2]),r=a.create(u,t,e,n),o=a.dispatch(e,r)}})});var Au=to(ee+"ren"),xu=ee+"Options",ku=ee+vu,Eu="DataManager";e.scope(function(e){var t=(ut.Events,ut.Collection,"sort"),n="added",r="unwrap",i="removed",o="stopListening",u="_delegatedParentEvents",a="_parentDelgatedChildEvents",c=function(e,t){return x(e,t)},s=function(e,t){var n,r=xr(e,ku);t&&r&&(n=t.directive(pu),n[a]=r,e.listenTo(t,r))},f=function(e,t){var n;t&&e[o]&&(n=t[pu])&&n[a]&&(e[o](t,t[a]),n[a]=p)},d=function(e,t){var n,r=t[ae],i=xr(t,ae+"Events");r&&i&&(n=t.directive(pu),n[u]=i,t.listenTo(r,i))},l=function(e,t){var n;t[o]&&(n=t[pu])&&n[u]&&(t[o](e,t[u]),n[u]=p)},h="Syncer",v=function(e,t,n){var r=e.toJSON();return ut.HTTP({url:t,type:n,data:e.stringifyPosts?e.stringify(r):r})},m=ut.Directive.extend(h,Jr.extend({createType:"POST",updateType:"PUT",fetchType:"GET",deleteType:"DELETE",parse:Fn,stringify:pt,constructor:function(e){return this[re]=e,this}},Mn(["destroy","fetch","update","create"],v,qe))),g=(e.defineDirective(h,m[z]),ut[Au]=lu.extend(Au,{constructor:function(e){return this[re]=e,this[z+T+uu](),this},attach:function(e){var t=this,r=t[re],i=e[Re]&&e[Re](B+n);return t.detach(e),t.addToHash(e),d(r,e),s(r,e),i=e[Re]&&e[Re](n),e},detach:function(e){var t,n=this;return(t=e[ae])?(e[Re](B+i),l(t,e),f(t,e),n.removeFromHash(e),delete e[ae],e[Re](i),qe):We},addToHash:function(e){var t=this,n=t[re];e[ae]=n,t.add(e),t.keep(D,e.id,e),t.keep("cid",e.cid,e)},removeFromHash:function(e){var t=this;e&&(t.remove(e),t.drop(D,e.id),t.drop("cid",e.cid))},save:function(){},fetch:function(){}})),y=function(){return{add:[],remove:[],update:[]}},w=ut.Parent=ut.Events.extend("Parent",{Child:qe,childOptions:ft,parentEvents:ft,childEvents:ft,childConstructor:function(){return this.Child===qe?this.__constructor__:this.Child||w},isChildType:function(e){return bt(e,this.childConstructor())},diff:function(e,t){var r=this,o=e,u=t||{},a=r.directive(Au),c=y(),s=lu(o.add).foldl(function(e,t){var n=r.isChildType(t),i=r.childConstructor(),o=n?t:new i(t,u.shared),c=a.get(D,o.id);c?(c.set(n?t[q]():t),e.update.push(c)):(a.attach(o),e.add.push(o))},o.remove?lu(o.remove).foldl(function(e,t){var n,r=t&&t[ae];r&&(n=r[Au],n&&n.detach(t)&&e.remove.push(t))},c):c);return u.silent?s:(s.remove.length&&r[Re](ee+T+i,s),s.add.length&&r[Re](ee+T+n,s),(s.add.length||s.remove.length)&&r[Re](P+ee+T+"count",s),s)},add:function(e,t){var n=this,i=(n.directive(Au),Ft(xr(n,xu),t||{})),o=lu(e);return o[ce]()?lu(n.diff({add:o},{shared:i}).add):o[r]()},remove:function(e){var t,n=this,r=e;return r==Ye?(n=n[ae],n.remove(this)):(!Ot(r)&&(t=n.directive(Au))&&(r=t.get(D,r)),r&&Ot(r)?lu(n.diff({remove:(r&&lu.isInstance(r)?r.toArray():Kn(r)).slice(0)}).remove):y())},sort:function(e){var n,r,i,o,u=this;return(n=u[Au])?(r=e||u.comparator,St(r)&&(o="!"===r[0],i=r,o&&(i=r.slice(1)),r=function(e,t){var n,r=e.get(i),u=t.get(i);return n=o?u-r:r-u}),n[t](r),u[Re](t),u):u},destroy:function(){var e,t=this;return t.is(V)||t[Re](H),e=t[ae]&&t[ae].remove(t),t[Re](I),t.stopListening(),t}}),b=0,A=function(e,t){return e.id=t===p?++b:t,b},x=ut.Model=ut.Parent.extend("Model",{unset:function(e){var t=this[Eu];if(!t)return We;var n=t.unset(e);return this.modified([e]),n},get:tu(Eu,"get"),escape:function(e){return _o(this.get(e))},keys:tu(Eu,"keys",$r),values:tu(Eu,"values",$r),has:tu(Eu,"has",We),idAttribute:qr("id"),constructor:function(e,t){var n=this;return n.reset(e),this[z+T+vu](t),n},defaults:function(){return{}},reset:function(e){var t,n,r=this,i=Fn(e)||{},o=r.defaults(i),u=Ft(o,i),a=r.idAttribute(u),c=(A(r,u[a]),bn(u));return(n=r.is(oe))&&r[Re](B+oe),(n||c[ce])&&(t=r.directive(Eu),t[oe](u)),r.mark(oe),n&&r[Re](oe,u),r},destroy:function(){return w.fn.destroy.call(this),delete this.id,this},set:function(e,t,n){var r=[],i=this,o=t,u=i.directive(Eu),a=n;return wr(e,o,function(e,n,i){!a&&i&&(a=t),u.set(e,n)&&!u.changing[name]&&r.push(e)}),a?r:(i.modified(r),i)},modified:function(e){var t,n=this;return e&&e[ce]?(t=n.directive(Eu),n.digest(e,function(e){t.changing[e]=qe,n[Re](P+e),t.changing[e]=We}),n):n},digest:function(e,t){var n=this,r=n.directive(Eu);r.increment(),Et(e)?e():dn(e,t,n),r.decrement(),r["static"]()&&(r.increment(),n[Re](L,r[j]),r.decrement(),r.finish())},toJSON:function(){return this.clone()},clone:tu(Eu,"clone",function(){return{}}),valueOf:function(){return this.id},toString:function(){return pt(this)}});e.defineDirective(Au,g[z]),c[z]=x[z]});var Tu=(ut.Model,"actions"),Cu="propagation",Su="Stopped",Mu="defaultPrevented",Ou=Cu+"Halted",Du=Cu+Su,Nu="immediate"+to(Cu)+Su;e.scope(function(e){var t=1,n=0,r=qr.id=function(){return this.id},i="passedData",o=ut.ObjectEvent=ut.Directive.extend("ObjectEvent",{constructor:function(e,t,n,r,o){var u=this;return u.unmark(Ou),u.unmark(Du),u.unmark(Nu),u[ie]=t,u[Q]=n,u[X]=n.split(T)[0],u.timestamp=Ut(),u.timeStamp=o||u.timestamp,u[i]={},u.data(e),r&&Ft(u,r),u},toJSON:function(){return this.data()},isStopped:function(){return this.is(Du)||this.is(Nu)},data:function(e){return arguments[ce]?this.set(e):this[i]},get:function(e){return this[i][e]},set:function(e){var t=this;return t[i]=Ot(e)?e:{},t},stopImmediatePropagation:function(){this.stopPropagation(),this.mark(Nu),this.mark(Ou)},stopPropagation:function(){this.mark(Du)},preventDefault:function(){this[Mu]=qe},defaultIsPrevented:function(){return this[Mu]},action:function(e){var t=this;return t.directive(Tu).push(e),t},finished:function(){var e,t=this;t.mark(Y),t.defaultIsPrevented()||(e=t[Tu])&&e.call(t)}});ut.EventsDirective=ut.Directive.extend("EventsDirective",{cancelled:Jr.noop,validate:qr(qe),constructor:function(e){var t=this;return t.target=e,t.listenId="l"+ ++n,t.handlers={},t.listeningTo={},t.running={},t.queued={},t.stack=lu(),t.removeQueue=lu(),t.proxyStack=lu(),t.proxyStack.unmark("dirty"),t},attach:function(e,n,i){var o,u=this,a=u[bu];n.id=++t,n.valueOf=r,n.context=n.context||n.origin,i&&Et(i)&&i(u,n),n.fn=cn(n.fn||n.handler,n.context),o=a[e]=a[e]||lu(),o[Q]=e,n.list=o,u.add(o,n)},create:function(e,t,n,r){return o(t,e,n,r)},make:function(e,t,n){return{disabled:We,namespace:e&&e.split&&e.split(T)[0],name:e,handler:t,origin:n}},seekAndDestroy:function(e,t,n){for(var r,i=this,o=e.toArray(),u=o[ce]-1;u>=0;u--)r=o[u],r.disabled||t&&r.handler!==t||n&&r.context!==n||i.detach(r,u)},nextBubble:function(e){return e.parent},bubble:function(e,t,n){for(var r,i=this,o=i.target,u=[o],a=o;a;)r=a,a=i.nextBubble(r,u),a&&u.push(a),r===a&&Hr("bubbling discerners must return a different object each time it is run");return dn(u,function(r){r[Re](e,t,n)}),o},add:function(e,t){e.push([t])},remove:function(e,t,n){e.removeAt(t,n)},detachCurrent:function(){return this.detach(this[ye].last())},detach:function(e,t){var n,r=this,i=e.listening,o=e.list;e.disabled=qe;return e.removed?qe:(e.removed=qe,r.remove(o,e,t),e.list=p,r.wipe(o),i&&(i.count--,i.count||(n=i.listeningTo,delete n[i[gu]])),qe)},wipe:function(e){return e[ce]()?We:(this.scrub(e),qe)},scrub:function(e){e.scrubbed=qe,delete this[bu][e[Q]]},reset:function(){return ln(this.handlers,this.scrub,this)},queue:function(e,t,n){return e.toArray().push(t)},unQueue:function(e,t,n){return e.pop()},has:function(e){return!!(this.handlers[e]&&this.handlers[e][ce]()||this.proxyStack[ce]())},handlerQueue:function(e){return this.handlers[key]||lu()},dispatch:function(e,t){var n,r,i=this,o=i[ye],u=i[bu],a=u[e],c=i.running,s=c[e],f=t.is(Du),d=i.proxyStack;if(s)return void Pr.error("cannot stack events coming from the same object");if(!f&&a&&a[ce]())return c[e]=qe,n=i.subset(a.toArray(),t),r=o[ce],f=Vr(function(){for(var e,r,u=0,a=n[ce];a>u&&!e;u++)r=n[u],!r.disabled&&i.queue(o,r,t)&&(r.fn(t),i.unQueue(o,r,t)),e=!!t.is(Ou)},function(){return qe}),r<o[ce]&&i.unQueue(o,handler,t),f?i.cancelled(o,t):d.eachCall("run",t),t.finished(),c[e]=!!s,t.returnValue},subset:function(e){return e.slice(0)},addBus:function(e,t,n,r){var i,o=this,u=o.proxyStack;return(i=u.get(e))||(o.target===t&&Hr("bus target cannot be the same as delegated target"),i={prefix:n||y,target:t,filter:r||Wr,run:function(e){this.filter(e)&&this.target[Re](this.prefix?this.prefix+e.name:e.name,e)}},u.push(i),u.keep(D,e,i)),this},removeBus:function(e){var t=this,n=t.proxyStack;return(bus=n.get(e))&&(n.remove(bus),n.drop(D,e),bus.filter=zr),!!bus}});e.defineDirective(pu,ut.EventsDirective[z])}),e.scope(function(e){var t="counter",n=ut[Eu]=ut.Directive.extend(Eu,{constructor:function(){var e=this;return e[F]={},e.previous={},e[j]={},e[t]=0,e},set:function(e,t){var n=this,r=n[F];return Tn(r[e],t)?We:(n.previous[e]=r[e],n[F][e]=t,qe)},get:function(e){return this[F][e]},clone:function(){return Cn(this[F])},unset:function(e){var t=this[F],n=t[e];return delete t[e]&&n!==p},reset:function(e){return this[F]=e||{},this},increment:function(){return this[t]+=1,this},decrement:function(){return this[t]-=1,this},"static":function(){return!this[t]},finish:function(){return this[_]={},this[j]={},this},reach:function(e){var t,n=this,r=n[F];return dn(Kn(e,A),function(e,n,i){var o=n===i[ce];t=e,o||(r=Ot(r[e])?r[e]:{})})&&(St(t)?p:r[t])},has:function(e){return this[F][e]!==p},each:function(e){return ln(this[F],e,this)}});e.defineDirective(Eu,n[z])}),e.scope(function(e){var t="success",n="registered",r="state",i="every",o="failures",u="counter",a="groupIndex",c="Linguistics",s=function(e){return function(t){return Tn(t,e)}},f=function(e){return function(t){return t>e}},d=function(e){return function(t){return e>t}},l=function(e){return function(t){var n=this;return n[e].push(cn(t,n)),n}},h=function(e,t){return function(){var n=this;return dn(arguments,function(r){n.add(r,e,t)}),n}},v=h(qe),p=function(e,t,n,r){var i=cn(n,e),o=r?Jr.negate(i):i;return{key:t,context:e,handler:n,fn:o}},m=function(){this.stopListening()},g=ut.Linguistics=ut.Events.extend(c,{then:l(t),always:l(i),otherwise:l(o),is:h(),isnt:v,isNot:v,isGreaterThan:h(We,f),isLessThan:h(We,d),isNotGreaterThan:h(qe,f),isNotLessThan:h(qe,d),constructor:function(e){var r=this;return r.origin=e,r[u]=0,r[a]=-1,r[n]={},r.logic=new lu[z],r[t]=new lu[z],r[o]=new lu[z],r[i]=new lu[z],r.group(),r.listenTo(r.origin,{change:"apply",destroy:m}),this},when:function(e){return this[ae]?this[ae].when(e):Hr("this sequencer has been destroyed")},and:function(e){var t=this;return t[F]=e,t.bind(e),t},or:function(e){return this.group(),this.and(e),this},group:function(){var e=this;return++e[a],e.logic.push({index:e[a],list:new lu[z]}),e},increment:function(){++this[u]},bind:function(e){var t=this,r=t[n];r[e]||(r[e]=qe,this.listenTo(this.origin,P+e,t.increment))},unbind:function(e){var t=this,r=t[n];r[e]&&(r[e]=We,this[mu](this.origin,P+e,t.increment))},value:function(e,t){return Et(e)?e:t(e)},add:function(e,t,n){var r=this,i=r[F],o=r.value(e,n||s),u=p(r,i,o,t);return r.logic.item(r[a]).list.push(u),r},check:function(){var e=this;return!(!e[u]||!e.logic.find(function(t){return!t.list.find(function(t){return!t.fn(e.origin.get(t.key))})}))},restart:function(){return this[u]=0,this},handle:function(e,t){var n=this;n[e]&&n[e].call(t);return n},run:function(){var e=this;e[r]?e.handle(t):e.handle(o),e.handle(i)},apply:function(){var e=this,t=e.check();return e.restart(),e[r]!==t&&(e[r]=t,e.run()),e}}),y=c+"Manager",w=ut[y]=ut.Model.extend(y,{when:function(e){var t=new g[z](this.target);return this.add(t),t.and(e)},constructor:function(e){return this.target=e,this}});e.defineDirective(c,w[z])});e.scope(function(e){var t=e._,n=t.factories,r="failure",i="success",o="pending",u="state",a="catch",c="always",s="reason",f="fulfilled",d="settled",l="rejected",h="emptying",v=(to(a),"allStates"),m="stashedArgument",g="stashedHandlers",y="listening",w=t.flatten,b=t.bind,A=t.isString,x=t.intendedObject,k=(t.duff,t.each,t.extend),E=t.toArray,C=t.isFunction,S=(t.foldl,t.result),M=t.wraptry,O=(t.indexOf,function(e,t){var n,r,i,o=[],u=e[m],c=e[g],s=c[ce],f=function(){return n.key===a?(o.push(n),void(r&&d(r))):void(t[n.key]&&n.fn(u))},d=function(e){var t;r=e,i=qe,t=o.slice(0),o=[],Tr(t,"fn",r)};if(c&&c[ce]){for(e.mark(h);c[0]&&--s>=0;)n=c.shift(),M(f,d);i&&d(r),e.unmark(h)}}),D=function(e,t,n,o,u,a){var c=o;A(c)||Hr(N);do u[c]?c=We:(c===i&&(q(e,qe),e[m]=n),c===r&&(q(e,We),e[s]=n),t[c]?u[c]?c=We:(u[c]=qe,a.push(c),c=t[c]):Hr(1+N));while(A(c));return a},N='promise cannot resolve to an unknown or invalid ("", false, null, 0, etc.) state. Please check your resolution tree as well as your resolveAs method input',I=function(e,t,n){var r=S(e,v),i={},o=n===Ye?yt(e,m)?e[m]:e[s]:n,u=u||D(e,r,o,t,i,[]);return u[ce]||Hr(N),O(e,i,o),e},R=function(e){return this[e]||(this[e]=function(){return this.handle(e,E(arguments))}),this},L=function(){var e,t=qe,n=this,o=n.directive(uu),u=[],a=o.find(function(n){return e=e||n.is(l),t=t&&n.is(d),u.push(n[m]),e});return e?n.resolveAs(r,a[s]):t&&n.resolveAs(i,u),n},j=function(){var e,t=this,n=t.directive(uu);return(e=n.find(function(e){return e.is(d)}))&&t.resolveAs(e[u],e[m]),t},P={success:c,failure:c,"catch":qe,always:qe},H=function(e,t){var n=e.directive(uu);w(t,function(t){e.isChildType(t)&&(n.add(t),n.keep("cid",t.cid,t))},qe)},V=function(e,t){var n=b(t,e),r=e.directive(uu);r.each(function(e){r.get(y,e.cid)||(r.keep(y,e.cid,qe),e.always(function(){n()}))})},U=function(e){return function(){var t=this;return t[u]!==o?t:(H(t,E(arguments)),V(t,e),t.Collection.length()||t.resolve(),t)}},q=function(e,t){e.remark(f,t),e.remark(l,!t)},$=n.Events,F=function(e){return e&&e[i]&&e[r]&&e[c]&&e[a]},_=n.Promise=t.Promise=$.extend("Promise",{addHandler:R,fulfillKey:"success",rejectKey:"reject",auxiliaryStates:qr(We),constructor:function(e){var t=this;return t.state=o,t[g]=[],t[s]=We,t[z+T+"Events"](),x(k({},P,S(t,"associativeStates")),Ye,R,t),e&&e(b(t.fulfill,t),b(t.reject,t),b(t.resolveAs,t)),t},isChildType:F,allStates:function(){return k({},P,S(this,"auxiliaryStates"))},resolveAs:function(e,t){var n,i=t,o=e,u=this;return u.is(d)?u:(u.mark(d),u.state=o||r,o=u.state,u[Re](B+"resolve"),n=I(u,o,i===p?Ye:i),u)},fulfill:function(e){return this.resolveAs(i,e)},resolve:function(e){return this.fulfill(e)},reject:function(e){return this.resolveAs(r,e)},when:function(){return this.all(arguments)},thenable:function(){return _.apply(Ye,arguments)},then:function(e,t){var n=this,o=n.__constructor__(),u=function(u){return function(a){var c,s;c=u?e(a):t(a),s=c,n.isChildType(s)?s.always(function(e){o.resolveAs(s.state,e)}):o.resolveAs(u?i:r,a)}};return n.success(u(qe)).failure(u()),o},toJSON:function(){return{}},toString:function(){return JSON.stringify(this)},all:U(L),race:U(j),stash:gr(function(e,t){var n=this,r=n[g];w(C(t)?[t]:t,function(t){C(t)&&r.push({key:e,fn:b(t,n),handler:t})},qe)}),handle:gr(function(e,t){var n=this,r=(n[m],t);n.stash(e,r),n.is(d)&&I(n,n[u],Ye)})}),G=_[z][W],J=(G.addHandler(i).addHandler(r).addHandler(c).addHandler(a),_()),Q=function(e){return function(){var t=_();return t[e].apply(t,arguments)}};e.extend({dependency:b(J.all,J)}),_.all=Q("all"),_.race=Q("race"),t.publicize({isPromise:F})});var Iu=Jr.Promise;e.scope(function(e){var t=e._,n=t.factories,r="items",i="data",o=t.extend,u=t.isObject,a=t.removeAt,c={}.toString;n.Associator=n.Directive.extend("Associator",{get:function(t,n){var o,a,c=this,s={},f=u(t),d=c.sameType(t,f),l=(d[r]=d[r]||[],d[Me]=d[Me]||{}),h=d[i]=d[i]||[];return f?t&&d.readData?(a=t[Me]=t[Me]||e.counter(),a&&(s=l[a]=l[a]||{})):(o=d[r][pe](t),o!==p&&-1!==o||(o=d[r][ce],d[r].push(t),h[o]=s),s=h[o]):(d[Me][t]=d[Me][t]||{},s=d[Me][t]),s.target=t,s},set:function(e,t,n){var r=this.get(e,n);return o(r,t||{}),r},remove:function(e){var n,o=this.sameType(e);o.readData?(n=e[Me],delete o[Me][n]):(n=t[pe](o[r],e),-1!==n&&(a(o[i],n),a(o[r],n)))},sameType:function(e,t){var n=this,r=t===p?u(e):t,i=c.call(e),o=e&&e.window===e,a=o?"[object global]":i.toLowerCase(),s=n[a]=n[a]||{},f=a[pe]("global"),d=-1===a[pe](me);return-1===f&&d&&r&&(s.readData=qe),s}})}),e.scope(function(e){var t="catch",n="error",r="status",i="failure",o="success",u="readyState",a=m.XDomainRequest,c=Jr.stringifyQuery,s="GET",f="progress",d=Kn(s+",POST,PUT,DELETE,HEAD,TRACE,OPTIONS,CONNECT"),l=Kn(f+",timeout,abort,"+n),h=function(){},v={progress:h,timeout:h,abort:h,error:h},g=function(e){var t=0,n=e.options.requestObject;dn(l,function(r){r===f?n["on"+r]=function(n){if(n){var r=n.loaded/n.total;t++,e[Re](f,{percent:r||t/(t+1),counter:t},{originalEvent:n})}}:n["on"+r]=function(t){v[r](e,r,t)}})},w=function(e,n,r){return function(){return Vr(function(){return n?e.send(n):e.send()},function(e){r.resolveAs(t,e,e.message)})}},b="status:2xx",A="status:3xx",x="status:4xx",k="status:5xx",E=ut.HTTP=Iu.extend("HTTP",{parse:Fn,constructor:function(e){var t,n,r,i=this,o="onreadystatechange",u=new XMLHttpRequest;Nt(a)||(u=new a,o="onload"),Ot(e)||(e=e||y,r=s,n=e.toUpperCase(),-1!==lt(d,n)?r=n:t=e,e={url:t||y,type:r}),i.options=Jr.extend({async:qe,method:o,type:r,requestObject:u,withCredentials:qe},e),i[z+T+"Promise"]();var f,l=i.options.data;return r=i.options.type,t=i.options.url,Ot(t)&&!Bt(t)&&(t=c(t)),t&&r?(i.attachResponseHandler(),Vr(function(){u.open(r.toUpperCase(),t,i.options.async)}),l&&(l=Ot(l)?Nr(l,function(e,t,n){e.push(encodeURIComponent(n)+"="+encodeURIComponent(Ot(t)?JSON.stringify(t):Et(t)?Ye:t))},[]).join("&"):encodeURIComponent(l)),St(l)&&(l=l.replace(/%20/g,"+")),i.headers(Jt({"Content-Type":"application/x-www-form-urlencoded; charset=UTF-8"},i.options.headers)),g(i),f=w(u,l,i),Jr.isIE?setTimeout(f):f(),i):Hr("http object must have a url and a type")},status:function(e,t){return this.handle(r+T+e,t)},headers:function(e){var t=this,n=t.options.requestObject;return ln(e,function(e,t){n.setRequestHeader(t,e)}),t},auxiliaryStates:function(){return{"status:0":i,"status:2xx":o,"status:200":b,"status:202":b,"status:204":b,"status:205":b,"status:3xx":o,"status:302":A,"status:304":A,"status:4xx":i,"status:400":x,"status:401":x,"status:403":x,"status:404":x,"status:405":x,"status:406":x,timeout:x,"status:408":"timeout","status:5xx":i,"status:500":k,"status:502":k,"status:505":k,"status:511":k,abort:i}},attachResponseHandler:function(){var e=this,t=e.options.requestObject,n=We,i=e.options.method,o=function(t){var o,a,c,s=this;s&&!n&&(o=s[r],c=s.responseText,("onload"===i||"onreadystatechange"===i&&4===s[u])&&(a=xr(e,"allStates"),c=e.options.preventParse?c:e.parse(c),n=qe,e.resolveAs(r+T+(s[r]===p?200:s[r]),c)))};return t[i]||(t[i]=o),e}});Jr.foldl(d,function(e,t){var n=t;n=n.toLowerCase(),e[n]=function(e,n){return E(Jr.extend({type:t,url:e},n))}},E)}),e.scope(function(e){var t=e._,n=t.factories,r=(n.Model,n.Collection,"module"),i=to(r),o=we+"ed",u="initialized",a=u+T+"sub"+r,c="defined",s="that module has not been "+c+" yet",f={start:function(e){var t=this;return t.is(o)||(t.mark(o),t[Re](we,e)),t},stop:function(e){var t=this;return t.is(o)&&(t.unmark(o),t[Re](be,e)),t},toggle:function(e){var t=this;return t.is(o)?t[be](e):t[we](e),t},restart:function(e){var t=this;return t.is(o)&&t[be](e),t[we](e),t}},d=(n.Startable=n.Model.extend("Startable",f),function(e){xr(this,"startWithParent")&&this[we](e)}),l=function(e){xr(this,"stopWithParent")&&this[be](e)},h=function(e,t){var n=[];return dn(t,function(t){var r=e.module(t);r.is(u)&&n.push(r[G])}),n[ce]===t[ce]?n:We},v=t.Promise,m={module:function(t,n,r){var i,o,s,f,d,l=this,h=t,p=h.split(A),m=l.directive(Au).get(t),y=function(){m.mark(c),m[ae].bubble(a)};if(m){if(l=m[ae],!r)return m;p=[m.id]}else for(;p.length>1;)l=l.module(p[0]),p.shift();return d=l.directive(Au),h=p.join(A),m=d.get(D,h),m||(o=l.globalname?l.globalname.split(A):[],o.push(h),s=o.join(A),f=Ft({},xr(l,xu)||{},{application:e,parent:l,id:h,globalname:s}),l===e?(m=g({},f),d.add(m),d.keep(D,h,m)):m=l.add({},f).item(0),e[Au].keep(D,s,m)),(jt(n)||Et(n)||Et(r))&&(m[G]=m[G]||{},m.mark(u),i=m.run(n,r),i&&v.fn.isChildType(i)?i.success(y):y()),m},createArguments:function(e){var t=this;return[t].concat(t[J].createArguments(e))},run:function(e,t){var n,r=this,i=jt(e)?t:e,o=i===e?window:e;return Et(i)&&(n=i.apply(r,r.createArguments(o))),n===p?r:n},publicize:gr(function(e,t){this[G][e]=t}),startWithParent:qr(qe),stopWithParent:qr(qe),constructor:function(e,t){var n=this;return n[G]={},n[z+T+"Model"](e,t),n.listenTo(n[ae],{start:d,stop:l}),n},topLevel:function(){return!this[J]||this[J]===this[ae]},require:function(e,t){return this.application.require(this.globalname+A+e,t)}},g=n.Module=n.Model.extend(i,Ft({},f,m));e.extend(Ft({},n.Directive[z][W],n.Events[z][W],n.Parent[z][W],f,m,{createArguments:function(e){var t=this,n=t._,r=e[ge][Me],i=t.directive(Wc).documents,o=i.get(D,r);return o||(t.global.definition(t.VERSION,e),o=i.get(D,r)),[t,n,n&&n.factories,o,o.factories,o.$]},require:function(e,t){var n,r,i,o,u=this;return Et(t)?(n=v(),i=Kn(e,w).slice(0),n.success(cn(t,u)),(o=h(u,i))?n.fulfill(o):u.on(a,function(){(o=h(u,i))&&(u.off(),n.fulfill(o))}),n):(r=u.module(e),r.is(c)?r[G]:Hr(s))}}));delete e.fn});var Ru="attached",Lu="iframe",ju="localName",Bu="childNodes",Pu="fragment",Hu="nodeType",Vu="parentNode",ue="Attributes",Uu="DomManager",qu=I+"ed",Wu="custom",zu="removing",$u="accessable",Fu=Wu+"Listener",_u="Child",Gu="append"+_u,Ju="remove",Qu="html",Xu="innerHTML",Yu="text",Zu="innerText",Ku="outerHTML",ea="registeredAs",ta="attributeChange",na="attributesChanging",ra="delegateCount",ia="captureCount",oa="is",ua=Ae+b+Q,aa="fontSize",ca="defaultView",sa="div",fa="["+oa+"]",da=m.devicePixelRatio||1,la=Kn("type,href,className,height,width,id,tabIndex,title,alt,innerHTML,outerHTML,textContent"),ha=Mn(la,qe),va=Kn("abort,afterprint,beforeprint,blocked,cached,canplay,canplaythrough,change,chargingchange,chargingtimechange,checking,close,complete,dischargingtimechange,DOMContentLoaded,downloading,durationchange,emptied,ended,error,fullscreenchange,fullscreenerror,input,invalid,languagechange,levelchange,loadeddata,loadedmetadata,message,noupdate,obsolete,offline,online,open,pagehide,pageshow,paste,pause,pointerlockchange,pointerlockerror,play,playing,ratechange,reset,seeked,seeking,stalled,storage,submit,success,suspend,timeupdate,updateready,upgradeneeded,versionchange,visibilitychange"),pa=Kn("SVGAbort,SVGError,SVGLoad,SVGResize,SVGScroll,SVGUnload,SVGZoom,volumechange,waiting"),ma=Kn("keydown,keypress,keyup"),ga=Kn("gamepadconnected,gamepadisconnected"),ya=Kn("compositionend,compositionstart,compositionupdate,drag,dragend,dragenter,dragleave,dragover,dragstart,drop"),wa=Kn("click,contextmenu,dblclick,mousedown,mouseenter,mouseleave,mousemove,mouseout,mouseover,mouseup,show,wheel"),ba=Kn("touchcancel,touchend,touchenter,touchleave,touchmove,touchstart"),Aa=Kn("devicemotion,deviceorientation,deviceproximity,devicelight"),xa=Kn("blur,focus"),ka=Kn("beginEvent,endEvent,repeatEvent"),Ea=Kn("animationend,animationiteration,animationstart,transitionend"),Ta=Kn("audioprocess,complete"),Ca=Kn("abort,error,hashchange,load,orientationchange,readystatechange,resize,scroll,select,unload,beforeunload"),Sa=Kn("abort,error,load,loadend,loadstart,popstate,progress,timeout"),Ma=Rn(va,pa,ma,ya,ga,wa,ba,Aa,xa,ka,Ea,Ta,Ca,Sa),Oa=Kn("-o-,-ms-,-moz-,-webkit-,mso-,-xv-,-atsc-,-wap-,-khtml-,-apple-,prince-,-ah-,-hp-,-ro-,-rim-,-tc-"),Da=Kn("a,abbr,address,area,article,aside,audio,b,base,bdi,bdo,blockquote,body,br,button,canvas,caption,cite,code,col,colgroup,data,datalist,dd,del,dfn,div,dl,dt,em,embed,fieldset,figcaption,figure,footer,form,h1,h2,h3,h4,h5,h6,head,header,hr,html,i,iframe,img,input,ins,kbd,keygen,label,legend,li,link,main,map,mark,meta,meter,nav,noscript,object,ol,optgroup,option,output,p,param,pre,progress,q,rb,rp,rt,rtc,ruby,s,samp,script,section,select,small,source,span,strong,style,sub,sup,table,tbody,td,template,textarea,tfoot,th,thead,time,title,tr,track,u,ul,var,video,wbr"),Na=Mn(Da,qe),Ia=Mn(Ma,qe),Ra=(Mn(Oa,qe),
function(e){var t=e||m;return jt(t)?t:t&&t[ca]?t[ca]:t.ownerGlobal?t.ownerGlobal:DOMA(t).parent(me)[De](0)||m}),La=function(e,t){var n=Ra(t).getComputedStyle(e);return n?n:Ra(e).getComputedStyle(e)||Cn(e[Ve])||{}},ja=La(g[Ue],m),Ba=function(e){return"["+oa+'="'+e+'"]'},Pa=function(e,t){var n;return e&&Nc(e)?(n=e[ju].toLowerCase(),t?n===t.toLowerCase():n):We},Ha={columnCount:qe,columns:qe,fontWeight:qe,lineHeight:qe,opacity:qe,zIndex:qe,zoom:qe,animationIterationCount:qe,boxFlex:qe,boxFlexGroup:qe,boxOrdinalGroup:qe,flex:qe,flexGrow:qe,flexPositive:qe,flexShrink:qe,flexNegative:qe,flexOrder:qe,lineClamp:qe,order:qe,orphans:qe,tabSize:qe,widows:qe,fillOpacity:qe,stopOpacity:qe,strokeDashoffset:qe,strokeOpacity:qe,strokeWidth:qe},Va={transitionDuration:qe,animationDuration:qe,transitionDelay:qe,animationDelay:qe},Ua=(Qr(function(e){var t=no(e);return e[0]>="A"&&e[0]<="Z"&&(t="-"+t),t}),function(){var e,t,n,r,i,o,u,a,c,s,f=[],d={},l=0,h=function(e,t){-1===lt(e,o)&&e.push(o)};for(e=0;e<Oa[ce];e++)s=Oa[e][ce],s>l&&(l=s);for(n in ja){for(r=0,a=y,o=y,u=Mt(+n)?ja[n]:no(n),no(u),ro(u),c=u,t=0;l>t&&u[t]&&!r;t++)a+=u[t],i=lt(Oa,a),-1!==i&&(o=Oa[i],c=u.split(o).join(y),r=1),i=lt(Oa,b+a),-1!==i&&(o=Oa[i],c=u.split(a).join(y),r=1);c=ro(c),f.push(c),d[c]||(d[c]=[]),h(d[c],o)}return d}()),qa=function(e,t){return+t!==+t?t:Va[e]?t+"ms":Ha[e]?t:t+M},Wa=function(e,t,n){var r,i,o=no(t);return(r=Nr(e.split(";"),function(e,t,r,u){var a=t.trim(),c=a.split(T),s=c[0].trim(),f=(c.shift(),c.join(T).trim());return s===o&&(i=qe,f=n+" !important"),o===s?e.push(s+": "+f):(!t&&!r||r===u[ce]-1&&!i)&&e.push(o+": "+n+" !important"),e},[]).join("; "))?r+";":r},za=function(e,t,n){var r,i=t,o=""!==n?qa(i,n):n;return dn(Ua[ro(i)],function(t){var n=t+no(i),u=e[Ve][n];u!==o&&(e[Ve][n]=o,r=qe)}),r},$a=function(e,t,n,r){var i,o,u,a=t,c=n,s=r;return Nc(e)?(i=uc.read(e,Ve),Ot(t)&&(s=n,c=Ye),s?(wr(a,c,function(t,n){u=Wa(e,t,n)}),za!==i):(wr(a,c,function(t,n){o=za(e,t,n)?qe:o}),o)):We},Fa=function(e,t,n){var r=n;if(r===We||r==Ye)oc(e,t);else{if(Ot(n)){if(t===Ve){if(!e[Ve])return;return void $a(e,r)}r=Nr(n,function(e,t,n){t&&e.push(n)}).join(w)}r!==We&&r!=Ye&&e.setAttribute(t,(r===qe?y:r)+y)}},_a=function(e,t){return to(K)+b+t[Me]+b+e},Ga=function(e,t){return'<!DOCTYPE html><html><head><meta charset="utf-8"><meta name="viewport" content="user-scalable=no,width=device-width,initial-scale=1"><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">'+e+"</head><body>"+t+"</body></html>"},Ja=function(e){return function(t){return t[Vu]===e}},Qa=function(e,t){var n=t.registeredElements;return n[e]===qe?e:Ba(e)},Xa=function(e,t){return Xn(Kn(e,w),function(e){return e.replace(/^(\S*?)([\.|\#|\[])/i,function(e){var n=e,r=n[ce]-1;return r?Qa(n.slice(0,r),t)+n.slice(r):n})}).join(w)},Ya=function(e,t){return Nc(e[t])?[e[t]]:[]},Za={body:qe,head:qe,document:qe},Ka=function(e,t){return Nr(e,function(e,n,r,i){return t(n,r,i)&&e.push(n),e},[])},ec=function(e,t,n){var r,i,o=e,u=t,a=(qr.first,n.owner);return n&&n===a&&Za[o]?Ya(u,o):(n&&">"===o[0]&&(r=qe,o=n.queryString()+o),o=Xa(o,a),i=u.querySelectorAll(o),r?Ka(i,Ja(u)):Kn(i))},tc=function(e,t,n){var r,i;return t&&e&&1===e[Hu]?(i=e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector||e.matchesSelector)?i.call(e,t):(r=e[Vu],r||(r=createElement(sa,ensure(e.ownerDocument,qe)),r[Gu](e)),-1!==lt(ec(t,r,n),e)):We},nc=function(e,t){var n=e.getAttribute(t);return ic(n)},rc=function(e){var t=+e;return e[ce]&&t==e?t:e},ic=function(e){var t=e;return t===y?qe:t==Ye?We:rc(t)},oc=function(e,t){e.removeAttribute(t)},uc={preventUnCamel:We,read:nc,write:Fa,remove:oc},ac=function(e,t){return t&&e.appendChild&&e.appendChild(t)},cc=function(e,t){e&&(t?ac(t,e):e.parentNode&&e.parentNode.removeChild(e))},sc=function(e,t){return e[t]},fc=function(e,t,n){return n==Ye?dc(e,t):void(e[t]=n)},dc=function(e,t){e[t]=Ye},lc={preventUnCamel:qe,read:sc,write:fc,remove:dc},hc=function(e){var t={tagName:Pa(e),comment:We,text:We};return dn(e.attributes,function(e){var n=t.attributes=t.attributes||{};n[ro(e[ju])]=e.nodeValue}),t},vc=function(e){return{tag:We,comment:qe,text:We,content:e}},pc=function(e){return{tag:We,comment:We,text:qe,content:e}},mc=function(e,t,n){return t&&e.insertBefore&&e.insertBefore(t,n)},gc=function(e,t,n){var r;Ot(n)?mc(e,t,n):Mt(n)?(r=e[Bu],n=r[ce]>n?r[n]:We,n?mc(e,t,n):ac(e,t)):n||ac(e,t)},yc=function(e,t,n){var r=t[ju];n?(e.attrsA[r]=qe,e.accessB[r]=t.nodeValue):(e.attrsA[r]=qe,e.accessA[r]=t.nodeValue),e.hash[r]||(e.hash[r]=qe,e.list.push(r))},wc=function(e){return"text"===e?3:1},bc=function(e){return e[Me]&&uc.read(e,"is")!==We},Ac=function(e,t,n,r){var i,o,u=e.attributes,a=u.length,c=(i=bn(t[1])).length,s=Nr({length:Math.max(a,c)},function(e,n,r){var o;e.aLength>r&&yc(e,u[r]),e.bLength>r&&(o=i[r],yc(e,{localName:no(o),nodeValue:t[1][o]},qe))},{list:[],hash:{},attrsA:{},accessA:{},attrsB:{},accessB:{},aLength:a,bLength:c});e[Me];dn(s.list,function(e){s.accessA[e]!==s.accessB[e]&&(o=o||{},o[e]=s.accessB[e]===p?Ye:s.accessB[e])}),o&&n.updating.push(function(){var t,n;ln(o,function(e,t){ha[t]&&(delete o[t],n=n||{},n[t]=e)}),bc(e)?(t=r.returnsManager(e),bn(o)[ce]&&t.attr(o),n&&t.prop(n)):(ln(o,function(t,n){uc.write(e,no(n),t)}),ln(n,function(t,n){lc.write(e,no(n),t)}))})},xc=function(e,t,n,r,i){var o,u=e[2],a=e[3],c=r||0,s=i||0;a&&(o=Kn(a.group),a.key&&(t.ids[a.key]={virtual:e,level:c,index:s,group:o[ce]?o:Ye,el:n[a.key]})),dn(u,function(e,r){xc(e,t,n,c+1,r)})},kc=function(e,t,n,r){return St(t[2])?(e.innerHTML!==t[2]&&r.updating.push(function(){bc(e)?n.returnsManager(e).html(t[2]):e.innerHTML=t[2]}),qe):void 0},Ec=function(e,t,n,r,i){var o=g.createDocumentFragment();return dn(e,function(e){n.deltas.create(e,o,i)}),{parent:t,el:o,index:r}},Tc=function(e,t){return Jr.filter(e,function(e){var n=e[3];return n&&n.key?!t[n.key]:qe})},Cc=function(e,t,n,r,i,o,u){var a=e.childNodes,c=t[2];o.mutations,o.keys;if(kc(e,t,u,o))return o;var s,f,d,l=a&&a[ce],h=c&&c[ce],v=Math.max(l,h),p=0,m=0;if(!c||Mt(c))return o;for(;v>m&&!s;m++){if(m>=l)return o.inserting.push(Ec(Tc(Kn(c).slice(m),n),e,u,m,o.keys)),o;if(t[2]&&r(t)){if(m>=h)return d=qe,o.removing.push.apply(o.removing,Kn(a).slice(m)),o;f=Mc(a[m],c[m],n,r,i,m,o,u,e),f===We&&(o.removing.push(e),o.inserting.push(Ec([t],e,u,m+p,o.keys)))}}return o},Sc=function(e){var t={removing:[],updating:[],inserting:[],mutations:{remove:function(){return t.removing[ce]?(e.$(t.removing).remove(),qe):void 0},update:function(){dn(t.updating,function(e){e()})},insert:function(){if(t.inserting[ce]){t.inserting.sort(function(e,t){return e.index>t.index?1:-1});for(var n,r,i,o=[],u=t.inserting.slice(0);u[ce];)n=u.shift(),r===p?(r=n.index,i={index:n.index,el:e.createDocumentFragment(),parent:n.parent},o.push(i),ac(i.el,n.el)):n.parent===i.parent&&r+1===n.index?(ac(i.el,n.el),r=n.index):(u.unshift(n),r=p);return dn(o,function(t,n,r){e.returnsManager(t.parent).insertAt(t.el,t.index)}),qe}}},keys:{},ids:{},group:{},futureTree:{},futureHash:{}};return t},Mc=function(e,t,n,r,i,o,u,a,c){var s,f,d,l=!u,h=e,v=t,p=o||0,m=c,g=u||Sc(a),y=r||Wr,w=(g.keys,g.mutations,i||0),b=n||{},A=(v[ce],v[3]),x=Pa(h);if(l&&xc(v,g,b),x===v[0]&&h.nodeType===wc(v[0])){if(A&&(f=A.key)){if(s=b[f],d=g.ids[f],!s)return g.inserting.push(Ec([v],m,a,p,g.keys)),g;if(s===h)g.keys[f]=s;else{if(d.virtual[0]!==x)return g.removing.push(h),g.inserting.push(Ec([v],m,a,p,g.keys)),g.keys[f]=h,g;g.removing.push(h),d.parent=m,g.inserting.push(d),h=g.keys[f]=s}}return Ac(h,v,g,a),Cc(h,v,b,y,w+1,g,a)}return l&&Hr("at least the first node must match tagName and nodeType"),We},Oc=function(e,t,n){var r,i,o,u=t||ft;return r=hc(e),r.attributes&&r.attributes.is&&r.attributes.dataRenderer?{selfSufficient:qe}:u(e,r)?(i=e.childNodes,(o=i[ce])?(r.children=Nr(i,function(e,t){Nc(t)?e.push(Oc(t,u,n)):3===t.nodeType?e.push(pc(t.textContent)):n&&(8===t.nodeType?e.push(vc(t.textContent)):e.push({err:qe}))},[]),r):r):r},Dc=function(e,t){return t.is(ge)&&t.element().createDocumentFragment()},Nc=function(e){return!(!e||!Mt(e[Hu])||e[Hu]!==e.ELEMENT_NODE)},Ic=function(e){return e&&Mt(e[Hu])&&e[Hu]===e.DOCUMENT_NODE},Rc=function(e){return e&&e[Hu]===g.DOCUMENT_FRAGMENT_NODE},Lc=function(e){return jt(e)||Nc(e)||Ic(e)||Rc(e)},jc=function(e){return Kn(e.children||e.childNodes)},Bc=ut.Associator(),Pc=function(e,t){return kn(function(){t.push(e.join("")+" {")})},Hc=function(e){return kn(function(){e.push(" }\n")})},Vc=function(e,t,n,r){var i,o=t||[],u=n||[],a=ft,c=ft;return n&&(a=Pc(o,u)),r&&r(),i=Nr(e,function(e,t,n){var r,i=n.trim();Ot(t)?dn(Kn(i,x),function(n){i=n.trim(),o[ce]&&(i="&"!==i[0]?" "+i:i.slice(1)),a=Pc(o,e),o.push(i),Vc(t,o,e,c),o.pop()}):(a(),c=Hc(e),r=ro(i),dn(Ua[r]||[""],function(n){e.push("\n	"+n+no(r)+": "+qa(i,t)+";")}))},u),c(u),i.join("")};e.scope(function(e){var n=function(e,t){var n;return n=t===qe?Bc.get(e):t.data.get(e),n[Uu]||(n[Uu]=Vn(e,n,t)),n[Uu]},r=function(e,t){var n,r,i=(Ft({},t),e),o=Et(i);return o?n=i:(r=i.trim(),";"!==r[r[ce]-1]&&(r+=";"),r=i,n=Vr(function(){return new rt("helpers","_",Gn(r))})),function(e,t){return n.call(e,t,Jr)}},i=function(e,t,n){var i,o,u=n.templates=n.templates||lu();return Et(e)?r(e,n.templateSettings):(i=u.get(D,e))?i:(o=t||n.$("#"+e).html(),i=r(o,n.templateSettings),i.id=e,u.push(i),u.keep(D,e,i),i)},o=/^key/,u=/^(?:mouse|pointer|contextmenu)|click/,a=/^device/,c=/^webkitmouseforce/,s=m.Image,f=(function(){var e=4,t=qe,n=[],r=function(r){return function(){e--,r(),e||(dn(n,function(e){e(t)}),n=[])}};return dn(["UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA","UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==","UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==","UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"],function(e){var n=new s;n.onload=r(ft),n.onerror=r(function(){t=We}),n.src="data:image/webp;base64,"+e}),function(r){e&&t?n.push(r):r(t)}}(),function(e,t){var n=new s;return e=vr(e),t&&(n.onload=t),n.src=e,n}),d=We,l=function(e,t,n){var r=t||e;return function(e){var t=e.element(),i=d;d=qe,Ia[r]&&Et(t[r])?t[r]():Ze(e,r,n),d=i}},h=function(e,t){var n=e||t;l(n,t);return function(e,r,i){var o=this;return Et(e)||Et(r)?o.on(n,e,r,i):l(n,t,e)(o),o}},v=ut.StringManager,g=function(e,t,n){var r=Ln(e,t);return r.ensure(n===qe?y:n,w)},b=function(e,t){var n=e.getBoundingClientRect(),r=La(e,t.element()),i=E(r.marginTop),o=E(r.marginLeft),u=E(r.marginRight),a=E(r.marginBottom);return{height:n[Oe]+i+a,width:n[Se]+o+u,top:n[ke]-i,left:n[Ee]-o,right:n[Ee]+n[Se]+u,bottom:n[ke]+n[Oe]+a}},x=function(e,t){var n,r,i={};return Nc(e)?(r=La(e,t),n=k(e,t),{borderBottom:+r.borderBottomWidth||0,borderRight:+r.borderRightWidth||0,borderLeft:+r.borderLeftWidth||0,borderTop:+r.borderTopWidth||0,paddingBottom:+r.paddingBottom||0,paddingRight:+r.paddingRight||0,paddingLeft:+r.paddingLeft||0,paddingTop:+r.paddingTop||0,marginBottom:+r.marginBottom||0,marginRight:+r.marginRight||0,marginLeft:+r.marginLeft||0,marginTop:+r.marginTop||0,computedBottom:+r[Ce]||0,computedRight:+r[Te]||0,computedLeft:+r[Ee]||0,computedTop:+r[ke]||0,top:n[ke]||0,left:n[Ee]||0,right:n[Te]||0,bottom:n[Ce]||0,width:n[Se]||0,height:n[Oe]||0}):i},k=function(e){var t=Nc(e)?e.getBoundingClientRect():{};return{top:t[ke]||0,left:t[Ee]||0,right:t[Te]||0,bottom:t[Ce]||0,width:t[Se]||e.clientWidth||0,height:t[Oe]||e.clientHeight||0}},E=function(e,t){return+e.split(t||"px").join(y).trim()||0},C=function(e,t,n){var r,i;return Ot(e)?(i=Nc(e)?La(e,n):e,r=i[t]):r=e,St(r)&&(r=E(r)),r},S={":even":function(e,t){return t%2},":odd":function(e,t){return(t+1)%2}},M={"in":function(e,t,n,r){return e/96},vh:function(e,t,n,r){return e/n[Ne]*100},px:function(e,t,n,r){return e},cm:function(e,t,n,r){return e/37.79527559055118},vw:function(e,t,n,r){return e/n[Ie]*100},em:function(e,t,n,r){return e/C(t,aa,n)},mm:function(e,t,n,r){return e/3.779527559055118},vmin:function(e,t,n,r){var i=Math.min(n[Ne],n[Ie]);return e/i*100},rem:function(e,t,n,r){return e/C(n[ge][Ue][Vu],aa,n)},pt:function(e,t,n,r){return e/1.333333333333333},vmax:function(e,t,n,r){var i=Math.max(n[Ne],n[Ie]);return e/i*100},"%":function(e,t,n,r){var i=Nc(t)?t[Vu]:t,o=C(i,r,n);return e/o*100},pc:function(e,t,n,r){return e/16}},R={"in":function(e,t,n,r){return 96*e},vh:function(e,t,n,r){return n[Ne]*e/100},px:function(e,t,n,r){return e},cm:function(e,t,n,r){return 37.79527559055118*e},vw:function(e,t,n,r){return n[Ie]*e/100},em:function(e,t,n,r){return C(t,aa)*e},mm:function(e,t,n,r){return 3.779527559055118*e},vmin:function(e,t,n,r){return(Math.min(n[Ne],n[Ie])||1)*e/100},rem:function(e,t,n,r){return C(n[ge][Ue][Vu],aa)*e},pt:function(e,t,n,r){return 1.333333333333333*e},vmax:function(e,t,n,r){return(Math.max(n[Ne],n[Ie])||1)*e/100},"%":function(e,t,n,r){var i=Nc(t)?t[Vu]:t,o=C(i,r);return e*o/100},pc:function(e,t,n,r){return 16*e}},j=function(e,t,n){var r,i=this,o=(i.view,n||[]),u=e.length>elements.length?(r=e)&&t:(r=t)&&e;return Jr.foldl(u,function(e,t,n){var i=r[n],o=t.tagName,u=i.tagName;if(o===u){uc.read(t,"is"),uc.read(i,"is")}}),o},B=(Mn([1,3,8],qe),function(e,t,n,r){var i,o,u,a,c,s=t&&t.element(),f=t&&t.registeredElements,d=n,l=r,h=e;if(Ot(h)){if(l=h.children,d=h.attributes,i=qe,h=h.tagName,e.text)return P(e.content,t);if(e.comment)return H(e.content,t)}return o=f&&f[h],u=o===qe?h:o,u||Hr("custom tag names must be registered before they can be used"),a=s.createElement(u),o&&o!==qe&&uc.write(a,oa,h),c=t.returnsManager(a),i||d||l?(d&&c.attr(d),l?(St(l)?c.html(l):c.append(wn(l,t)),c):c):c}),P=function(e,t){return t.element().createTextNode(e)},H=function(e,t){return t.element().createComment(e)},V=function(e,t){var n=B(sa,t);return n.html(e),n.children().remove().toArray()},U=function(e,t){return V(e,t)[0]},F=function(e,t,n){var r=[];return r.concat.apply(r,n?Xn(n,t):e.map(t))},_=function(e,t){return ir(Nr(Kn(e,w),function(e,n){var r=B(n,t);return e.push(r),e},[]),Ye,Ye,Ye,t)},G=function(e,t){var n,r=e;return Rc(r)?n=r:(ir.isInstance(r)&&(r=r.toArray()),Zt(r)||(r=r&&Kn(r)),n=t.createDocumentFragment(),dn(r,function(e){var r,i=t.returnsManager(e),o=i.element();i.is(K)&&!i.is(Pu)&&(r=o[Vu],r&&!Rc(r)&&at([o],t),n[Gu](o))})),n},J=function(e){return function(t){var n=this;return t!==p?n.eachCall(e,t)&&n:n.results(e).join(y)}},Q=function(e,t){return Y(function(n,r){var i=[],o=n.toArray(),u=t||r;return u?n.duff(function(t){(traversal=t[e](u))&&add(i,traversal)}):i=o,i})},X=function(e){var t="data-",n=no(e),r=n.slice(0,5);return t!==r&&(n=t+n),n},Y=function(e){return function(t,n,r,i,o){var u=this,a=e(u,t,n,r,i,o),c=new ir[z](a,Ye,qe,Ye,u.context.owner);return c._previous=u,c}},Z=function(e,t){var n=k(e),r=n[Ce],i=n[Te],o=n[Ee],u=n[ke],a=t.x,c=t.y,s=We;return a>o&&i>a&&c>u&&r>c&&(s=qe),s},ee=function(e){return{x:e[Ee]+e[Se]/2,y:e[ke]+e[Oe]/2}},ie=function(e,t){var n=e.x-t.x,r=e.y-t.y;return Math.sqrt(n*n+r*r)},oe=function(e,t,n){return ie(e,t)<ie(e,n)},ae=function(e,t,n){var r,i,o,u,a=t.shift();return(St(t[0])||t[0]==Ye)&&(i=t.shift()),St(t[0])&&(t[0]=e[t[0]]),Et(t[0])?(r=t.shift(),o=t.shift(),St(o)?(u=o,o=We):o=!!o,u=t.shift(),n(e,a,i,r,o,u),e):this},se=function(e){return function(){var t,n=this,r=Kn(arguments),i=r.shift();return Ot(i)?(St(r[0])&&(t=r.shift()),ln(i,function(i,o){ae(n,[o,t,i].concat(r),e)}),n):(r.unshift(i),ae(n,r,e))}},fe=function(e,t,n){return e&&Ot(e)&&!jt(e)&&Mt(e.AT_TARGET)?e:{data:pt(e),type:n,bubbles:We,eventPhase:2,cancelable:We,defaultPrevented:We,isTrusted:We,timeStamp:Ut(),target:t}},de=function(e){var t=We,n=e.eventPhase;return 1===n&&(t=qe),t},le=Nr({resize:"resize,orientationchange",ready:"DOMContentLoaded",wheel:"wheel,mousewheel",deviceorientation:"deviceorientation,mozOrientation",fullscreenchange:"webkitfullscreenchange,mozfullscreenchange,fullscreenchange,MSFullscreenChange",hover:"mouseenter,mouseleave",forcewillbegin:"mouseforcewillbegin,webkitmouseforcewillbegin",forcechange:"mouseforcechange,webkitmouseforcechange",forcedown:"mouseforcedown,webkitmouseforcedown",forceup:"mouseforceup,webkitmouseforceup",force:"mouseforcewillbegin,webkitmouseforcewillbegin,mouseforcechange,webkitmouseforcechange,mouseforcedown,webkitmouseforcedown,mouseforceup,webkitmouseforceup"},function(e,t,n){e[n]=Kn(t)},{}),he=Nr(le,function(e,t,n){return dn(t,function(t){e[t]=n}),e},{}),ve=function(e,t,n){var r=n||[];return function(n){var i=n,o=-1!==lt(r,i);return o||r.push(i),e[i]&&!o?(dn(e[i],ve(e,t,r.slice(0))),r.pop(),qe):(t(i,r[0],r.slice(0)),void(o||r.pop()))}},pe=se(function(e,t,n,r,i,o){return Et(r)?Le(e,t,o,n,r,i):e}),ye=se(function(e,t,n,r,i,o){var u;return Et(r)&&Le(e,t,o,n,u=kn(function(){return Un(e,t,o,n,u,i),r.apply(this,arguments)}),i)}),we=se(function(e,t,n,r,i,o){return Et(r)?Un(e,t,o,n,r,i):e}),be={window:function(e){return e.owner.window()},document:function(e){return e.owner}},Le=function(e,t,n,r,i,o){var u,a=r,c=be[a]?(a="")||be[r](e):e,s=c.is(Wu),f=Kn(t,w),d=function(e,t,r){u=u||c.directive(pu),Ia[e]||c.mark(Fu),u.attach(e,{capturing:!!o,origin:c,handler:i,group:n,selector:a,passedName:t,domName:e,domTarget:c,nameStack:r})},l=ve(c.owner.events.expanders,d);return dn(f,function(e){l(e)&&d(e,e,[e])}),!s&&c.is(Fu)&&(Xt(c,qe),c.remark(Ru,it(c.element(),c.owner))),c},je=function(e){return this.insertAt(e,Ye)},Be=function(e){return this.insertAt(e,0)},He=function(e,t,n){var r=this.parent();return Gr.number(t)?this.insertAt(e,t):r.insertAt(e,r.children().indexOf(this))},Ve=function(e,t,n){var r=this.parent();return Gr.number(t)?this.insertAt(e,t+1):r.insertAt(e,r.children().indexOf(this)+1)},ze=function(e){return function(t,n){return uc[e](this.element(),t,n)}},$e=function(e,t){var n,r,i,o=y;return t.is(Lu)?(Ge(t),n=t.window(),n.is($u)&&(i=n.element(),r=i[ge],o=r.body?r.body[Vu].outerHTML:y)):t.is(K)&&(i=t.element(),o=i[e]),o},Fe=function(e,t,n,r){var i,o,u,a,c,s=t.owner;t.is(Lu)?(u=t.window(),Ge(t),u.is($u)&&(c=u.element(),o=c[ge],o.open(),ln(r,function(e,t){c[t]=e}),o.write(n),o.close(),a=qe)):t.is(K)&&(c=t.element(),e===Xu&&(i=t.$(fa).toArray()),c[e]=n||y,i&&i[ce]&&at(i,s),t.$(fa,c))},_e=function(e){return function(t,n){var r=this;return t===p?$e(e,r):(Fe(e,r,t,n),r)}},Ge=function(e,t){var n,r,i,o;e.remark(Lu,e.tagName===Lu),e.is(Lu)&&(o=t||e.element(),n=o.src,r=o.contentWindow,e.remark("windowReady",!!r),r&&(i=e.owner.returnsManager(r),i.iframe=e,Kt(i,r,n),e.cachedContent&&i.is($u)&&(e.html(e.cachedContent),e.cachedContent=Ye)))},Je=ut.Events[z][W][Re],Qe="runningEvent",Xe=function(e,t,n,r,i){var o=!!r;e.owner.mark(Qe);var u=fe(n,e.element(),t),a=Je.call(e,t,u,{capturing:o});return e.owner.remark(Qe,i),a},Ze=function(e,t,n){var r,i=e.element();return i.dispatchEvent&&(r=e.owner.window().element())&&i.dispatchEvent(new r.Event(t,Tt(n)?{}:n))},Ke={id:We,src:We,checked:We,disabled:We,classes:xe},et={play:"playing",pause:"paused"},tt=Kn("blur,focus,focusin,focusout,load,resize,scroll,unload,click,dblclick,mousedown,mouseup,mousemove,mouseover,mouseout,mouseenter,mouseleave,change,select,submit,keydown,keypress,keyup,error,contextmenu"),nt=tt.concat(Jr.keys(et),Jr.keys(Ke)),it=function(e,t,n){var r,i,o,u=t.returnsManager(e),a=n||u.element();if(r=u.is(Ru))return r;if(u.is(me))return qe;for(;!i&&a&&a[Vu];){if(o=a[Vu],Rc(o))return We;if(Ic(o))return qe;if(o[Me])return it(o,t);a=o}return We},ot=function(e,t){return function(n,r){var i=[];dn(n,function(e){var n=r.returnsManager(e);n.remark(Ru,t)&&n.is(K)&&n.is(Fu)&&i.push(n)}),kr(i,Re,e)}},at=ot("detach",We),ct=ot("attach",qe),st={set:function(e,t,n,r){e.refill(t===qe?[]:t),t===We&&e.mark(zu)},add:function(e,t){dn(t,e.add,e)},remove:function(e,t){dn(t,e.remove,e)},toggle:function(e,t,n){dn(t,function(t){e.toggle(t,n)})},change:function(e,t,n){this.remove(e,t),this.add(e,Kn(n,w))}},dt=function(e){return function(t,n){var r=e(t,n);return t.is(na)&&(t.unmark(na),t[Re](ta)),r}},ht=function(e,t,n,r,i,o,u){var a=e===Ae?xe:e,c=i||no,s=r,f=s.preventUnCamel?a:c(a),d=f===xe||f===ua,l=(d?(s=lc)&&(f=xe)&&xe:u)||f;return s=ha[ro(l)]?lc:uc,function(e,r){var i,u=e.element(),a=s.read(u,f),c=e,d=g(e,f,a);return"get"===o?(r||(c=a),c):(wr(t,n,function(e,t){var n=o||(t===qe?"add":t===We?Ju:"toggle");st[n](d,St(e)?e.split(w):e,t,a)}),d.changeCounter&&(d.is(zu)?(d.unmark(zu),s.remove(u,f),i=We):(i=d.generate(w),s.write(u,f,rc(i)),i===y&&(i=qe))),void(i!==a&&e.is(Fu)&&(e.mark(na),e[Re](ta+T+l,{previous:a,current:ic(i)}))))}},vt=function(e,t,n){return function(r){return function(i,o,u,a,c,s){return r(e(i,o,u,a||n,c,t,s),this)}}},mt=function(e,t,n,r){var i=Kn(t,w);return function(t){var n=t.element(),o=Ln(t,e),u=r.read(n,e);return o.ensure(u,w),un(i,function(e){var t=o.get(D,e);return t?!t.isValid():qe})}},gt=vt(ht,"set",uc),wt=vt(ht,"add",uc),bt=vt(ht,Ju,uc),At=vt(ht,"toggle",uc),kt=vt(ht,"change",uc),Ct=vt(ht,"get",uc),Dt=vt(mt,"has",uc),Nt=function(e,t,n){return function(r){return function(r,i,o){var u,a=this,c=St(r),s=c?o:i,f=c?i:Ye,d=t||s;return c&&f===p?(a=a.item(0),d.read(a.element(),n(r))):(u={},a.each(dt(yr(r,f,function(t,r,i,o){var a=u[t]=u[t]||e(t,r,Ye,d,n,Ot(r)?Ye:"set");a(i,o)}))),a)}}},It=Nt(ht,uc,no),Rt=Nt(ht,uc,X),Bt=Nt(ht,lc,ro),Pt=function(e,t){return t.each(e),t},Ht=function(e,t){return e(t.item(),0)},Vt=function(e,t){return!t.find(e)},qt=function(e,t,n){return function(r,i,o){return r.classList&&r.classList[e]&&!_t?t(r,i,o):n(r,Kn(r[xe]?r[xe]:[],w),i,o)}},Wt=function(e,t,n){var r,i=t;n&&(i==Ye&&(r=lt(e,n),i=-1===r),r=r===p?lt(e,n):r,i?-1===r&&e.push(n):-1!==r&&e.splice(r,1))},zt=Jr.add,$t=Jr.remove,_t=!!function(){var e=window.navigator.userAgent,t=e.indexOf("MSIE");return t>0?parseInt(e.substring(t+5,e.indexOf(".",t))):navigator.userAgent.match(/Trident\/7\./)?11:0}(),Gt={add:qt("add",function(e,t){e.classList.add.apply(e.classList,t)},function(e,t,n){dn(n,Dn(cn(zt,Ye,t))),e[xe]=t.join(w)}),remove:qt("remove",function(e,t){e.classList.remove.apply(e.classList,t)},function(e,t,n){dn(n,Dn(cn($t,Ye,t))),e[xe]=t.join(w)}),toggle:qt("toggler",ft,function(e,t,n,r){dn(n,Dn(cn(Wt,Ye,t,r))),e[xe]=t.join(w)}),contains:qt("contains",function(e,t){return!e.classList.contains.apply(e.classList,t)},function(e,t,n){return un(n,function(e){return!yt(t,e,qe)})}),change:qt("add",function(e,t,n){e.classList.remove.apply(e.classList,t),e.classList.add.apply(e.classList,Kn(n,w))},function(e,t,n,r){dn(n,Dn(cn($t,Ye,t))),dn(r,Dn(cn(zt,Ye,t))),e[xe]=t.join(w)})},Jt=function(e){return function(t,n){return function(r){return Gt[e](r.element(),t,n)}}},Qt=Nr(Nr(Kn("add,remove,toggle,change"),function(e,t){e[t]=function(e){return function(t,n){return this.each(e(Kn(t,w),n?Kn(n,w):p)),this}}},{has:function(e){return function(t){return!this.find(e(Kn(t,w)))}}}),function(e,t,n){e[n+"Class"]=t(Jt("has"===n?"contains":n))},{}),Xt=function(e,t,n){var r,i=e.is(K)&&uc.read(n||e.element(),oa);e.remark(Wu,t||!!i),e.is(Wu)&&!i&&(i=qe),r=e.is(K)&&Fa(n||e.element(),oa,i),i&&(e[ea]=i)},Yt=function(e,t,n){e.unmark(K),e.unmark(Lu),e.tagName=We,e.is(me)||e.remark(K,Nc(n))&&(e.tagName=Pa(n),e.owner=t,Ge(e,n),Xt(e,We,n))},Kt=function(e,t,n){var r;e.remark(me,jt(t)),e.is(me)&&e.owner&&(e.remark($u,r=!!Vr(function(){return t[ge]})),e.remark("topWindow",t===t.top),e.setAddress(),r&&(e.is("topWindow")||e.remark($u,e.sameOrigin())))},en=function(e,t,n){return Kt(e,n),Yt(e,t,n),e.unmark(ge),e.unmark(Pu),e.unmark(Ru),e.is(me)?void e.mark(Ru):(e.remark(ge,Ic(n)),e.remark(Pu,Rc(n)),e.is(ge)?void e.mark(Ru):e.is(Pu)?void e.unmark(Ru):void e.remark(Ru,it(e,t,n)))},tn=ut.DOMA_SETUP=function(e){var t,n,r,o,u,a=e,c=a[ge],s=Jn(c,qe),f=ut.Registry(),d=(Sn(le),0),l={},h={},v={},p=function(){return u=Ye,{x:0,y:0,z:0,motionX:0,motionY:0,motionZ:0,interval:1,rotationRate:0,alpha:0,beta:0,gamma:0,absolute:0}},m={update:function(e,t,n,r){var i;return ln(t,function(t,n){ha[n]?lc.write(e,no(n),t):uc.write(e,no(n),t)}),i=St(n)?e.innerHTML=n:dn(n,function(t){ac(e,m.create(t,e,r))}),e},create:function(e,t,n){var r,i;return"text"===e[0]?void(t.innerHTML+=e[1]):(i=c.createElement(e[0]),r=e[3],r&&r.key&&(n[r.key]&&Hr("can't have a non unique key at "+r.key),n[r.key]=i),t.appendChild(m.update(i,e[1],e[2],n)),i)},resetHtml:function(e,t,n){return function(){n.owner.returnsManager(e).html(t)}},removeNodes:function(e,t){return function(){var n=Jr.filter(e,function(e){return!Jr.find(t.keys,function(t,n){return t===e})});return n[ce]?dn(n,Dn(cc)):We}},addNodes:function(e,t,n,r){var i=c.createDocumentFragment();return dn(t,function(e){m.create(e,i,r)}),function(){return e.appendChild(i),qe}},updateAttribute:function(e,t,n){return function(){uc.write(e,t,n)}},replaceNode:function(e,t,r,i,o,u){var a=u,s=e[Vu];return a||(a=c.createDocumentFragment(),m.create(t,a,i)),function(){gc(s,a,e);e[Me]?n(e).remove():cc(e)}}};return s.is("setupComplete")?s.$:(s.remark("ie",_t),t=Cn(Na),r=function(e){s.DOMContentLoadedEvent=e,s.mark("ready")},n=function(e,t){var n=t||s;return ir(e,n,We,s===n,s)},o=Ft(Mn({createElements:_,createDocumentFragment:Dc,registeredElementName:_a,fragment:function(){return Jn(G(Ye,s),s)}},function(e){return function(t){return e(t,s)}}),Mn({makeTree:V,makeBranch:U,createElement:B,diff:j,ready:Qn},function(e){return function(t,n,r){return e(t,s,n,r)}}),{$:n,buildCss:Vc,nodeComparison:function(e,t,n,r){return Mc(e,t,n,r,Ye,Ye,Ye,s)},supports:{},deltas:m,registeredConstructors:h,registeredElementOptions:v,iframeContent:Ga,orderEventsByHeirarchy:qr(qe),data:ut.Associator(),document:s,devicePixelRatio:da,constructor:ir[z],registeredElements:t,templateSettings:{evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g},events:{custom:{},expanders:Sn(le),lists:Mn({base:va,svg:pa,keyboard:ma,gamepad:ga,composition:ya,mouse:wa,touch:ba,device:Aa,focus:xa,time:ka,animation:Ea,audioProcessing:Ta,ui:Ca,progress:Sa,all:Ma},Sn)},returnsManager:function(e){return e===s||e===s.element()?s:Jn(e,s)},expandEvent:function(e,t){var n=s.events.expanders;return dn(Kn(t,w),function(t){dn(Kn(e,w),function(e){n[e]=n[e]||[],-1===lt(n[e],t)&&n[e].push(t)})}),s},customEvent:function(e,t){return dn(Kn(e,w),function(e){s.events.custom[e]=t}),s},customAttribute:function(e){return e?"["+oa+'="'+e+'"]':fa},stashMotionEvent:function(e){u=e},motion:function(){var e,t,n,r;return u?d>=u.timestamp?l:(d=Ut(),e=u.originalEvent,t=e.acceleration||(n=e.accelerationIncludingGravity)&&{x:n.x-9.81,y:n.y-9.81,z:n.z-9.81},t&&Mt(t.x)&&(l.x=t.x,l.y=t.y,l.z=t.z,l.interval=e.interval,l.rotationRate=e.rotationRate,r=qe),e.alpha!=Ye&&(l.alpha=e.alpha,l.beta=e.beta,l.gamma=e.gamma,l.absolute=e.absolute,r=qe),r?l:p()):p()},plugin:function(e){return ur.push(e),dn(or,function(t){e(t)}),this},compile:function(e,t){return i(e,t,s)},collectTemplates:function(){return n("script[id]").each(function(e){i(e.prop(D),e.html(),s)}).remove()},unregisteredElement:function(e){f.keep(e.registeredElementName(),e[Me],e)},registerElement:function(e,n){var r=n||{},i=r["extends"],o=(r.events,r[W]);r.destruction,s.registeredElementName(e);return t[e]?Hr(t[e]===qe?"custom element names must not be used natively by browsers":"custom element names can only be registered once per document"):t[e]=i?t[i]:sa,r.creation=(i?Jr.flows(v[i].creation,r.creation||ft):r.creation)||ft,v[e]=r,h[e]=(i?h[i]||Vn:Vn).extend(to(ro(e)),Ft({},o)),this.document.is("ready")&&s.$(s.customAttribute(e)).each(s.returnsManager),h[e]},script:function(e,t,n){var r=(Iu(),s.createElement("script",t));return s.$("body").item(0).append(r),r.on({load:function(e){promise.resolve()},"error timeout cancel abort":function(){promise.reject()}}),r.attr({src:e||We,innerHTML:n||We}),promise}}),Ft(s,o),Ft(n,o),rn(s.supports,s),Qn(r,s),s.mark("setupComplete"),n)},nn=function(e,t,n,r){dn(Kn(t,w),function(t){e.addEventListener?(e.addEventListener(t,n),e.removeEventListener(t,n)):n(r)})},rn=function(e,t){var n=t.window(),r=n.element();e.deviceMotion=!!r.DeviceMotionEvent,e.deviceOrientation=!!r.DeviceOrientationEvent,e.motion=e.deviceMotion||e.deviceOrientation,nn(r,"deviceorientation devicemotion",function(t){t.alpha===Ye&&(e.motion=e.deviceMotion=e.deviceOrientation=We)},{alpha:Ye})},on=function(e,t,n){var r,i,o=this;return o[ce]()?St(e)&&t===p?(r=no(e),(o=o.item(0))&&(i=o.getStyle())&&((ti=un(Ua[ro(e)],function(e){return i[e+r]!==p}))?i[ti+r]:i[ti+r])):(o.each(dt(function(r){return $a(r.element(),e,t,n)})),o):o},an=Ct(Ht),fn=gt(Pt),hn=function(e){var t=this,n=t.element();return t.owner.$(ec(e,n,t),n)},vn=function(e){return e.isValidDomManager?e.is("element")||e.is("fragment"):Nc(e)||Rc(e)},pn=function(){var e;(e=this.window())&&(e.unmark($u),Ge(this))},mn=function(e,t,n,r,i,o){var u,a,c=r,s=jc(t),f=lt(s,n),d=i;if(o)for(c=c||1,u=n,d=Xa(d,e.owner);u&&!a;)u=s[f=f+=c],a=tc(u,d,t.owner);else u=n,u=s[f],u=s[f+c];return u&&e.owner.returnsManager(u)},gn=function(e,t,n){return function(e){var r,i,o=n,u=e||n,a=this,c=a.element(),s=c[t];if(!(r=St(u))&&t&&!s)return a.owner.returnsManager(s);if((i=c[Vu])||s)return mn(a,i,c,o,u,r)}},yn=function(e,t){var n=e.element();return(e.is(K)&&e.is(t?Fu:Wu)?[n]:[]).concat(ec(fa,n,e))},wn=function(e,t){var n=t.createDocumentFragment();if(!e)return n;var r=Fn(e),i=t.element();return ln(Kn(r),function(e){var r=i.createElement(e.tagName),o=wn(e.children,t);r.appendChild(o),ln(e.attributes,function(e,t){uc.write(r,no(t),e)}),n.appendChild(r)}),n},bn="isTrusted",An="fullscreen",xn={props:Kn("altKey,bubbles,cancelable,ctrlKey,currentTarget,eventPhase,metaKey,relatedTarget,shiftKey,target,timeStamp,view,which,x,y,deltaX,deltaY"),fixedHooks:{},keyHooks:{props:Kn("char,charCode,key,keyCode"),filter:function(e,t){var n;return e.which==Ye&&(n=t.charCode,e.which=n!=Ye?n:t.keyCode),e}},forceHooks:{props:[],filter:function(e,t){return e.value=(t.force||t.webkitForce)/3||0,e}},motionHooks:{props:[],reaction:function(e){e.origin.owner.stashMotionEvent(e)}},mouseHooks:{props:Kn("button,buttons,clientX,clientY,offsetX,offsetY,pageX,pageY,screenX,screenY,toElement"),filter:function(e,t){var n,r,i=t.button;return e.pageX==Ye&&t.clientX!=Ye&&(evntDoc=e.target.ownerDocument||n,n=evntDoc.documentElement,r=evntDoc[Ue],e.pageX=t.clientX+(n&&n.scrollLeft||r&&r.scrollLeft||0)-(n&&n.clientLeft||r&&r.clientLeft||0),e.pageY=t.clientY+(n&&n.scrollTop||r&&r.scrollTop||0)-(n&&n.clientTop||r&&r.clientTop||0)),e.movementX=t.movementX||0,e.movementY=t.movementY||0,e.layerX=t.layerX||0,e.layerY=t.layerY||0,e.x=t.x||0,e.y=t.y||0,e.which||i===p||(e.which=1&i?1:2&i?3:4&i?2:0),e}},make:function(e,t,n){var r,i,s,f,l=t.type,h=xn.fixedHooks[l],v=n.origin;if(h||(xn.fixedHooks[l]=h=u.test(l)?this.mouseHooks:o.test(l)?this.keyHooks:c.test(l)?this.forceHooks:a.test(l)?this.motionHooks:{}),f=h.props?this.props.concat(h.props):this.props,s=f[ce],dn(f,function(n){var r=t[n];r!=Ye&&(e[n]=r)}),e.originalType=l,i=e.target||(e.view?e.view.event.currentTarget:event&&event.currentTarget)||e.delegateTarget.element(),i||(i=e.target=r),3===i[Hu]&&(e.target=i[Vu]),(h.filter||ft)(e,t),l=he[t.type]||t.type,En.call(e,Fn(t.data),n.origin,l,Ye,e.timeStamp),e.type===An+L){if(r=e.target,jt(r))r=r[ge];else for(;r&&!Ic(r)&&r[Vu];)r=r[Vu];e.fullscreenDocument=r,Ic(r)&&e.remark(An,r.fullScreen||r.webkitFullscreenElement||r.mozFullScreenElement||r.fullscreenElement?qe:We)}e.target=v.owner.returnsManager(e.target),e.toElement&&(e.toElement=v.owner.returnsManager(e.toElement)),e.view&&(e.view=v.owner.returnsManager(e.view)),e[bn]=Jr.has(t,bn)?t[bn]:!d,(h.reaction||ft)(e,t)}},En=ut.ObjectEvent[z],Tn=ut.DomEvent=ut.ObjectEvent.extend("DomEvent",{AT_TARGET:1,constructor:function(e,t){var n=this;return Tn.isInstance(e)?e:(n.originalEvent=e,yt(e.target)&&yt(e.currentTarget)?n.delegateTarget=t.origin.owner.returnsManager(t.target):n.delegateTarget=t.origin,xn.make(n,e,t),n.capturing=t.capturing===p?de(n):t.capturing,n)},motion:function(){var e=this,t=e.origin.owner,n=t.motion();return n},preventDefault:function(){var e=this.originalEvent;this[Mu]=qe,e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this[Du]=qe,e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;
this[Nu]=qe,e&&e.stopImmediatePropagation&&e.stopImmediatePropagation(),this.stopPropagation()}}),On=function(e,t,n,r){var i=e.origin.element();i.removeEventListener?i.removeEventListener(t,n[r],r):i.detachEvent(t,n[r]),delete n[r]},Nn=ut.EventsDirective.extend("DomEventsDirective",{remove:function(e,t){var n=this,r=n.elementHandlers,i=e.name,o=r[i],u=o.capturing;e.remove(t),u?(--o[ia],o[ia]||On(t,i,o,u)):(t.selector&&o[ra]--,e[ce]()===o[ia]&&On(t,i,o,u))},add:function(e,t){for(var n,r,i,o,u,a,c=this,s=t.element,f=0,d=c.elementHandlers=c.elementHandlers||{},l=e.name,h=d[l],v=t.capturing,p=e.toArray(),m=t.origin.owner.events.custom;f<p[ce]&&!n;f++)i=p[f],n=t.capturing===t.capturing&&t.handler===i.handler&&i.group===t.group&&t.selector===i.selector&&t.passedName===i.passedName;if(!n&&(u=h,h||(h=d[l]={delegateCount:0,captureCount:0,events:c,currentEvent:Ye,capturing:v}),t.mainHandler=h,h[v]||(a=t.domTarget,o=h[v]=function(e){return Xe(a,e.type,e,v)}),t.capturing?(e.insertAt(t,h[ia]),++h[ia]):t.selector?(r=h[ra],++h[ra],r?e.insertAt(t,h[ia]+r):e.insertAt(t,h[ia])):e.toArray().push(t),dn(t.nameStack,function(e){t.fn=(m[e]||qr.first)(t.fn,e,t)||t.fn}),o))if(s=t.origin.element(),s.addEventListener)s.addEventListener(t.domName,o,v);else{if(v)return;s.attachEvent(t.domName,o)}},create:function(e,t,n,r){return Tn(t,{target:e.target,origin:e,capturing:r.capturing})},queue:function(e,t,n){return n[Du]&&n.currentTarget!==t.temporaryTarget?(n[Ou]=qe,We):(n.currentTarget=t.temporaryTarget,t.mainHandler.currentEvent=n,e.push(t),qe)},unQueue:function(e,t,n){return n.currentTarget=t.currentTarget=Ye,t.mainHandler.currentEvent=Ye,e.pop(),this},cancelled:function(e,t,n){var r,i,o,u=this;if(!e[ce]())return u;if(o=e.first(),r=o.mainHandler,i=r[ra],!i||n>i)return u;for(;i>=n;)o=e[n],o.temporaryTarget=Ye,++n;return u},nextBubble:function(e,t){var n,r=e.element();return!e.is(K)||r[Vu]?We:e.parent(function(t){return e.element()!==t&&t[Me]&&(n=e.owner.returnsManager(t),n.is(Fu))?[n,qe]:[t[Vu],We]})},subset:function(e,t){var n,r,i,o,u,a,c,s,f,d,l,h,v,p=0,m=0,g=[],y=t.origin;if(!e[ce])return[];if(d=e[0],l=d.mainHandler,v=l[ia],h=l[ra],t.capturing)return e.slice(0,v);if(y=t.origin,c=y.element(),o=t.target.element(),!h||o===c)return e.slice(v);for(u=v+h,p=v,s=e.slice(u),n=y.orderEventsByHeirarchy();u>p;)for(d=e[p],++p,f=d.selector,a=-1,r=o;!i&&r&&Nc(r)&&r!==c;){if(++a,tc(r,f,y.owner))if(i=r,d.temporaryTarget=i,d.parentNodeNumber=a,n)if(m=g[ce])for(;d&&g[--m];)g[m].parentNodeNumber<=d.parentNodeNumber&&(g.splice(m+1,0,d),d=Ye);else g.push(d);else g.push(d);r=r[Vu]}return g.concat(s)}}),In=function(e,t){for(var n=We,r=e;!r.is("topWindow")&&!n;)r=t.returnsManager(r.element().parent),r.iframe&&r.is($u)&&(n=!r.iframe.visible());return!n},Ln=function(e,t){var n=e.directive(ue),r=n[t]=n[t]||v();return r},jn=function(e,t,n){return function(r){var i,o,u=this[De](r);return u?(u.is(K)?i=k(u.element())[e]:u.is(ge)&&(o=u.element()[Ue])?i=o[t]:u.is(me)&&u.is($u)&&(i=u.element()[n]),i||0):0}},Bn=(e.extendDirective("Registry","History"),function(e,t,n){var r,i,o=e[ea];return e.is(Wu)?(r=e.owner.registeredElementName(o),i=e.owner.registeredConstructors[o],i||Hr("custom elements must be registered before they can be used"),e=new i[z](e,t,n)):e}),Pn=function(e,t){var n,r,i=this,o=i.is(zu)||We;return!o&&(n=i.element())&&(r=n[Vu])?(i.mark(zu),i.is(Lu)&&t&&Et(t)&&i.owner.window().element().setTimeout(cn(t,i,i)),cc(n,e),at([n],i.owner),i.remark(zu,o),i):i},Hn=function(){return[this]},Vn=ut[Uu]=ut.Events.extend(Uu,Ft({},Qt,{"directive:creation:EventManager":Nn,isValidDomManager:qe,$:hn,querySelectorAll:hn,orderEventsByHeirarchy:function(){return this.owner.orderEventsByHeirarchy},queryString:function(){var e="",t=this.toJSON(qe),n=t.attributes;return e+=t.tagName,n.id&&(e+="#"+n.id),n[Ae]&&(e+=A+n[Ae].split(w).join(A)),e},registeredElementName:function(){return this.owner.registeredElementName(this[ea])},attributes:function(e){var t,n,r=this,i=r.element(),o=i.attributes;return e?(n=sn(e,r),dn(o,function(e){n(e.nodeValue,e.localName)}),r):(t={},dn(o,function(e){t[e.localName]=e.nodeValue}),t)},hasValue:Dt(Vt),addValue:wt(Pt),removeValue:bt(Pt),toggleValue:At(Pt),changeValue:kt(Pt),on:pe,addEventListener:pe,once:ye,off:we,removeEventListener:we,append:je,appendChild:je,prepend:Be,insertBefore:He,insertAfter:Ve,getAttribute:an,setAttribute:fn,removeAttribute:ze(Ju),attr:It(Pt),data:Rt(Pt),prop:Bt(Pt),html:_e(Xu),text:_e(Zu),css:on,next:gn("next","nextElementSibling",1),prev:gn("prev","previousElementSibling",-1),skip:gn("skip",Ye,0),height:jn(Oe,"scrollHeight",Ne),width:jn(Se,"scrollWidth",Ie),siblings:function(e){var t=this,n=zn(e,t.owner);return t.parent().children(function(e,r,i){return e!==t&&n(e,r,i)})},element:function(){return this[re]},elements:function(){return[this.element()]},constructor:function(t,r,i){var o,u,a,c=i,s=this;return t||Hr("element must be an element"),Vn.isInstance(t)?(r[Uu]=s,Ft(s,t),u=c.registeredElementOptions[s[ea]],u.creation.call(s,s),s.on(u.events),s.on(I,u.destruction),s):(en(s,c,t),s.is(K)||s.is(Pu)?(r[Uu]=s,c=n(t.ownerDocument,qe),s.is(K)&&(s[Me]=t[Me])):(a=s.is(ge))?(c=s,s[Me]=o=t[Me]):(r[Uu]=s,s[Me]=e.counter("win")),s.owner=c||We,s[re]=t,s.is(Lu)&&s.on(ta+":src detach attach",pn),s.is(me)&&Kt(s,t),s.is(K)&&(uc.read(t,"is")||uc.write(t,"is",!0),s[ea]&&s[ea]!==qe&&(s=Vr(function(){return Bn(s,r,c)})||s),yt(s,ea)&&delete s[ea]),s)},clone:function(){var e=this;return e.is(K)?U(e.element()[Ku],e.owner):{}},length:function(){return 1},wrap:function(e){return this.owner.$(e||this)},unwrap:Hn,toArray:Hn,parent:function(){var e=function(e,t,n){for(var r,i,o=e,u=e.owner,a=o.element(),c=n;a&&!i;)r=t(a,n,c,u),a=r[0],i=r[1],c=r[2];return i&&a?u.returnsManager(a):void 0},t=function(e,t,n){return n-=1,(0>n||!Lt(n)||xt(n))&&(n=0),[e[Vu],!n,n]},n=function(e,t,n,r){var i=e[Vu],o=Xa(t,r);return[i,tc(i,o,r)]},r={document:function(e,t,n){var r=e[Vu];return Ic(r)?[r,qe]:Nc(r)?[r,We]:Rc(r)?[Ye,We]:void 0},window:function(e,t,n,r){var i,o=e[ca];return o?[o,qe]:(i=e[Vu])?[i,We]:[We,We]},iframe:function(e,t,n){var r,i=e,o=jt(e);return o?i===i.top?[Ye,We]:(r=Vr(function(){return i.frameElement}),[r,!!r]):[e[ca]]||e[Vu]}};return function(i){var o,u=this,a=We;return Mt(i)?o=t:St(i)?o=r[i]||n:a=i?qe:a,a?e(u,i):(o||(o=t,i=1),e(u,o,i))}}(),contains:function(e){var t,n,r=e,i=this;return jt(r)?We:St(r)?!!ec(r,i.element(),i)[ce]:r.isValidDOMA?!!r.find(i.contains,i):(n=i.owner.returnsManager(r),n.is(ge)?n.window()===i:(t=i.element(),!!n.parent(function(e){var n=e[Vu];return[n,n===t]})))},insertAt:function(e,t){var n=this,r=n.owner,i=vn(e)?r.returnsManager(e):r.$(e).fragment(),o=i.element(),u=t==Ye?Ye:n.children(),a=u&&u.item(t)||Ye,c=a&&a.element()||Ye,s=n&&n.element(),f=i.children(),d=yn(i,qe);at(d,r),s&&gc(s,o,c),it(s,r)&&ct(d,r);return f},window:function(){var e=this;return e.is(me)?e:e.is(ge)?e.returnsManager(e.element().defaultView):e.is(Lu)?e.is(Ru)&&(t=e.element().contentWindow)&&e.owner.returnsManager(t):e.owner.window()},setAddress:function(e){var t=this;return e=t.address=e||t.address||mr()},emit:function(e,t,n){var r,i=this.window(),o=i.element();return i.is($u)?(r=Fn(e),(n||Jc)({srcElement:o,timeStamp:Jr.now(),data:function(){return r}}),this):(Vr(function(){t?o.postMessage(e,t):Hr("missing referrer: "+i.address)}),this)},sameOrigin:function(){var e,t=this,n=t.element(),r=t.owner.window(),i=r.element();return r===t?qe:t.is($u)?(e=wo(Vr(function(){var e;return(e=t.parent("iframe"))?e.element().src||We:We})||n[Pe].href),!e&&t.iframe&&(e=wo(t.iframe.src())),!e||e===wo(i[Pe].href)):We},children:function(e,t){var n,r,i=this,o=jc(i.element());return e===p?t?(o=Xn(o,i.owner.returnsManager,i.owner))&&xr(t,"is",Pu)?t.append(o):t.push.apply(t,o)?t:t:i.wrap(o):(n=zn(e,i.owner),r=Nr(o,function(e,t,r,o){return n(t,r,o)&&e.push(i.owner.returnsManager(t)),e},t||[]),t?r:i.wrap(r))},visible:function(){var e,t,n,r,i,o,u,a=this;return a.is(Ru)?(n=a.getStyle(),0===+n.opacity||n.display===te||n[Oe]===O||n[Se]===O||n.visibility===ne?We:(t=a.element(),e=t.getBoundingClientRect(),e[Oe]&&e[Se]?(i=(a.element().ownerDocument||{}).defaultView)?(o=i[Ne],u=i[Ie],o<e.top||u<e.left||e.right<0||e.bottom<0?We:(r=a.owner.returnsManager(i),r.is("topWindow")?qe:In(r,a.owner))):qe:We)):We},hide:function(){return this.applyStyle(N,te)},show:function(){return this.applyStyle(N,"block")},applyStyle:function(e,t,n){return $a(this.element(),e,t,n),this},getStyle:function(e){var t={},n=this,r=n.element();return r&&n.is(K)&&(t=La(r,n.owner.element())),t},remove:Pn,removeChild:Pn,frame:function(e,t,n){var r=this,i=e||"";return n||!t&&"<!doctype "===i.slice(0,10).toLowerCase()||(i=r.owner.iframeContent(i,t)),r.is(Lu)?(r.is(Ru)?r.html(i):r.cachedContent=i,r):r},destroy:function(e){var t,n=this,r=n[ea],i=n.element();return n.is(qu)?n:(n.mark(qu),n.is(Lu)&&n.owner.data.remove(i.contentWindow),n.remove(Ye,e),r&&(t=n.owner.registeredElementName(r),n.directiveDestruction(t)),n[Re](I),n.directiveDestruction(pu),n.owner.data.remove(i),n[mu](),n)},item:function(){return this},each:function(e,t){var n=this,r=[n];t?e.call(t,n,0,r):e(n,0,r);return r},find:function(e){var t=this;return e(t,0,[t])?t:p},client:function(){return k(this.element())},box:function(e){return x(this.element(),e)},flow:function(e){return b(this.element(),e)},dispatchEvent:function(e,t,n){var r,i=d;return d=qe,Ze(this,e,n),d=i,r},toJSON:function(e){var t=this,n=(t.owner,t.element());return(t.is(me)||t.is(ge))&&Hr("cannot serialize documents and windows"),Oc(n,e===p?Wr:Et(e)?e:qr(e),qe)}},Mn(Ke,function(e,t){return e||(e=t),function(t){var n=this;return t!==p?n.attr(e,t):n.element()[e]}}),Mn(et,h),Mn(tt,function(e){return h(e)}),Mn(Kn("add,addBack,elements,push,fragment"),function(e){return function(t,n,r){return this.wrap()[e](t,n,r)}}))),Un=function(e,t,n,r,i,o){var u=r,a=be[u]?(u="")||be[r](e):e,c=a.directive(pu),s=function(e,t){return e.obliteration(function(e){t&&t!==e.passedName||i&&e.handler!==i||n&&e.group!==n||u&&e.selector!==u||c.detach(e)})};return t?dn(Kn(t,w),ve(a.owner.events.expanders,function(e,t){s(c[bu][e],t)})):ln(c[bu],Dn(s))},qn=Jr.eq,Wn=Jr.matches,zn=function(e,t){var n=e;return Et(n)?n:St(n)?S[n]||(n=Xa(n,t))&&function(e){return tc(e,n,t)}:Mt(n)?function(e,t){return t===n}:Ot(n)?Wn(n):function(){return qe}},$n=function(e){return function(t,n,r){return e(t.element(),n,r)}},_n=function(e,t,n){var r=zn(t,n);return Ka(e,$n(r))},Jn=function(e,t){return e&&!jt(e)&&e.isValidDomManager?e:n(e,t)},Qn=(Jr.publicize({isIE:_t,buildCss:Vc,covers:Z,center:ee,closer:oe,fetch:f,distance:ie,escape:_o,unescape:Go,box:x,isElement:Nc,isWindow:jt,isDocument:Ic,isFragment:Rc,unitToNumber:R,numberToUnit:M}),function(e,t){var n=cn(e,t),r=t.window(),i=function(e){t.off("DOMContentLoaded",i),r.off("load",i),t.$(fa).each(t.returnsManager),n(t.$,e)};return t.is("ready")?n(t.$,t.DOMContentLoadedEvent):(t.on("DOMContentLoaded",i),r.on("load",i)),t.mark("setup"),t}),Yn=function(e){return function(t,n,r,i,o,u){return this.each(function(a){a[e](t,n,r,i,o,u)})}},Zn=Kn(I+",show,hide,style,remove,on,off,once,addEventListener,removeEventListener,dispatchEvent").concat(nt),er=Kn("tag,element,client,box,flow"),tr=function(e){var t="tag"!==e;return function(n,r){var i=this.item(n);return i&&i[e](t?this.context:r)}},nr=Kn("isWindow,isElement,isDocument,isFragment"),rr=function(e){return function(t){var n=this.item(t);return n&&n[e]}},ir=ut.DOMA=ut.Collection.extend("DOMA",Ft({},Qt,{isValidDOMA:qe,constructor:function(e,t,n,r,i){var o=e,u=this,a=u.context=r?t.item(0):i,c=u.owner=i,s=a.element();if(e&&!jt(e)&&e.isValidDOMA)return e;if(Et(e)){if(Ic(s))return Qn(e,c).wrap()}else n||(St(e)?o="<"===e[0]?V(e,c):Xn(ec(e,s,a),c.returnsManager,c):(o=e,Vn.isInstance(o)?o=[o]:(lu.isInstance(o)&&(o=o.toArray()),o=Lc(o)?[c.returnsManager(o)]:o&&Xn(o,c.returnsManager,c)))),u.reset(o);return u},setValue:gt(Pt),hasValue:Dt(Vt),addValue:wt(Pt),removeValue:bt(Pt),toggleValue:At(Pt),changeValue:kt(Pt),add:Y(function(e,t){var n=e.owner.$(t);return Rn(e.toArray(),n.toArray())}),addBack:Y(function(e,t){var n=e._previous;return n?(t&&(n=n.filter(t)),e.toArray().concat(n.toArray())):e.toArray().concat([])}),wrap:function(){return this},push:function(){var e=this.context.owner;return this.items.push.apply(this.items,Nr(arguments,function(t,n){return n?(jt(n)?t.push(n):t=t.concat(!jt(n)&&Et(n.unwrap)?n.toArray():e.returnsManager(n)),t):t},[],e)),this},elements:function(){return this.results(K)},fragment:function(e){return this.context.returnsManager(G(e||this.toArray(),this.context))},filter:Y(function(e,t){return _n(e.toArray(),t,e.owner)}),empty:Y(function(e,t){var n=zn(t,e.owner);return Ka(e.toArray(),$n(function(e,t,r,i){return!n(t,r,i)&&t.remove()}))}),$:Y(function(e,t){var n=[],r=function(t){n.push(e.owner.returnsManager(t))};return dn(e.toArray(),function(e){dn(ec(t,e.element(),e),r)})&&n}),children:Y(function(e,t){return Nr(e.toArray(),function(e,n){return n.children(t,e)},[])}),css:on,allElements:function(){return!(!this[ce]()||un(this.toArray(),function(e){return!e.is(K)}))},height:jn(Oe,"scrollHeight",Ne),width:jn(Se,"scrollWidth",Ie),attr:It(Pt),data:Rt(Pt),prop:Bt(Pt),eq:Y(function(e,t){return qn(e.toArray(),t)}),end:function(){for(var e=this;e._previous;)e=e._previous;return e},getAttribute:an,setAttribute:fn,append:function(e,t){return this.insertAt(e,Ye,t)},prepend:function(e,t){return this.insertAt(e,0,t)},insertBefore:He,appendTo:function(e){return $(e).append(this),this},next:Q("next",1),prev:Q("prev",-1),skip:Q("skip",0),siblings:Y(function(e,t){return F(e,function(e){return e.siblings(t).toArray()})}),insertAt:function(e,t,n){var r=this,i=r.owner,o=vn(e)?this.context.returnsManager(e):i.$(e).fragment();return this.each(function(e){var r=o;n&&(r=r.clone()),e.insertAt(r,t)})},replaceWith:Y(function(e,t,n){var r,i,o=e.owner;return(r=St(element))||(i=vn(t)?o.returnsManager(t):o.$(t).fragment()),F(e,function(n,o){var u=t;if(!n.is(K))return[];if(r)u=e.owner.$(t);else if(Cn)u=i.clone();else if(o)return[];return parent=n.parent(),parent.insertAt(u,parent.children().indexOf(n)),n.remove(),u.toArray()})}),contains:function(e){return!!this.find(function(t){return t.contains(e)})},clone:Y(function(e){return e.foldl(function(e,t){return t.is(K)&&e.push(t.clone()),e})}),parent:Y(function(e,t){var n={};return e.foldl(function(e,r){var i;return(i=r.parent(t))&&!n[i.element()[Me]]&&(n[i.element()[Me]]=i,e.push(i)),e},[])}),has:function(e){var t=this,n=lu(e),r=n[ce]();return!!r&&n.find(function(e){return-1===t.indexOf(e)})},html:J(Qu),text:J(Yu),map:function(e,t){return lu(Xn(this.toArray(),e,t))},toJSON:function(){return this.results(q).toArray()},toString:function(){return pt(this)}},Mn(Zn,Yn),Mn(er,tr),Mn(nr,rr))),or=[],ur=[];e.undefine(function(e,t,n){var r=tn(t);return or.push(r),dn(ur,function(e){e(r)}),r.collectTemplates(),n.$=r,r}),e.defineDirective(ue,function(){return{}})}),e.scope(function(e){var t=ut.ElementWatcher=ut.Registry.extend("ElementWatcher",{watch:function(e,t){var n,r=this,i=e.__elid__,o=r.get("watchers",i)||{};o.count&&++o.count;e.on("resize",t),e.is("window")||o.id||r.keep("watchers",i,n={count:1,id:Jr.AF.queue(function(){var t=e.client();if(t.height!==n.height||t.width!==n.width)return n.height=t.height,n.width=t.width,n.blinking?void(n.blinking=We):void e.dispatchEvent("resize")})})},blink:function(e){var t;(t=elementWatcher.get("watchers",e.__elid__))&&(t.blinking=qe)},stop:function(e,t){var n=this.get("watchers",e.__elid__),r=e.directive("EventManager")||{},i=r.handlers||{},o=i.click||lu(),u=o.length();e.off("resize",t),n.id&&(u!==o.length()&&--n.count,n.count||Jr.AF.dequeue(n.id))}});e.defineDirective("ElementWatcher",t)}),e.scope(function(e){var t,n,r,i=0,o=0,u=0,a=Jr.pI,c=Jr.now,s=Kn("ms,moz,webkit,o"),f="running",d="halted",l="stopped",h="destroyed",v="Looper",g="Timeout",y="set"+g,w="clear"+g,b="AnimationFrame",A="request"+b,x=to(A),k="cancel"+b,E=[],C=[],S=(Jr.eachCall,Jr.time),M=(Jr.remove,We),O=qe,N=function(e){var i=Math.max(0,o-u);t=m[A](function(){O=qe,e()}),O||(n=m[y](e,i+1)),q.playWhileBlurred&&(r=m[y](function(){O=We,e()},i+50))},I=function(){u=Jr.now(),m[k](t),m[w](n),m[w](r);for(var i=e.DocumentManager,o=C.slice(0),a=i&&i.dependency&&i.dependency(),c=0;c<o[ce];c++)o[c].run(u);return L(),a&&a()},R=function(){M=qe,N(I)},L=function(){dn(C.slice(0),function(e,t){(e.is(d)||e.is(l)||e.is(h)||!e[ce]())&&(e.stop(),C.splice(t,1))}),M=We,C[ce]&&R()},j=function(e){E.push(e)},B=function(e){yt(C,e,qe)||C.push(e),M||R()},P=(function(){for(;i<s[ce]&&!m[A];++i)m[A]=m[s[i]+x],m[k]=m[s[i]+to(k)]||m[s[i]+"Cancel"+x];m[A]||(m[A]=function(e){var t=Ut(),n=Math.max(0,16-(t-o)),r=m.setTimeout(function(){e(t+n)},n);return o=t+n,r}),m[k]||(m[k]=function(e){m[w](e)})}(),function(e,t,n){e.current=t,t.filter(n)&&Vr(function(){t.fn(n)},function(){e.dequeue(t.id)})}),H=function(){return this.tween.lastRun},V=function(e,t){return e.drop(D,t.id),e.remove(t)},U=function(e,t){var n,r;return(n=e.sort())===(r=t.sort())?0:xt(n)?1:xt(r)?-1:r>n?-1:1},q=ut[v]=lu.extend(v,{constructor:function(){var e=this;return e.mark(l),e.unmark(d),e.unmark(h),e.unmark(f),e[z+T+uu](),j(e),e},destroy:function(){return this.mark(h),this.halt()},run:function(e){var t,n,r,i=0,o=this;if(!o.is(d)&&!o.is(l)&&o[ce]())for(o.lastRun=e,o.sort(U),t=o.toArray().slice(0),n=t[ce];n>i&&!r;i++)r=!o.is(d)&&P(o,t[i],e);o.current=Ye,o.unmark(f)},dequeue:function(e){var t,n=this,r=e;return r!==p||arguments[ce]?Mt(r)&&(t=n.get(D,r))?(V(n,t),qe):We:(n.current&&(r=V(n,n.current)),!!r)},stop:function(){return this.mark(l),this},start:function(){var e=this;return e.unmark(l),e.unmark(d),B(e),e},halt:function(){return this.mark(d),this.stop()},queue:function(t){var n,r=e.counter(We),i=this,o=t;return Et(o)&&(o={fn:i.bind(o)}),Ot(o)?(n=i[ce](),o.tween=i,o.sort=o.sort||H,o.filter=o.filter||Wr,o.id=r,i.push(o),i.keep(D,r,o),n=n?B(i):i.start(),r):void 0},bind:function(e){return sn(e,this)},once:function(e){return this.frames(1,e)},frames:function(e,t){var n,r=0,i=a(e)||1;return!t&&Et(i)&&(t=e,i=1),Et(t)?(n=this.bind(t),(1>i||!Mt(i))&&(i=1),this.queue(function(e){var t=We;r++,r>=i&&(this.dequeue(),t=qe),n(e,t,r)})):void 0},tween:function(e,t){var n,r=c(),i=S(e),o=this;if(Et(t))return n=o.bind(t),o.timeout(0,function(e){var t=We,u=e-r;u>=i&&(t=qe,o.dequeue()),n(e,Math.min(1,u/i),t)})},frameRate:function(e,t,n){var r,i=this,o=Math.min(n||.8,.8),u=30*o,a=1,s=c(),f=e||125;return Et(t)?(r=i.bind(t),i.queue(function(e){var t=1e3/(e-a);t>40&&(u=60*o),u>t&&(s=e),e-s>f&&(i.dequeue(),r(e)),a=e})):i},timeout:function(e,t){var n,r=this;if(Et(t))return n=r.bind(t),r.interval(e,function(e){r.dequeue(),n(e)})},interval:function(e,t){var n,r=t,i=this,o=S(e),u=Ut();if(Et(r))return Mt(o)||(o=0),n=i.bind(t),i.queue({filter:function(e){return e-o>=u},fn:function(e){u=e,n(e)},sort:function(){return u+o}})},defer:function(e,t){var n,r=this;return function(){var i=Kn(arguments);return r.dequeue(n),n=r.timeout(e,cn.apply(Jr,[t,this].concat(i)))}}});q.playWhileBlurred=qe,Jr.publicize({AF:q()})});var Uc=(Jr.AF,"RegionManager"),qc="DocumentView",Wc="DocumentManager",zc="renderLoop",$c=function(e){e.owner$||Hr("object needs an owner$ function to scope itself against a "+ge)};e.scope(function(e){var t=(Jr.protoProp,Jr.isFragment,Jr.isInstance),n=Jr.isFunction,r=(Jr.isArrayLike,Jr.intendedObject,"render"),i=r+"ing",o=r+"ed",u="modelId",a="established",c="constructor",s="bufferedViews",f="that region does not exist",d="invalid key passed for region name",l=function(e){return Hr("an element does not exist at "+e)},h=ut.Parent,v=ut.Model,m=function(e,t){var n,r,i,o,a=t,s=e.directive(Au);return(o=S.isInstance(t))?(r=s.get(u,t.model.id))?r:t:(n=v.isInstance(a))?(r=s.get(u,a.id))?r:void 0:(i=e.childConstructor())({model:i[c][W].Model(t)})},g=function(e,t,n){var r,i=e[Au];return t[ae]=Ye,i.remove(t),r=t.model,i.drop("viewCid",t.cid),i.drop("modelCid",r.cid),i.drop(u,r.id),n},b=ut.Region=h.extend("Region",{attributes:qr(We),childConstructor:function(){var e=this;return e.Child===qe?e[ae][ae].childConstructor():e.Child},constructor:function(e){var t=this;return t["super"].call(t,e),$c(t),t.directive(Au),t.setElement(),t},add:function(e,t,n){var r=this,i=lu(e).foldl(function(e,t){var n;(n=r.adopt(t))&&e.push(n)},[]);return r.el&&r.render(n),i},adopt:function(e){var t,n,r=this,i=r[Au];if(!e)return We;if(n=m(r,e),n[ae]){if(n[ae]===r)return We;g(n[ae],n,r)}return n[ae]=r,i.attach(n),t=n.model,i.keep("viewCid",n.cid,n),i.keep("modelCid",t.cid,n),i.keep(u,t.id,n),n},buffer:function(e){var t,n,r=this,i=e.el&&e.el.element(),o=r.el.element(),u=e.parentElement(r);return i?(t=i.parentNode,t&&t===u||(u===o?(n=r.directive(s),n.els.append(i)):r.owner$(u).append(i)),r):r},setElement:function(){var t=this,n=t[Z],r=t[ae][ae],i=r[ae]&&r[ae][ae]===e?r.$(n).item(0):r.owner$.returnsManager(r.directive(q).hashed[n]);return i?(t.directive(q).set(i),t):l(n)},render:function(e){var t=this,n=t.directive(s),i=t.directive(q),u=e||ft;return t.unmark(o),n.ensure(),t[Re](B+r),t.setElement(),u(t)?t[Au].each(t.buffer,t):t[Au].eachCall(r,u),i.el.append(n.els),t[Re]("buffered"),t.mark(o),n.reset(),t[Re](r),t}}),A=function(e,t){var n=e.directive(Uc);if(t||!n.is(a)){var r=e.directive(q);return n.mark(a),r.renderEl(),r.diff(),r.renderTemplate(),e}},x=gr(function(e,t){var n,r=this,i=r.directive(Uc);return A(r),(n=i.get(e))?n.add(t):Hr(f)}),k=gr(function(e,t){var n,r=this.directive(Uc);return r.is(a)&&((n=r.get(e))?n.remove(t):Hr(f))}),E=Ko(Uc,"add"),T=Ko(Uc,"get"),C=Ko(Uc,"remove"),S=ut.View=h.extend("View",{Model:v,modifiers:ft,getRegion:T,addRegion:E,removeRegion:C,addChildView:x,removeChildView:k,tagName:qr("div"),template:qr(We),canRenderAsync:qr(We),getChildViews:function(e){return this.getRegion(e).directive(Au)},getChildView:function(e,t,n){return this.getChildViews(e).directive("Registry").get(t,n)},parentElement:function(e){return e.el.element()},childrenOf:function(e){return this.directive(Uc).get(e).directive(Au)},parentView:function(){for(var e,t=this,n=t[ae];!e&&n;)n=n[ae],S.isInstance(n)&&(e=n);return e},bindModel:function(e){var t=this,n=xr(t,"modelEvents");t.model=v.isInstance(e)?e:t.Model(e),t.listenTo(t.model,n),t.autoRenders()&&t.listenTo(t.model,L,t.render)},autoRenders:qr(qe),constructor:function(t){var n=this,r=t||{};return n.id=e.counter(We,qe),n.bindModel(r.model),delete r.model,h[c].call(n,r),n.directive(q).ensure(),n},valueOf:function(){return this.model.valueOf()},destroy:function(e){var t=this;return t.is(V)?t:(t[Re](H),t.mark(V),t[Uc]&&t[Uc].list.eachCall(I),t.el&&t.el.destroy(e),t.directiveDestruction(q),h[c][W].destroy.call(t),t)},render:function(e){var t,o=this;return o.mark(i),t=o.directive(q),o[Re](B+r),o[Uc]&&o[Uc].list.eachCall(r,n(e)?e:Wr),A(o,qe),t=o[ae]&&o[ae].buffer(o),o}}),M=(ut.View,function(){var e=this;e.els&&e.els.is(Pu)?1:e.resetEls()}),O=function(){var e=this.views;return this.resetEls(),e},N=function(){this.els=this.region.owner$.fragment()},R=ut[Uc]=ut.Directive.extend(Uc,{constructor:function(e){var t=this;return t.parent=e,t.list=lu(),t},create:function(e,n){var r=this,i=r[ae],o=n,u=n;return t(u,b)?u:(u=b(Ft({selector:o||y,owner$:i.owner$},Ot(u)?u:{},{id:e,key:n,parent:r})),r.list.push(u),r.list.keep(D,e,u),u)},establish:gr(function(t,n){t||Hr(d);var r,i,o=this,u=o[ae],a=o.list.get(D,t),c=u[ae];a||(a=o.create(t,n)),c&&c[ae]===e?(r=u.el.$(n)[De](0),r||l(n)):(i=u.directive(q),i=i.hashed[a[Z]],i||l(n),r=u.owner$.returnsManager(i)),a.el||(a.el=r)}),remove:function(e){},add:gr(function(e,t){var n=this,r=n.list.get(D,e);r||n.establish(e,t)}),get:function(e){return this.list.get(D,e)}}),j=ut[s]=ut.Directive.extend(s,{constructor:function(e){var t=this;return t.region=e,this.resetEls(),t},reset:O,ensure:M,resetEls:N}),P=ut[qc]=ut.Model.extend(qc,{regions:ft,addRegion:E,getRegion:T,removeRegion:C,removeChildView:k,addChildView:gr(function(e,t){var n=this.directive(Uc),r=n.get(e);t.render(),r.add(t,Ye,Wr)}),render:function(e){var t=this;return t.directive(Uc).list.eachCall(r,e),t},constructor:function(e){var t=this;return Ft(t,e),t},chunk:function(e,t){var n=this.parent,r=n.modifications,i=r.get(D,e),o=i||{id:e,fn:t,counter:0};i&&(i.counter+=1),r.keep(D,e,o),r.push(o),n.checkRenderLoop()}}),U=ut[Wc]=ut.Model.extend(Wc,{checkRenderLoop:function(){this.get(zc)||this.modify()},dependency:function(){var e=this;return e.set(zc,e.get(zc)+1),function(){e.set(zc,e.get(zc)-1),e.checkRenderLoop()}},modify:function(){var e,t=this,n=t.modifications;n.length()&&(n=n.slice(0),t.modifications=lu(),e=t.dependency(),t.mark("writing"),n.eachCallTry("fn"),t.unmark("writing"),e())},constructor:function(e){var t=this;return t.parent=e,t.documents=lu(),t.modifications=lu(),this["constructor:Model"](),t},getByDocument:function(e){return this.documents.find(function(t){return t.el.element()===e})},defaults:function(){return{renderLoop:0}}}),q=to(K),z=function(e,t){return this[Re](e,t.data(),{instigator:t})},$=function(e,t,n){var r="delegateEvents"+e,i=lt(n,"@"),o=-1!==i;return{selector:o?F(n.slice(i),t):y,group:r,events:o?n.slice(0,i).trim():n}},F=function(e,t){return e.replace(/@ui\.[a-zA-Z_$0-9]*/g,function(e){return t[e.slice(4)]})},_=ut.Directive.extend(q,{constructor:function(e){return this.view=e,this},ensure:function(){var e,t=this,n=t.view,r=t[Z]||xr(n,"el");r&&(t[Z]=r),ut.DOMA.isInstance(r)||(e=St(r)?r:t.create(n.tagName()),t.set(e))},create:function(e){return this.view.owner$.createElement(e)},unset:function(){var e=this;delete e.view.el,delete e.el},set:function(e){var t=this;t.view.el=t.el=e},diff:function(){var e=this,t=e.el,r=e.view,i=t.element(),o=r.model&&r.model.toJSON()||{},u=e.virtual=[r.tagName(),e.attributes(),r.template(o,xr(r,"helpers")||{})],a=r.owner$.nodeComparison(i,u,e.hashed,sn(e.comparisonFilter,e)),c=(e.hashed=a.keys,e.mutations=a.mutations,e.modifiers=Ft({remove:ft,update:ft,insert:ft},n(c=r.modifiers())?{insert:c}:c))},comparisonFilter:function(e){var t=this.view.directive(Uc),n=e[3]||{},r=n.key;return!r||!t.get(D,r)},delta:function(){var e,t=this,n=(t.view,t.mutations),r=t.modifiers,i=We;return t.mutations?(delete t.mutations,delete t.modifiers,e=n.remove()||i,e=r.remove()||e,e=n.update()||e,e=r.update()||e,e=n.insert()||e,r.insert()||e):We},renderEl:function(){var e=this,t=e.view,n=t.el,r=n!==e.el;r&&e.unset(),!r&&t.is(o)||(e.degenerateUIBindings(),e.undelegateEvents(),e.undelegateTriggers(),e.set(n),e.generateUIBindings(),e.delegateEvents(),e.delegateTriggers())},setState:function(){var e,t,n,u=this,a=u.view;return a.unmark("asyncRendering"),a.owner$.documentView.chunk(a.cid,ft),(e=u.delta())&&u.bindUI(),a.unmark(i),a.mark(o),t=xr(a,"regions"),n=bn(t)[ce]&&a.RegionManager.establish(t),a[Re](r),u},renderTemplate:function(){var e=this,t=e.view;return t.el.is("attached")&&t.canRenderAsync()?(t.mark("asyncRendering"),t.owner$.documentView.chunk(t.cid,sn(e.setState,e))):e.setState(),e},degenerateUIBindings:function(){var e=this;return e.ui?(e.ui=e.view.ui=e.uiBindings,void delete e.uiBindings):Ye},generateUIBindings:function(){var e=this,t=e.uiBindings||xr(e.view,"ui");e.ui=e.ui||{};return e.uiBindings?e:(e.uiBindings=t,e)},delegateEvents:function(){var e=this,t=e.view,n=e.el,r=e.elementBindings||xr(t,"elementEvents"),i=[];return e.elementBindings&&(e.elementBindings=r),n?(e.cachedElementBindings=Xn(r,function(r,o){var u=n,a=$(t.cid,e.uiBindings,o),c=a.fn=sn(St(r)?t[r]:r,t);i.push(a),u.on(a.events,a[Z]||Ye,c,a.capture,a.group)}),e.cachedElementBindings=i,e):e},undelegateEvents:function(){var e=this,t=(e.view,e.el),n=e.cachedElementBindings;return n&&t?(dn(n,function(e){t.off(e.events,e[Z]||Ye,e.fn)}),e.cachedElementBindings=p,e):e},delegateTriggers:function(){var e=this,t=e.view,n=e.el,r=e.elementTriggers||xr(t,"elementTriggers"),i=[];return e.elementTriggers||(e.elementTriggers=r),n?(ln(r,function(r,i){var o=$(t.cid,e.uiBindings,i),u=o.fn=fn(z,[t,r]);n.on(o.events,o[Z],u,o.capture,o.group)}),e.cachedElementTriggers=i,e):e},undelegateTriggers:function(){var e=this,t=(e.view,e.el),n=e.cachedElementTriggers;return e.cachedElementTriggers&&t?(dn(n,function(e){t.off(e.events.join(w),e[Z],e.fn)}),e.cachedElementTriggers=p,e):e},attributes:function(){return xr(this.view,"attributes")},bindUI:function(){var e=this,t=e.uiBindings;return e.ui=e.view.ui=t?Xn(t,e.el.$,e.el):{},e}});e.defineDirective(Wc,U[c]),e.defineDirective(Uc,R[c]),e.defineDirective(s,j[c]),e.defineDirective(q,_,function(e,t){e.el.destroy(),e.unset();var n=e.ui;e.degenerateUIBindings(),kr(n,"destroy")}),e.undefine(function(e,t,n){var r=t[ge],i=e.directive(Wc),o=i.documents,u=o.get(D,r[Me]);u&&Hr("document has already been setup");var a=n.$,c=(a.document,b.extend({owner$:a})),s=S.extend({owner$:a}),f=n.scopedFactories={Region:c,View:s};u=P({$:a,owner$:a,id:r[Me],el:a.returnsManager(r),parent:i,factories:f}),a.documentView=u,o.push(u),o.keep(D,u.id,u)})});var Fc={},_c="version",Gc=_c.toUpperCase(),Jc=function(t){var n,r=t.data(),i=r.postTo;if(!t.busted&&!e.isDestroyed&&r&&i&&(e[Gc]===r[_c]||"*"===r[_c])&&(n=(Fc[r.group]||{})[r.postTo])){t.busted=qe;var o,u=r.runCount,a=n.directive(Au);if(u){if(o=a.get(D,r.messageId),!o)return;n.response(o,r)}else n.receive(r)}};Jc.app=e,e.scope(function(e){var t="%7B",n="isLate",r="documentReady",i="deferred",o="resolved",u="is"+to(i),a="group",c="postTo",s="command",f="runCount",d="flushing",l="connect",h=l+"ed",v="dis"+h,m="initialize",g="response",w="message",b=to(g),A="latest"+b,x="last"+b,k="responded",E=k+"With",C="received",S=B+k,M=B+C,O="sentMessageIndex",N="receiveReferrer",I="emitReferrer",R="buster",L="packet",j=function(e,t){var n=pt(e);return t.emitWindow.emit(n,t.get(I))},P=mr(),H="respondHandlers",V=ut.Model.extend(to(w),{idAttribute:qr(w+"Id"),initialize:function(){var e=this;e[H]=[],e.once(g,e.saveReceived),e.on(i,e.saveDeferred)},saveReceived:function(e){this.responseEventObject=e},saveDeferred:function(e){this.deferredEventObject=e},packet:function(e){var t=this;return arguments[0]?t.set(L,e||{}):t=Sn(t.get(L)),t},defaults:function(){return{command:Ye+y,packet:{}}},response:function(e){var t=this;return Et(e)?(t.get(E)?e.call(t,t.responseEventObject):t.once(g,e),t):t},deferred:function(e){var t=this,n=t.get(A);return t.on(i,e),n&&n.isDeferred&&e.call(t,t.deferredEventObject),t},send:function(){return this[ae].flush()}}),U={message:Jc},q=function(e){return un(Fc,function(t){return un(t,function(t,n,r){return e===t&&delete r[n]})})},W=function(){var e=this;e.connectPromise&&e.connectPromise.reject(),e.unmark(h),e[Re](v),e.connectPromise=Jr.Promise()},$=function(e){var t=this,r=t.directive(Eu);r.get(n)&&r.set(O,1),t.respond((e.message||e.origin).id),t.mark(h),t[Re](h)},F=to(R),_=function(t){return{from:t.get(D),postTo:t.get(c),group:t.get(a),version:e[Gc],messageId:t.directive(Au)[ce](),timeStamp:Jr.now()}},G=ut[F]=ut.Model.extend(F,{Child:V,bounce:function(e){return this.respond(e.message.id)},connected:function(){return this.connectPromise.success(arguments),this},response:function(e,t){var n=e[Eu];n&&(n.set(A,t),e.is(o)?e[Re](i,t.packet):(n.set(E,t),e.mark(o),e[Re](g,t.packet)))},receive:function(e){var t,n=this,r=n.receiveHistory;return e.originMessageId=e.messageId,e.messageId=r.length(),e.isDeferred=We,t=V(e),r.push(t),r.keep(D,e.messageId,t),n[Re](M),n[Re](C+T+e.command,e.packet,{message:t}),n[Re](C),n},setGroup:function(){var e=this,t=e.get(a),n=e.get(D),r=(q(e),Fc[t]=Fc[t]||{});return r[n]=e,e},defineWindows:function(e,t){var n=this,i=n.directive(Eu);e&&e.is(me)&&(n.receiveWindow=e.on(U),n.mark(r),n.flush()),t&&t.is(me)&&(n.emitWindow=t,i.set(c,i.get(c)||n.emitWindow.address))},defineIframe:function(e){var t,n=this;e&&e.is(Lu)&&(n[Lu]=e,e.is(Ru)&&(t=e.window())&&n.defineWindows(Ye,t),e&&n.setupIframe())},setupIframe:function(){var e,n=this,r=n[Lu],i=n.directive(Eu),o=n.receiveWindow.element().location.href.split(t),u=(o.shift(),o.unshift(y),o.join(t)),s=xo(i.get(N)||u).origin,f=i.get(Lu+"Src"),d=i.get(Lu+"Content"),l={postTo:n.id,useTop:!1,useParent:!0,emitReferrer:s,id:i.get(c),group:i.get(a)};i.set(N,s),f&&(e=i.set(I,Jr.reference(f)),
l[N]=e),f&&r.src(vr({url:f,hash:l})),d&&(r.data(R,encodeURI(pt(l))),r.html(d),n.begin(m))},stripData:function(){var e,n,r,i=this,o=i.receiveWindow;o&&o.is(me)&&(r=o.element().location.hash.slice(1),e=r.split(t),n=e.shift(),e.unshift(y),r=e.join(t),i.set(Fn(decodeURI(r||Vr(function(){return o.parent(Lu).data(R)})))))},constructor:function(e,t,r,i){var o=this;$c(o);var u=r||{},a=o.owner$(e).item(0),c=o.owner$(t).item(0);return u.id=u.id===p?mr():u.id,o.receiveHistory=ut.Collection(),W.call(o),u.group=P,o[z+T+"Model"](u),o.on(h,function(e){var t=o.directive(Au).first();o.connectPromise.fulfill(t),o.flush()}),o.on({"received:update":"bounce","received:unload":"destroy",destroy:W,"received:initialize received:connect":$,"change:group change:id":"setGroup"}),o.on(i),o.setGroup(),a&&a.is(me)&&o.defineWindows(a),c.is(me)?o.defineWindows(Ye,c):o.defineIframe(c),o.get("strip")&&o.stripData(),o.set(O,0),o[Lu]?o.get(n)&&o.begin(m):o.begin(l),o},flush:function(){var e,t,n,i,o=this,u=o.directive(Eu),a=u.get(O),c=o.is(h),v=u.get("initedFromPartner"),g=u.get(d);if(!o.is(r))return o;if(!v||c&&(c||!a)&&!g){for(u.set(d,qe),t=o.directive(Au),n=t[ce](),i=t.item(a);i&&n>a;)i.directive(Eu).set(f,0),a||c?(i=t.item(a),a=u.get(O)+1||0,u.set(O,a),j(i,o)):(n=p,e=i.get(s),e!==l&&e!==m||j(i,o));o.set(d,We),o.is(h)&&t[ce]()>o.get(O)&&o.flush()}return o},create:function(e,t,n){var r=this,i=r.add(Ft({command:e,packet:t},_(r),n));return i.item(0)},sync:function(e){return this.create("update").response(e).send()},respond:function(e,t){var n,r,i,o=this,a=o.receiveHistory.get(D,e);return a?(o[Re](S),n=a.directive(Eu),n.set(f,(n.get(f)||0)+1),r=Ft(qe,xr(o,"package")||{},t),i=Ft(_(o),{from:a.get(c),postTo:a.get("from"),messageId:a.get("originMessageId"),isResponse:qe,isDeferred:a.get(u),runCount:a.get(f),command:a.get(s),timeStamp:Jr.now(),packet:r,version:a.get(_c)}),n.set(x,i.timeStamp),n.set(u,qe),o.set(x,i.timeStamp),j(i,o),o[Re](k,r),o):o},begin:function(e){var t=this,n=t.directive(Au);return n.item(0)||t.create(e).response(function(e){$.call(t,e)}).send()}});G.receivePostMessage=Jc,e.undefine(function(e,t,n){var r=e.directive(Wc),i=r.documents.get(D,t[ge][Me]),o=i.$,u=i.factories,a=(t.top,t.parent);u[F]=G.extend({owner$:o}),Vr(function(){for(var t,n=a;n!==t&&e.global.touch(n);)i.$(n).on(w,Jc),t=n,n=n.parent})})}),e.scope(function(e){var t,n,r,i,o,u,a,c,s,f,d,l,h,v,m,g,y,b,A,x=0,k="expected",E=" not",T=" to equal ",C=" to evaluate to ",S=" an error",M=" to be thrown",O=" to be strictly equal to ",D=function(e,t,i){return function(o){var u,a={};return i&&(r=r()),u=e(r,o),u!==qe&&u!==We&&Hr("expectation results from the maker method must be of type boolean."),u?(m.push(a),a.success=qe):(++x,a=new Error(t.call(this,r,o)),a.message=a.toString(),a.success=We,g.push(a)),l.push(a),a.tiedTo=A,n=We,u}},N={not:{}},I=function(e){return n?Hr("expectations cannot be nested or be running at the same time"):(n=qe,r=e,N)},R=I.maker=function(e,t,n,r,i){N[e]=D(t,n,i),N.not[e]=D(It(t),r,i)},L=(R("toThrow",function(e){var t=We;return Vr(e,function(){t=qe},function(){return t})},function(){return k+S+M},function(){return k+S+E+M}),R("toBe",function(e,t){return e===t},function(e,t){return k+w+pt(e)+O+pt(t)},function(e,t){return k+w+pt(e)+E+O+pt(t)}),R("toEqual",function(e,t){return Tn(e,t)},function(e,t){return k+w+pt(e)+T+pt(t)},function(e,t){return k+w+pt(e)+E+T+pt(t)}),R("toEvaluateTo",function(e,t){return Tn(e,t)},function(e,t){return k+w+"function"+C+pt(t)},function(e,t){return k+w+"function not"+C+pt(t)},qe),function(e){return function(t){e.erred=t,Pr.error(t)}}),j=function(e){var n;e.endTime=Jr.performance.now(),f.pop(),x||e.erred?(s.push(e),e.promise.reject(e.err)):(c.push(e),e.promise.fulfill()),x=0,V(e.afterStack),t=We,d[0]&&(n=d.shift(),clearTimeout(n.runId),P(n)),F()},B=function(e,t){var n=Iu();return a.push(n),f.push(e),y.push([]),b.push([]),Vr(t,ft,function(){b.pop(),y.pop(),f.pop()}),n},P=function(e){t=qe,e.runId=setTimeout(function(){var n,r,i,o,u,a=e.current.slice(0);A=e,t=qe,V(e.beforeStack),i=L(e),1===e.handler[ce]?(o=new Error,e.timeoutId=setTimeout(function(){Pr.error("timeout:\n"+a.join("\n")),n(o),j(e)},5e3),r=function(){e.handler(function(){clearTimeout(e.timeoutId),j(e)})},n=i,i=function(t){n(t),j(e)},u=ft):(r=e.handler,u=function(){j(e)}),e.startTime=Jr.performance.now(),Vr(r,i,u)})},H=function(e,n){var r,i;return f.push(e),r=f.slice(0),f.pop(),i={string:e,handler:n,current:r,afterStack:b.slice(0),beforeStack:y.slice(0),promise:Iu()},u.push(i),t?d.push(i):P(i),i.promise},V=function(e){var t,n,r;for(t=0;t<e[ce];t++)for(r=e[t],n=0;n<r[ce];n++)r[n]()},U=function(e){y[y[ce]-1].push(e)},q=function(e){b[b[ce]-1].push(e)},W=function(){o=p,Jr.each(a,function(e){e.resolve()}),i=0,a=[],u=[],c=[],s=[],f=[],d=[],l=[],h=[],v=[],m=[],g=[],y=[],b=[],t=We,n=We},z=function(e,t){for(var n,r,i=t||"\n",o=e.slice(0);o.length;)n=o.shift(),r=r?r+i+n:n,i+="    ";return r},$=function(e){return{passed:m[ce],failed:g[ce],total:l[ce],duration:e,tests:Xn(l,function(e){var t=e.tiedTo,n=z(t.current);return{name:e.success?n:n+"\n",duration:0,result:e.success,message:e.message}})}},F=function(){o=void 0===o?setTimeout(function e(){var n,r,i=0,a=0;if(t)o=setTimeout(e,500);else{for(;i<u[ce];i++)n=u[i],a+=n.endTime-n.startTime;g[ce]&&(Pr.log("failed"),dn(g,function(e){Pr.log(e)})),r=m[ce]+" successful expectations\n"+g[ce]+" failed expectations\n"+l[ce]+" expectations ran\n"+c[ce]+" out of "+u[ce]+" tests passed\nin "+a+"ms",Cr=$(a),W(),Er(_,Cr),Pr.log(r,Cr)}},100):o},_=[],G=function(e){_.push(e)};W(),Jr.publicize({test:{afterEach:q,beforeEach:U,expect:I,describe:B,it:H,finished:G}})})});